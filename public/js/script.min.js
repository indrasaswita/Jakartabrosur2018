(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){(function(global){"use strict";var objectAssign=require("object-assign");function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=require("util/");var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};function strict(value,message){if(!value)fail(value,true,message,"==",strict)}assert.strict=objectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual});assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"object-assign":16,"util/":4}],2:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],3:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],4:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":3,_process:29,inherits:2}],5:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],6:[function(require,module,exports){},{}],7:[function(require,module,exports){(function(process,Buffer){"use strict";var assert=require("assert");var Zstream=require("pako/lib/zlib/zstream");var zlib_deflate=require("pako/lib/zlib/deflate.js");var zlib_inflate=require("pako/lib/zlib/inflate.js");var constants=require("pako/lib/zlib/constants");for(var key in constants){exports[key]=constants[key]}exports.NONE=0;exports.DEFLATE=1;exports.INFLATE=2;exports.GZIP=3;exports.GUNZIP=4;exports.DEFLATERAW=5;exports.INFLATERAW=6;exports.UNZIP=7;var GZIP_HEADER_ID1=31;var GZIP_HEADER_ID2=139;function Zlib(mode){if(typeof mode!=="number"||mode<exports.DEFLATE||mode>exports.UNZIP){throw new TypeError("Bad argument")}this.dictionary=null;this.err=0;this.flush=0;this.init_done=false;this.level=0;this.memLevel=0;this.mode=mode;this.strategy=0;this.windowBits=0;this.write_in_progress=false;this.pending_close=false;this.gzip_id_bytes_read=0}Zlib.prototype.close=function(){if(this.write_in_progress){this.pending_close=true;return}this.pending_close=false;assert(this.init_done,"close before init");assert(this.mode<=exports.UNZIP);if(this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW){zlib_deflate.deflateEnd(this.strm)}else if(this.mode===exports.INFLATE||this.mode===exports.GUNZIP||this.mode===exports.INFLATERAW||this.mode===exports.UNZIP){zlib_inflate.inflateEnd(this.strm)}this.mode=exports.NONE;this.dictionary=null};Zlib.prototype.write=function(flush,input,in_off,in_len,out,out_off,out_len){return this._write(true,flush,input,in_off,in_len,out,out_off,out_len)};Zlib.prototype.writeSync=function(flush,input,in_off,in_len,out,out_off,out_len){return this._write(false,flush,input,in_off,in_len,out,out_off,out_len)};Zlib.prototype._write=function(async,flush,input,in_off,in_len,out,out_off,out_len){assert.equal(arguments.length,8);assert(this.init_done,"write before init");assert(this.mode!==exports.NONE,"already finalized");assert.equal(false,this.write_in_progress,"write already in progress");assert.equal(false,this.pending_close,"close is pending");this.write_in_progress=true;assert.equal(false,flush===undefined,"must provide flush value");this.write_in_progress=true;if(flush!==exports.Z_NO_FLUSH&&flush!==exports.Z_PARTIAL_FLUSH&&flush!==exports.Z_SYNC_FLUSH&&flush!==exports.Z_FULL_FLUSH&&flush!==exports.Z_FINISH&&flush!==exports.Z_BLOCK){throw new Error("Invalid flush value")}if(input==null){input=Buffer.alloc(0);in_len=0;in_off=0}this.strm.avail_in=in_len;this.strm.input=input;this.strm.next_in=in_off;this.strm.avail_out=out_len;this.strm.output=out;this.strm.next_out=out_off;this.flush=flush;if(!async){this._process();if(this._checkError()){return this._afterSync()}return}var self=this;process.nextTick(function(){self._process();self._after()});return this};Zlib.prototype._afterSync=function(){var avail_out=this.strm.avail_out;var avail_in=this.strm.avail_in;this.write_in_progress=false;return[avail_in,avail_out]};Zlib.prototype._process=function(){var next_expected_header_byte=null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflate(this.strm,this.flush);break;case exports.UNZIP:if(this.strm.avail_in>0){next_expected_header_byte=this.strm.next_in}switch(this.gzip_id_bytes_read){case 0:if(next_expected_header_byte===null){break}if(this.strm.input[next_expected_header_byte]===GZIP_HEADER_ID1){this.gzip_id_bytes_read=1;next_expected_header_byte++;if(this.strm.avail_in===1){break}}else{this.mode=exports.INFLATE;break}case 1:if(next_expected_header_byte===null){break}if(this.strm.input[next_expected_header_byte]===GZIP_HEADER_ID2){this.gzip_id_bytes_read=2;this.mode=exports.GUNZIP}else{this.mode=exports.INFLATE}break;default:throw new Error("invalid number of gzip magic number bytes read")}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:this.err=zlib_inflate.inflate(this.strm,this.flush);if(this.err===exports.Z_NEED_DICT&&this.dictionary){this.err=zlib_inflate.inflateSetDictionary(this.strm,this.dictionary);if(this.err===exports.Z_OK){this.err=zlib_inflate.inflate(this.strm,this.flush)}else if(this.err===exports.Z_DATA_ERROR){this.err=exports.Z_NEED_DICT}}while(this.strm.avail_in>0&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&this.strm.next_in[0]!==0){this.reset();this.err=zlib_inflate.inflate(this.strm,this.flush)}break;default:throw new Error("Unknown mode "+this.mode)}};Zlib.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===exports.Z_FINISH){this._error("unexpected end of file");return false}break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:if(this.dictionary==null){this._error("Missing dictionary")}else{this._error("Bad dictionary")}return false;default:this._error("Zlib error");return false}return true};Zlib.prototype._after=function(){if(!this._checkError()){return}var avail_out=this.strm.avail_out;var avail_in=this.strm.avail_in;this.write_in_progress=false;this.callback(avail_in,avail_out);if(this.pending_close){this.close()}};Zlib.prototype._error=function(message){if(this.strm.msg){message=this.strm.msg}this.onerror(message,this.err);this.write_in_progress=false;if(this.pending_close){this.close()}};Zlib.prototype.init=function(windowBits,level,memLevel,strategy,dictionary){assert(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])");assert(windowBits>=8&&windowBits<=15,"invalid windowBits");assert(level>=-1&&level<=9,"invalid compression level");assert(memLevel>=1&&memLevel<=9,"invalid memlevel");assert(strategy===exports.Z_FILTERED||strategy===exports.Z_HUFFMAN_ONLY||strategy===exports.Z_RLE||strategy===exports.Z_FIXED||strategy===exports.Z_DEFAULT_STRATEGY,"invalid strategy");this._init(level,windowBits,memLevel,strategy,dictionary);this._setDictionary()};Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")};Zlib.prototype.reset=function(){this._reset();this._setDictionary()};Zlib.prototype._init=function(level,windowBits,memLevel,strategy,dictionary){this.level=level;this.windowBits=windowBits;this.memLevel=memLevel;this.strategy=strategy;this.flush=exports.Z_NO_FLUSH;this.err=exports.Z_OK;if(this.mode===exports.GZIP||this.mode===exports.GUNZIP){this.windowBits+=16}if(this.mode===exports.UNZIP){this.windowBits+=32}if(this.mode===exports.DEFLATERAW||this.mode===exports.INFLATERAW){this.windowBits=-1*this.windowBits}this.strm=new Zstream;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(this.err!==exports.Z_OK){this._error("Init error")}this.dictionary=dictionary;this.write_in_progress=false;this.init_done=true};Zlib.prototype._setDictionary=function(){if(this.dictionary==null){return}this.err=exports.Z_OK;switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=zlib_deflate.deflateSetDictionary(this.strm,this.dictionary);break;default:break}if(this.err!==exports.Z_OK){this._error("Failed to set dictionary")}};Zlib.prototype._reset=function(){this.err=exports.Z_OK;switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=zlib_inflate.inflateReset(this.strm);break;default:break}if(this.err!==exports.Z_OK){this._error("Failed to reset stream")}};exports.Zlib=Zlib}).call(this,require("_process"),require("buffer").Buffer)},{_process:29,assert:1,buffer:9,"pako/lib/zlib/constants":19,"pako/lib/zlib/deflate.js":21,"pako/lib/zlib/inflate.js":23,"pako/lib/zlib/zstream":27}],8:[function(require,module,exports){(function(process){"use strict";var Buffer=require("buffer").Buffer;var Transform=require("stream").Transform;var binding=require("./binding");var util=require("util");var assert=require("assert").ok;var kMaxLength=require("buffer").kMaxLength;var kRangeErrorMessage="Cannot create final Buffer. It would be larger "+"than 0x"+kMaxLength.toString(16)+" bytes";binding.Z_MIN_WINDOWBITS=8;binding.Z_MAX_WINDOWBITS=15;binding.Z_DEFAULT_WINDOWBITS=15;binding.Z_MIN_CHUNK=64;binding.Z_MAX_CHUNK=Infinity;binding.Z_DEFAULT_CHUNK=16*1024;binding.Z_MIN_MEMLEVEL=1;binding.Z_MAX_MEMLEVEL=9;binding.Z_DEFAULT_MEMLEVEL=8;binding.Z_MIN_LEVEL=-1;binding.Z_MAX_LEVEL=9;binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;var bkeys=Object.keys(binding);for(var bk=0;bk<bkeys.length;bk++){var bkey=bkeys[bk];if(bkey.match(/^Z/)){Object.defineProperty(exports,bkey,{enumerable:true,value:binding[bkey],writable:false})}}var codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR};var ckeys=Object.keys(codes);for(var ck=0;ck<ckeys.length;ck++){var ckey=ckeys[ck];codes[codes[ckey]]=ckey}Object.defineProperty(exports,"codes",{enumerable:true,value:Object.freeze(codes),writable:false});exports.Deflate=Deflate;exports.Inflate=Inflate;exports.Gzip=Gzip;exports.Gunzip=Gunzip;exports.DeflateRaw=DeflateRaw;exports.InflateRaw=InflateRaw;exports.Unzip=Unzip;exports.createDeflate=function(o){return new Deflate(o)};exports.createInflate=function(o){return new Inflate(o)};exports.createDeflateRaw=function(o){return new DeflateRaw(o)};exports.createInflateRaw=function(o){return new InflateRaw(o)};exports.createGzip=function(o){return new Gzip(o)};exports.createGunzip=function(o){return new Gunzip(o)};exports.createUnzip=function(o){return new Unzip(o)};exports.deflate=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Deflate(opts),buffer,callback)};exports.deflateSync=function(buffer,opts){return zlibBufferSync(new Deflate(opts),buffer)};exports.gzip=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Gzip(opts),buffer,callback)};exports.gzipSync=function(buffer,opts){return zlibBufferSync(new Gzip(opts),buffer)};exports.deflateRaw=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new DeflateRaw(opts),buffer,callback)};exports.deflateRawSync=function(buffer,opts){return zlibBufferSync(new DeflateRaw(opts),buffer)};exports.unzip=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Unzip(opts),buffer,callback)};exports.unzipSync=function(buffer,opts){return zlibBufferSync(new Unzip(opts),buffer)};exports.inflate=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Inflate(opts),buffer,callback)};exports.inflateSync=function(buffer,opts){return zlibBufferSync(new Inflate(opts),buffer)};exports.gunzip=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Gunzip(opts),buffer,callback)};exports.gunzipSync=function(buffer,opts){return zlibBufferSync(new Gunzip(opts),buffer)};exports.inflateRaw=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new InflateRaw(opts),buffer,callback)};exports.inflateRawSync=function(buffer,opts){return zlibBufferSync(new InflateRaw(opts),buffer)};function zlibBuffer(engine,buffer,callback){var buffers=[];var nread=0;engine.on("error",onError);engine.on("end",onEnd);engine.end(buffer);flow();function flow(){var chunk;while(null!==(chunk=engine.read())){buffers.push(chunk);nread+=chunk.length}engine.once("readable",flow)}function onError(err){engine.removeListener("end",onEnd);engine.removeListener("readable",flow);callback(err)}function onEnd(){var buf;var err=null;if(nread>=kMaxLength){err=new RangeError(kRangeErrorMessage)}else{buf=Buffer.concat(buffers,nread)}buffers=[];engine.close();callback(err,buf)}}function zlibBufferSync(engine,buffer){if(typeof buffer==="string")buffer=Buffer.from(buffer);if(!Buffer.isBuffer(buffer))throw new TypeError("Not a string or buffer");var flushFlag=engine._finishFlushFlag;return engine._processChunk(buffer,flushFlag)}function Deflate(opts){if(!(this instanceof Deflate))return new Deflate(opts);Zlib.call(this,opts,binding.DEFLATE)}function Inflate(opts){if(!(this instanceof Inflate))return new Inflate(opts);Zlib.call(this,opts,binding.INFLATE)}function Gzip(opts){if(!(this instanceof Gzip))return new Gzip(opts);Zlib.call(this,opts,binding.GZIP)}function Gunzip(opts){if(!(this instanceof Gunzip))return new Gunzip(opts);Zlib.call(this,opts,binding.GUNZIP)}function DeflateRaw(opts){if(!(this instanceof DeflateRaw))return new DeflateRaw(opts);Zlib.call(this,opts,binding.DEFLATERAW)}function InflateRaw(opts){if(!(this instanceof InflateRaw))return new InflateRaw(opts);Zlib.call(this,opts,binding.INFLATERAW)}function Unzip(opts){if(!(this instanceof Unzip))return new Unzip(opts);Zlib.call(this,opts,binding.UNZIP)}function isValidFlushFlag(flag){return flag===binding.Z_NO_FLUSH||flag===binding.Z_PARTIAL_FLUSH||flag===binding.Z_SYNC_FLUSH||flag===binding.Z_FULL_FLUSH||flag===binding.Z_FINISH||flag===binding.Z_BLOCK}function Zlib(opts,mode){var _this=this;this._opts=opts=opts||{};this._chunkSize=opts.chunkSize||exports.Z_DEFAULT_CHUNK;Transform.call(this,opts);if(opts.flush&&!isValidFlushFlag(opts.flush)){throw new Error("Invalid flush flag: "+opts.flush)}if(opts.finishFlush&&!isValidFlushFlag(opts.finishFlush)){throw new Error("Invalid flush flag: "+opts.finishFlush)}this._flushFlag=opts.flush||binding.Z_NO_FLUSH;this._finishFlushFlag=typeof opts.finishFlush!=="undefined"?opts.finishFlush:binding.Z_FINISH;if(opts.chunkSize){if(opts.chunkSize<exports.Z_MIN_CHUNK||opts.chunkSize>exports.Z_MAX_CHUNK){throw new Error("Invalid chunk size: "+opts.chunkSize)}}if(opts.windowBits){if(opts.windowBits<exports.Z_MIN_WINDOWBITS||opts.windowBits>exports.Z_MAX_WINDOWBITS){throw new Error("Invalid windowBits: "+opts.windowBits)}}if(opts.level){if(opts.level<exports.Z_MIN_LEVEL||opts.level>exports.Z_MAX_LEVEL){throw new Error("Invalid compression level: "+opts.level)}}if(opts.memLevel){if(opts.memLevel<exports.Z_MIN_MEMLEVEL||opts.memLevel>exports.Z_MAX_MEMLEVEL){throw new Error("Invalid memLevel: "+opts.memLevel)}}if(opts.strategy){if(opts.strategy!=exports.Z_FILTERED&&opts.strategy!=exports.Z_HUFFMAN_ONLY&&opts.strategy!=exports.Z_RLE&&opts.strategy!=exports.Z_FIXED&&opts.strategy!=exports.Z_DEFAULT_STRATEGY){throw new Error("Invalid strategy: "+opts.strategy)}}if(opts.dictionary){if(!Buffer.isBuffer(opts.dictionary)){throw new Error("Invalid dictionary: it should be a Buffer instance")}}this._handle=new binding.Zlib(mode);var self=this;this._hadError=false;this._handle.onerror=function(message,errno){_close(self);self._hadError=true;var error=new Error(message);error.errno=errno;error.code=exports.codes[errno];self.emit("error",error)};var level=exports.Z_DEFAULT_COMPRESSION;if(typeof opts.level==="number")level=opts.level;var strategy=exports.Z_DEFAULT_STRATEGY;if(typeof opts.strategy==="number")strategy=opts.strategy;this._handle.init(opts.windowBits||exports.Z_DEFAULT_WINDOWBITS,level,opts.memLevel||exports.Z_DEFAULT_MEMLEVEL,strategy,opts.dictionary);this._buffer=Buffer.allocUnsafe(this._chunkSize);this._offset=0;this._level=level;this._strategy=strategy;this.once("end",this.close);Object.defineProperty(this,"_closed",{get:function(){return!_this._handle},configurable:true,enumerable:true})}util.inherits(Zlib,Transform);Zlib.prototype.params=function(level,strategy,callback){if(level<exports.Z_MIN_LEVEL||level>exports.Z_MAX_LEVEL){throw new RangeError("Invalid compression level: "+level)}if(strategy!=exports.Z_FILTERED&&strategy!=exports.Z_HUFFMAN_ONLY&&strategy!=exports.Z_RLE&&strategy!=exports.Z_FIXED&&strategy!=exports.Z_DEFAULT_STRATEGY){throw new TypeError("Invalid strategy: "+strategy)}if(this._level!==level||this._strategy!==strategy){var self=this;this.flush(binding.Z_SYNC_FLUSH,function(){assert(self._handle,"zlib binding closed");self._handle.params(level,strategy);if(!self._hadError){self._level=level;self._strategy=strategy;if(callback)callback()}})}else{process.nextTick(callback)}};Zlib.prototype.reset=function(){assert(this._handle,"zlib binding closed");return this._handle.reset()};Zlib.prototype._flush=function(callback){this._transform(Buffer.alloc(0),"",callback)};Zlib.prototype.flush=function(kind,callback){var _this2=this;var ws=this._writableState;if(typeof kind==="function"||kind===undefined&&!callback){callback=kind;kind=binding.Z_FULL_FLUSH}if(ws.ended){if(callback)process.nextTick(callback)}else if(ws.ending){if(callback)this.once("end",callback)}else if(ws.needDrain){if(callback){this.once("drain",function(){return _this2.flush(kind,callback)})}}else{this._flushFlag=kind;this.write(Buffer.alloc(0),"",callback)}};Zlib.prototype.close=function(callback){_close(this,callback);process.nextTick(emitCloseNT,this)};function _close(engine,callback){if(callback)process.nextTick(callback);if(!engine._handle)return;engine._handle.close();engine._handle=null}function emitCloseNT(self){self.emit("close")}Zlib.prototype._transform=function(chunk,encoding,cb){var flushFlag;var ws=this._writableState;var ending=ws.ending||ws.ended;var last=ending&&(!chunk||ws.length===chunk.length);if(chunk!==null&&!Buffer.isBuffer(chunk))return cb(new Error("invalid input"));if(!this._handle)return cb(new Error("zlib binding closed"));if(last)flushFlag=this._finishFlushFlag;else{flushFlag=this._flushFlag;if(chunk.length>=ws.length){this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH}}this._processChunk(chunk,flushFlag,cb)};Zlib.prototype._processChunk=function(chunk,flushFlag,cb){var availInBefore=chunk&&chunk.length;var availOutBefore=this._chunkSize-this._offset;var inOff=0;var self=this;var async=typeof cb==="function";if(!async){var buffers=[];var nread=0;var error;this.on("error",function(er){error=er});assert(this._handle,"zlib binding closed");do{var res=this._handle.writeSync(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore)}while(!this._hadError&&callback(res[0],res[1]));if(this._hadError){throw error}if(nread>=kMaxLength){_close(this);throw new RangeError(kRangeErrorMessage)}var buf=Buffer.concat(buffers,nread);_close(this);return buf}assert(this._handle,"zlib binding closed");var req=this._handle.write(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);req.buffer=chunk;req.callback=callback;function callback(availInAfter,availOutAfter){if(this){this.buffer=null;this.callback=null}if(self._hadError)return;var have=availOutBefore-availOutAfter;assert(have>=0,"have should not go down");if(have>0){var out=self._buffer.slice(self._offset,self._offset+have);self._offset+=have;if(async){self.push(out)}else{buffers.push(out);nread+=out.length}}if(availOutAfter===0||self._offset>=self._chunkSize){availOutBefore=self._chunkSize;self._offset=0;self._buffer=Buffer.allocUnsafe(self._chunkSize)}if(availOutAfter===0){inOff+=availInBefore-availInAfter;availInBefore=availInAfter;if(!async)return true;var newReq=self._handle.write(flushFlag,chunk,inOff,availInBefore,self._buffer,self._offset,self._chunkSize);newReq.callback=callback;newReq.buffer=chunk;return}if(!async)return false;cb()}};util.inherits(Deflate,Zlib);util.inherits(Inflate,Zlib);util.inherits(Gzip,Zlib);util.inherits(Gunzip,Zlib);util.inherits(DeflateRaw,Zlib);util.inherits(InflateRaw,Zlib);util.inherits(Unzip,Zlib)}).call(this,require("_process"))},{"./binding":7,_process:29,assert:1,buffer:9,stream:45,util:50}],9:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var customInspectSymbol=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);var proto={foo:function(){return 42}};Object.setPrototypeOf(proto,Uint8Array.prototype);Object.setPrototypeOf(arr,proto);return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);Object.setPrototypeOf(buf,Buffer.prototype);return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}Object.setPrototypeOf(buf,Buffer.prototype);return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof string)}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};if(customInspectSymbol){Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof target)}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=hexSliceLookupTable[buf[i]]}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);Object.setPrototypeOf(newBuf,Buffer.prototype);return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}else if(typeof val==="boolean"){val=Number(val)}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}var hexSliceLookupTable=function(){var alphabet="0123456789abcdef";var table=new Array(256);for(var i=0;i<16;++i){var i16=i*16;for(var j=0;j<16;++j){table[i16+j]=alphabet[i]+alphabet[j]}}return table}()}).call(this,require("buffer").Buffer)},{"base64-js":5,buffer:9,ieee754:12}],10:[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":14}],11:[function(require,module,exports){var objectCreate=Object.create||objectCreatePolyfill;var objectKeys=Object.keys||objectKeysPolyfill;var bind=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){if(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events")){this._events=objectCreate(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;var defaultMaxListeners=10;var hasDefineProperty;try{var o={};if(Object.defineProperty)Object.defineProperty(o,"x",{value:0});hasDefineProperty=o.x===0}catch(err){hasDefineProperty=false}if(hasDefineProperty){Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return defaultMaxListeners},set:function(arg){if(typeof arg!=="number"||arg<0||arg!==arg)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=arg}})}else{EventEmitter.defaultMaxListeners=defaultMaxListeners}EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||isNaN(n))throw new TypeError('"n" argument must be a positive number');this._maxListeners=n;return this};function $getMaxListeners(that){if(that._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return that._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)};function emitNone(handler,isFn,self){if(isFn)handler.call(self);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self)}}function emitOne(handler,isFn,self,arg1){if(isFn)handler.call(self,arg1);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1)}}function emitTwo(handler,isFn,self,arg1,arg2){if(isFn)handler.call(self,arg1,arg2);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1,arg2)}}function emitThree(handler,isFn,self,arg1,arg2,arg3){if(isFn)handler.call(self,arg1,arg2,arg3);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1,arg2,arg3)}}function emitMany(handler,isFn,self,args){if(isFn)handler.apply(self,args);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].apply(self,args)}}EventEmitter.prototype.emit=function emit(type){var er,handler,len,args,i,events;var doError=type==="error";events=this._events;if(events)doError=doError&&events.error==null;else if(!doError)return false;if(doError){if(arguments.length>1)er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Unhandled "error" event. ('+er+")");err.context=er;throw err}return false}handler=events[type];if(!handler)return false;var isFn=typeof handler==="function";len=arguments.length;switch(len){case 1:emitNone(handler,isFn,this);break;case 2:emitOne(handler,isFn,this,arguments[1]);break;case 3:emitTwo(handler,isFn,this,arguments[1],arguments[2]);break;case 4:emitThree(handler,isFn,this,arguments[1],arguments[2],arguments[3]);break;default:args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];emitMany(handler,isFn,this,args)}return true};function _addListener(target,type,listener,prepend){var m;var events;var existing;if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');events=target._events;if(!events){events=target._events=objectCreate(null);target._eventsCount=0}else{if(events.newListener){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(!existing){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function"){existing=events[type]=prepend?[listener,existing]:[existing,listener]}else{if(prepend){existing.unshift(listener)}else{existing.push(listener)}}if(!existing.warned){m=$getMaxListeners(target);if(m&&m>0&&existing.length>m){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+' "'+String(type)+'" listeners '+"added. Use emitter.setMaxListeners() to "+"increase limit.");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;if(typeof console==="object"&&console.warn){console.warn("%s: %s",w.name,w.message)}}}}return target}EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;switch(arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:var args=new Array(arguments.length);for(var i=0;i<args.length;++i)args[i]=arguments[i];this.listener.apply(this.target,args)}}}function _onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=bind.call(onceWrapper,state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}EventEmitter.prototype.once=function once(type,listener){if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');this.on(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');this.prependListener(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');events=this._events;if(!events)return this;list=events[type];if(!list)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=objectCreate(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--){if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}}if(position<0)return this;if(position===0)list.shift();else spliceOne(list,position);if(list.length===1)events[type]=list[0];if(events.removeListener)this.emit("removeListener",type,originalListener||listener)}return this};EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(!events)return this;if(!events.removeListener){if(arguments.length===0){this._events=objectCreate(null);this._eventsCount=0}else if(events[type]){if(--this._eventsCount===0)this._events=objectCreate(null);else delete events[type]}return this}if(arguments.length===0){var keys=objectKeys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=objectCreate(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function"){this.removeListener(type,listeners)}else if(listeners){for(i=listeners.length-1;i>=0;i--){this.removeListener(type,listeners[i])}}return this};function _listeners(target,type,unwrap){var events=target._events;if(!events)return[];var evlistener=events[type];if(!evlistener)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,true)};EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,false)};EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function"){return emitter.listenerCount(type)}else{return listenerCount.call(emitter,type)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(type){var events=this._events;if(events){var evlistener=events[type];if(typeof evlistener==="function"){return 1}else if(evlistener){return evlistener.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()}function arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i)copy[i]=arr[i];return copy}function unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i){ret[i]=arr[i].listener||arr[i]}return ret}function objectCreatePolyfill(proto){var F=function(){};F.prototype=proto;return new F}function objectKeysPolyfill(obj){var keys=[];for(var k in obj)if(Object.prototype.hasOwnProperty.call(obj,k)){keys.push(k)}return k}function functionBindPolyfill(context){var fn=this;return function(){return fn.apply(context,arguments)}}},{}],12:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],13:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}}else{module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}}},{}],14:[function(require,module,exports){module.exports=function(obj){return obj!=null&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)};function isBuffer(obj){return!!obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return typeof obj.readFloatLE==="function"&&typeof obj.slice==="function"&&isBuffer(obj.slice(0,0))}},{}],15:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],16:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],17:[function(require,module,exports){"use strict";var TYPED_OK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){var sources=Array.prototype.slice.call(arguments,1);while(sources.length){var source=sources.shift();if(!source){continue}if(typeof source!=="object"){throw new TypeError(source+"must be non-object")}for(var p in source){if(_has(source,p)){obj[p]=source[p]}}}return obj};exports.shrinkBuf=function(buf,size){if(buf.length===size){return buf}if(buf.subarray){return buf.subarray(0,size)}buf.length=size;return buf};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++){len+=chunks[i].length}result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk=chunks[i];result.set(chunk,pos);pos+=chunk.length}return result}};var fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){if(on){exports.Buf8=Uint8Array;exports.Buf16=Uint16Array;exports.Buf32=Int32Array;exports.assign(exports,fnTyped)}else{exports.Buf8=Array;exports.Buf16=Array;exports.Buf32=Array;exports.assign(exports,fnUntyped)}};exports.setTyped(TYPED_OK)},{}],18:[function(require,module,exports){"use strict";function adler32(adler,buf,len,pos){var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;while(len!==0){n=len>2e3?2e3:len;len-=n;do{s1=s1+buf[pos++]|0;s2=s2+s1|0}while(--n);s1%=65521;s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],19:[function(require,module,exports){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],20:[function(require,module,exports){"use strict";function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^buf[i])&255]}return crc^-1}module.exports=crc32},{}],21:[function(require,module,exports){"use strict";var utils=require("../utils/common");var trees=require("./trees");var adler32=require("./adler32");var crc32=require("./crc32");var msg=require("./messages");var Z_NO_FLUSH=0;var Z_PARTIAL_FLUSH=1;var Z_FULL_FLUSH=3;var Z_FINISH=4;var Z_BLOCK=5;var Z_OK=0;var Z_STREAM_END=1;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_BUF_ERROR=-5;var Z_DEFAULT_COMPRESSION=-1;var Z_FILTERED=1;var Z_HUFFMAN_ONLY=2;var Z_RLE=3;var Z_FIXED=4;var Z_DEFAULT_STRATEGY=0;var Z_UNKNOWN=2;var Z_DEFLATED=8;var MAX_MEM_LEVEL=9;var MAX_WBITS=15;var DEF_MEM_LEVEL=8;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var MIN_MATCH=3;var MAX_MATCH=258;var MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;var PRESET_DICT=32;var INIT_STATE=42;var EXTRA_STATE=69;var NAME_STATE=73;var COMMENT_STATE=91;var HCRC_STATE=103;var BUSY_STATE=113;var FINISH_STATE=666;var BS_NEED_MORE=1;var BS_BLOCK_DONE=2;var BS_FINISH_STARTED=3;var BS_FINISH_DONE=4;var OS_CODE=3;function err(strm,errorCode){strm.msg=msg[errorCode];return errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}function flush_pending(strm){var s=strm.state;var len=s.pending;if(len>strm.avail_out){len=strm.avail_out}if(len===0){return}utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(s.pending===0){s.pending_out=0}}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255;s.pending_buf[s.pending++]=b&255}function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size){len=size}if(len===0){return 0}strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(strm.state.wrap===1){strm.adler=adler32(strm.adler,buf,len,start)}else if(strm.state.wrap===2){strm.adler=crc32(strm.adler,buf,len,start)}strm.next_in+=len;strm.total_in+=len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length;var scan=s.strstart;var match;var len;var best_len=s.prev_length;var nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0;var _win=s.window;var wmask=s.w_mask;var prev=s.prev;var strend=s.strstart+MAX_MATCH;var scan_end1=_win[scan+best_len-1];var scan_end=_win[scan+best_len];if(s.prev_length>=s.good_match){chain_length>>=2}if(nice_match>s.lookahead){nice_match=s.lookahead}do{match=cur_match;if(_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1]){continue}scan+=2;match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match){break}scan_end1=_win[scan+best_len-1];scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);if(best_len<=s.lookahead){return best_len}return s.lookahead}function fill_window(s){var _w_size=s.w_size;var p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m=s.head[--p];s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size;p=n;do{m=s.prev[--p];s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(s.strm.avail_in===0){break}n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h=s.window[str];s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH){break}}}}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5){max_block_size=s.pending_buf_size-5}for(;;){if(s.lookahead<=1){fill_window(s);if(s.lookahead===0&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.strstart+=s.lookahead;s.lookahead=0;var max_start=s.block_start+max_block_size;if(s.strstart===0||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head;var bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}if(hash_head!==0&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head)}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}while(--s.match_length!==0);s.strstart++}else{s.strstart+=s.match_length;s.match_length=0;s.ins_h=s.window[s.strstart];s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask}}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head;var bflush;var max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}s.prev_length=s.match_length;s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)){s.match_length=MIN_MATCH-1}}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);s.lookahead-=s.prev_length-1;s.prev_length-=2;do{if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}}while(--s.prev_length!==0);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}else if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);if(bflush){flush_block_only(s,false)}s.strstart++;s.lookahead--;if(s.strm.avail_out===0){return BS_NEED_MORE}}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_rle(s,flush){var bflush;var prev;var scan,strend;var _win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.match_length=0;if(s.lookahead>=MIN_MATCH&&s.strstart>0){scan=s.strstart-1;prev=_win[scan];if(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead){s.match_length=s.lookahead}}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;for(;;){if(s.lookahead===0){fill_window(s);if(s.lookahead===0){if(flush===Z_NO_FLUSH){return BS_NEED_MORE}break}}s.match_length=0;bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match=configuration_table[s.level].max_lazy;s.good_match=configuration_table[s.level].good_length;s.nice_match=configuration_table[s.level].nice_length;s.max_chain_length=configuration_table[s.level].max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2);this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2);this.bl_tree=new utils.Buf16((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;if(!strm||!strm.state){return err(strm,Z_STREAM_ERROR)}strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(s.wrap<0){s.wrap=-s.wrap}s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=s.wrap===2?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK){lm_init(strm.state)}return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state){return Z_STREAM_ERROR}if(strm.state.wrap!==2){return Z_STREAM_ERROR}strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm){return Z_STREAM_ERROR}var wrap=1;if(level===Z_DEFAULT_COMPRESSION){level=6}if(windowBits<0){wrap=0;windowBits=-windowBits}else if(windowBits>15){wrap=2;windowBits-=16}if(memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED){return err(strm,Z_STREAM_ERROR)}if(windowBits===8){windowBits=9}var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(s.w_size*2);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=s.lit_bufsize*4;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=1*s.lit_bufsize;s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s;var beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0){return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR}s=strm.state;if(!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH){return err(strm,strm.avail_out===0?Z_BUF_ERROR:Z_STREAM_ERROR)}s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE){if(s.wrap===2){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,s.gzhead.time&255);put_byte(s,s.gzhead.time>>8&255);put_byte(s,s.gzhead.time>>16&255);put_byte(s,s.gzhead.time>>24&255);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,s.gzhead.os&255);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,s.gzhead.extra.length&255);put_byte(s,s.gzhead.extra.length>>8&255)}if(s.gzhead.hcrc){strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)}s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;var level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2){level_flags=0}else if(s.level<6){level_flags=1}else if(s.level===6){level_flags=2}else{level_flags=3}header|=level_flags<<6;if(s.strstart!==0){header|=PRESET_DICT}header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(s.strstart!==0){putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}strm.adler=1}}if(s.status===EXTRA_STATE){if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(s.gzhead.extra.length&65535)){if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){break}}put_byte(s,s.gzhead.extra[s.gzindex]&255);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else{s.status=NAME_STATE}}if(s.status===NAME_STATE){if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length){val=s.gzhead.name.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.gzindex=0;s.status=COMMENT_STATE}}else{s.status=COMMENT_STATE}}if(s.status===COMMENT_STATE){if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length){val=s.gzhead.comment.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.status=HCRC_STATE}}else{s.status=HCRC_STATE}}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size){flush_pending(strm)}if(s.pending+2<=s.pending_buf_size){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);strm.adler=0;s.status=BUSY_STATE}}else{s.status=BUSY_STATE}}if(s.pending!==0){flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH){return err(strm,Z_BUF_ERROR)}if(s.status===FINISH_STATE&&strm.avail_in!==0){return err(strm,Z_BUF_ERROR)}if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE){s.status=FINISH_STATE}if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(strm.avail_out===0){s.last_flush=-1}return Z_OK}if(bstate===BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH){trees._tr_align(s)}else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,false);if(flush===Z_FULL_FLUSH){zero(s.head);if(s.lookahead===0){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH){return Z_OK}if(s.wrap<=0){return Z_STREAM_END}if(s.wrap===2){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);put_byte(s,strm.adler>>16&255);put_byte(s,strm.adler>>24&255);put_byte(s,strm.total_in&255);put_byte(s,strm.total_in>>8&255);put_byte(s,strm.total_in>>16&255);put_byte(s,strm.total_in>>24&255)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}flush_pending(strm);if(s.wrap>0){s.wrap=-s.wrap}return s.pending!==0?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state){return Z_STREAM_ERROR}status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE){return err(strm,Z_STREAM_ERROR)}strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}function deflateSetDictionary(strm,dictionary){var dictLength=dictionary.length;var s;var str,n;var wrap;var avail;var next;var input;var tmpDict;if(!strm||!strm.state){return Z_STREAM_ERROR}s=strm.state;wrap=s.wrap;if(wrap===2||wrap===1&&s.status!==INIT_STATE||s.lookahead){return Z_STREAM_ERROR}if(wrap===1){strm.adler=adler32(strm.adler,dictionary,dictLength,0)}s.wrap=0;if(dictLength>=s.w_size){if(wrap===0){zero(s.head);s.strstart=0;s.block_start=0;s.insert=0}tmpDict=new utils.Buf8(s.w_size);utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0);dictionary=tmpDict;dictLength=s.w_size}avail=strm.avail_in;next=strm.next_in;input=strm.input;strm.avail_in=dictLength;strm.next_in=0;strm.input=dictionary;fill_window(s);while(s.lookahead>=MIN_MATCH){str=s.strstart;n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++}while(--n);s.strstart=str;s.lookahead=MIN_MATCH-1;fill_window(s)}s.strstart+=s.lookahead;s.block_start=s.strstart;s.insert=s.lookahead;s.lookahead=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;strm.next_in=next;strm.input=input;strm.avail_in=avail;s.wrap=wrap;return Z_OK}exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetHeader=deflateSetHeader;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateSetDictionary=deflateSetDictionary;exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":17,"./adler32":18,"./crc32":20,"./messages":25,"./trees":26}],22:[function(require,module,exports){"use strict";var BAD=30;var TYPE=12;module.exports=function inflate_fast(strm,start){var state;var _in;var last;var _out;var beg;var end;var dmax;var wsize;var whave;var wnext;var s_window;var hold;var bits;var lcode;var dcode;var lmask;var dmask;var here;var op;var len;var dist;var from;var from_source;var input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;s_window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=lcode[hold&lmask];dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op===0){output[_out++]=here&65535}else if(op&16){len=here&65535;op&=15;if(op){if(bits<op){hold+=input[_in++]<<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=dcode[hold&dmask];dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op&16){dist=here&65535;op&=15;if(bits<op){hold+=input[_in++]<<bits;bits+=8;if(bits<op){hold+=input[_in++]<<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}}from=0;from_source=s_window;if(wnext===0){from+=wsize-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=0;if(wnext<len){op=wnext;len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}while(len>2){output[_out++]=from_source[from++];output[_out++]=from_source[from++];output[_out++]=from_source[from++];len-=3}if(len){output[_out++]=from_source[from++];if(len>1){output[_out++]=from_source[from++]}}}else{from=_out-dist;do{output[_out++]=output[from++];output[_out++]=output[from++];output[_out++]=output[from++];len-=3}while(len>2);if(len){output[_out++]=output[from++];if(len>1){output[_out++]=output[from++]}}}}else if((op&64)===0){here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if((op&64)===0){here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},{}],23:[function(require,module,exports){"use strict";var utils=require("../utils/common");var adler32=require("./adler32");var crc32=require("./crc32");var inflate_fast=require("./inffast");var inflate_table=require("./inftrees");var CODES=0;var LENS=1;var DISTS=2;var Z_FINISH=4;var Z_BLOCK=5;var Z_TREES=6;var Z_OK=0;var Z_STREAM_END=1;var Z_NEED_DICT=2;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_MEM_ERROR=-4;var Z_BUF_ERROR=-5;var Z_DEFLATED=8;var HEAD=1;var FLAGS=2;var TIME=3;var OS=4;var EXLEN=5;var EXTRA=6;var NAME=7;var COMMENT=8;var HCRC=9;var DICTID=10;var DICT=11;var TYPE=12;var TYPEDO=13;var STORED=14;var COPY_=15;var COPY=16;var TABLE=17;var LENLENS=18;var CODELENS=19;var LEN_=20;var LEN=21;var LENEXT=22;var DIST=23;var DISTEXT=24;var MATCH=25;var LIT=26;var CHECK=27;var LENGTH=28;var DONE=29;var BAD=30;var MEM=31;var SYNC=32;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var MAX_WBITS=15;var DEF_WBITS=MAX_WBITS;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap){strm.adler=state.wrap&1}state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap;var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(windowBits<0){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(windowBits<48){windowBits&=15}}if(windowBits&&(windowBits<8||windowBits>15)){return Z_STREAM_ERROR}if(state.window!==null&&state.wbits!==windowBits){state.window=null}state.wrap=wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret;var state;if(!strm){return Z_STREAM_ERROR}state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK){strm.state=null}return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=true;var lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(sym<144){state.lens[sym++]=8}while(sym<256){state.lens[sym++]=9}while(sym<280){state.lens[sym++]=7}while(sym<288){state.lens[sym++]=8}inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(sym<32){state.lens[sym++]=5}inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=false}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist;var state=strm.state;if(state.window===null){state.wsize=1<<state.wbits;state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy){dist=copy}utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize){state.wnext=0}if(state.whave<state.wsize){state.whave+=dist}}}return 0}function inflate(strm,flush){var state;var input,output;var next;var put;var have,left;var hold;var bits;var _in,_out;var copy;var from;var from_source;var here=0;var here_bits,here_op,here_val;var last_bits,last_op,last_val;var len;var ret;var hbuf=new utils.Buf8(4);var opts;var n;var order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0){return Z_STREAM_ERROR}state=strm.state;if(state.mode===TYPE){state.mode=TYPEDO}put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;){switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.wrap&2&&hold===35615){state.check=0;hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0);hold=0;bits=0;state.mode=FLAGS;break}state.flags=0;if(state.head){state.head.done=false}if(!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(hold&15)+8;if(state.wbits===0){state.wbits=len}else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=hold&512?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.flags=hold;if((state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head){state.head.text=hold>>8&1}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.time=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;hbuf[2]=hold>>>16&255;hbuf[3]=hold>>>24&255;state.check=crc32(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.xflags=hold&255;state.head.os=hold>>8}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(state.flags&1024){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length=hold;if(state.head){state.head.extra_len=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head){state.head.extra=null}state.mode=EXTRA;case EXTRA:if(state.flags&1024){copy=state.length;if(copy>have){copy=have}if(copy){if(state.head){len=state.head.extra_len-state.length;if(!state.head.extra){state.head.extra=new Array(state.head.extra_len)}utils.arraySet(state.head.extra,input,next,copy,len)}if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;state.length-=copy}if(state.length){break inf_leave}}state.length=0;state.mode=NAME;case NAME:if(state.flags&2048){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.name+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.name=null}state.length=0;state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.comment+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.comment=null}state.mode=HCRC;case HCRC:if(state.flags&512){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=state.flags>>9&1;state.head.done=true}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}strm.adler=state.check=zswap32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(state.havedict===0){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES){break inf_leave}case TYPEDO:if(state.last){hold>>>=bits&7;bits-=bits&7;state.mode=CHECK;break}while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.last=hold&1;hold>>>=1;bits-=1;switch(hold&3){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD}hold>>>=2;bits-=2;break;case STORED:hold>>>=bits&7;bits-=bits&7;while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths";state.mode=BAD;break}state.length=hold&65535;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES){break inf_leave}case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have){copy=have}if(copy>left){copy=left}if(copy===0){break inf_leave}utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(bits<14){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.nlen=(hold&31)+257;hold>>>=5;bits-=5;state.ndist=(hold&31)+1;hold>>>=5;bits-=5;state.ncode=(hold&15)+4;hold>>>=4;bits-=4;if(state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.lens[order[state.have++]]=hold&7;hold>>>=3;bits-=3}while(state.have<19){state.lens[order[state.have++]]=0}state.lencode=state.lendyn;state.lenbits=7;opts={bits:state.lenbits};ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_val<16){hold>>>=here_bits;bits-=here_bits;state.lens[state.have++]=here_val}else{if(here_val===16){n=here_bits+2;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(state.have===0){strm.msg="invalid bit length repeat";state.mode=BAD;break}len=state.lens[state.have-1];copy=3+(hold&3);hold>>>=2;bits-=2}else if(here_val===17){n=here_bits+3;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=3+(hold&7);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(hold&127);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--){state.lens[state.have++]=len}}}if(state.mode===BAD){break}if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=9;opts={bits:state.lenbits};ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===Z_TREES){break inf_leave}case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;inflate_fast(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE){state.back=-1}break}state.back=0;for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_op&&(here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1;state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=here_op&15;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here=state.distcode[hold&(1<<state.distbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(here_op&64){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=here_op&15;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0){break inf_leave}copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else{from=state.wnext-copy}if(copy>state.length){copy=state.length}from_source=state.window}else{from_source=output;from=put-state.offset;copy=state.length}if(copy>left){copy=left}left-=copy;state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);if(state.length===0){state.mode=LEN}break;case LIT:if(left===0){break inf_leave}output[put++]=state.length;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(bits<32){if(have===0){break inf_leave}have--;hold|=input[next++]<<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)}_out=left;if((state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH)){if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=_out;if(state.wrap&&_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)}strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK){ret=Z_BUF_ERROR}return ret}function inflateEnd(strm){if(!strm||!strm.state){return Z_STREAM_ERROR}var state=strm.state;if(state.window){state.window=null}strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if((state.wrap&2)===0){return Z_STREAM_ERROR}state.head=head;head.done=false;return Z_OK}function inflateSetDictionary(strm,dictionary){var dictLength=dictionary.length;var state;var dictid;var ret;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(state.wrap!==0&&state.mode!==DICT){return Z_STREAM_ERROR}if(state.mode===DICT){dictid=1;dictid=adler32(dictid,dictionary,dictLength,0);if(dictid!==state.check){return Z_DATA_ERROR}}ret=updatewindow(strm,dictionary,dictLength,dictLength);if(ret){state.mode=MEM;return Z_MEM_ERROR}state.havedict=1;return Z_OK}exports.inflateReset=inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;exports.inflateSetDictionary=inflateSetDictionary;exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":17,"./adler32":18,"./crc32":20,"./inffast":22,"./inftrees":24}],24:[function(require,module,exports){"use strict";var utils=require("../utils/common");var MAXBITS=15;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var CODES=0;var LENS=1;var DISTS=2;var lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits;var len=0;var sym=0;var min=0,max=0;var root=0;var curr=0;var drop=0;var left=0;var used=0;var huff=0;var incr;var fill;var low;var mask;var next;var base=null;var base_index=0;var end;var count=new utils.Buf16(MAXBITS+1);var offs=new utils.Buf16(MAXBITS+1);var extra=null;var extra_index=0;var here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++){count[len]=0}for(sym=0;sym<codes;sym++){count[lens[lens_index+sym]]++}root=bits;for(max=MAXBITS;max>=1;max--){if(count[max]!==0){break}}if(root>max){root=max}if(max===0){table[table_index++]=1<<24|64<<16|0;table[table_index++]=1<<24|64<<16|0;opts.bits=1;return 0}for(min=1;min<max;min++){if(count[min]!==0){break}}if(root<min){root=min}left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=count[len];if(left<0){return-1}}if(left>0&&(type===CODES||max!==1)){return-1}offs[1]=0;for(len=1;len<MAXBITS;len++){offs[len+1]=offs[len]+count[len]}for(sym=0;sym<codes;sym++){if(lens[lens_index+sym]!==0){work[offs[lens[lens_index+sym]]++]=sym}}if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}for(;;){here_bits=len-drop;if(work[sym]<end){here_op=0;here_val=work[sym]}else if(work[sym]>end){here_op=extra[extra_index+work[sym]];here_val=base[base_index+work[sym]]}else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr;table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0}while(fill!==0);incr=1<<len-1;while(huff&incr){incr>>=1}if(incr!==0){huff&=incr-1;huff+=incr}else{huff=0}sym++;if(--count[len]===0){if(len===max){break}len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){if(drop===0){drop=root}next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-=count[curr+drop];if(left<=0){break}curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}low=huff&mask;table[low]=root<<24|curr<<16|next-table_index|0}}if(huff!==0){table[next+huff]=len-drop<<24|64<<16|0}opts.bits=root;return 0}},{"../utils/common":17}],25:[function(require,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],26:[function(require,module,exports){"use strict";var utils=require("../utils/common");var Z_FIXED=4;var Z_BINARY=0;var Z_TEXT=1;var Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}var STORED_BLOCK=0;var STATIC_TREES=1;var DYN_TREES=2;var MIN_MATCH=3;var MAX_MATCH=258;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var Buf_size=16;var MAX_BL_BITS=7;var END_BLOCK=256;var REP_3_6=16;var REPZ_3_10=17;var REPZ_11_138=18;var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var DIST_CODE_LEN=512;var static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length}var static_l_desc;var static_d_desc;var static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=w&255;s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=value<<s.bi_valid&65535;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=value<<s.bi_valid&65535;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s,tree[c*2],tree[c*2+1])}function bi_reverse(code,len){var res=0;do{res|=code&1;code>>>=1;res<<=1}while(--len>0);return res>>>1}function bi_flush(s){if(s.bi_valid===16){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(s.bi_valid>=8){s.pending_buf[s.pending++]=s.bi_buf&255;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree;var max_code=desc.max_code;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var extra=desc.stat_desc.extra_bits;var base=desc.stat_desc.extra_base;var max_length=desc.stat_desc.max_length;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=MAX_BITS;bits++){s.bl_count[bits]=0}tree[s.heap[s.heap_max]*2+1]=0;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n=s.heap[h];bits=tree[tree[n*2+1]*2+1]+1;if(bits>max_length){bits=max_length;overflow++}tree[n*2+1]=bits;if(n>max_code){continue}s.bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base]}f=tree[n*2];s.opt_len+=f*(bits+xbits);if(has_stree){s.static_len+=f*(stree[n*2+1]+xbits)}}if(overflow===0){return}do{bits=max_length-1;while(s.bl_count[bits]===0){bits--}s.bl_count[bits]--;s.bl_count[bits+1]+=2;s.bl_count[max_length]--;overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--){n=s.bl_count[bits];while(n!==0){m=s.heap[--h];if(m>max_code){continue}if(tree[m*2+1]!==bits){s.opt_len+=(bits-tree[m*2+1])*tree[m*2];tree[m*2+1]=bits}n--}}}function gen_codes(tree,max_code,bl_count){var next_code=new Array(MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=MAX_BITS;bits++){next_code[bits]=code=code+bl_count[bits-1]<<1}for(n=0;n<=max_code;n++){var len=tree[n*2+1];if(len===0){continue}tree[n*2]=bi_reverse(next_code[len]++,len)}}function tr_static_init(){var n;var bits;var length;var code;var dist;var bl_count=new Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){base_length[code]=length;for(n=0;n<1<<extra_lbits[code];n++){_length_code[length++]=code}}_length_code[length-1]=code;dist=0;for(code=0;code<16;code++){base_dist[code]=dist;for(n=0;n<1<<extra_dbits[code];n++){_dist_code[dist++]=code}}dist>>=7;for(;code<D_CODES;code++){base_dist[code]=dist<<7;for(n=0;n<1<<extra_dbits[code]-7;n++){_dist_code[256+dist++]=code}}for(bits=0;bits<=MAX_BITS;bits++){bl_count[bits]=0}n=0;while(n<=143){static_ltree[n*2+1]=8;n++;bl_count[8]++}while(n<=255){static_ltree[n*2+1]=9;n++;bl_count[9]++}while(n<=279){static_ltree[n*2+1]=7;n++;bl_count[7]++}while(n<=287){static_ltree[n*2+1]=8;n++;bl_count[8]++}gen_codes(static_ltree,L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){static_dtree[n*2+1]=5;static_dtree[n*2]=bi_reverse(n,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++){s.dyn_ltree[n*2]=0}for(n=0;n<D_CODES;n++){s.dyn_dtree[n*2]=0}for(n=0;n<BL_CODES;n++){s.bl_tree[n*2]=0}s.dyn_ltree[END_BLOCK*2]=1;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(s.bi_valid>8){put_short(s,s.bi_buf)}else if(s.bi_valid>0){s.pending_buf[s.pending++]=s.bi_buf}s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2;var _m2=m*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){var v=s.heap[k];var j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)){j++}if(smaller(tree,v,s.heap[j],s.depth)){break}s.heap[k]=s.heap[j];k=j;j<<=1}s.heap[k]=v}function compress_block(s,ltree,dtree){var dist;var lc;var lx=0;var code;var extra;if(s.last_lit!==0){do{dist=s.pending_buf[s.d_buf+lx*2]<<8|s.pending_buf[s.d_buf+lx*2+1];lc=s.pending_buf[s.l_buf+lx];lx++;if(dist===0){send_code(s,lc,ltree)}else{code=_length_code[lc];send_code(s,code+LITERALS+1,ltree);extra=extra_lbits[code];if(extra!==0){lc-=base_length[code];send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra=extra_dbits[code];if(extra!==0){dist-=base_dist[code];send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var elems=desc.stat_desc.elems;var n,m;var max_code=-1;var node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<elems;n++){if(tree[n*2]!==0){s.heap[++s.heap_len]=max_code=n;s.depth[n]=0}else{tree[n*2+1]=0}}while(s.heap_len<2){node=s.heap[++s.heap_len]=max_code<2?++max_code:0;tree[node*2]=1;s.depth[node]=0;s.opt_len--;if(has_stree){s.static_len-=stree[node*2+1]}}desc.max_code=max_code;for(n=s.heap_len>>1;n>=1;n--){pqdownheap(s,tree,n)}node=elems;do{n=s.heap[1];s.heap[1]=s.heap[s.heap_len--];pqdownheap(s,tree,1);m=s.heap[1];s.heap[--s.heap_max]=n;s.heap[--s.heap_max]=m;tree[node*2]=tree[n*2]+tree[m*2];s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1;tree[n*2+1]=tree[m*2+1]=node;s.heap[1]=node++;pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1];gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}tree[(max_code+1)*2+1]=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){s.bl_tree[curlen*2]+=count}else if(curlen!==0){if(curlen!==prevlen){s.bl_tree[curlen*2]++}s.bl_tree[REP_3_6*2]++}else if(count<=10){s.bl_tree[REPZ_3_10*2]++}else{s.bl_tree[REPZ_11_138*2]++}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(--count!==0)}else if(curlen!==0){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(count<=10){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,count-11,7)}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;max_blindex>=3;max_blindex--){if(s.bl_tree[bl_order[max_blindex]*2+1]!==0){break}}s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++){send_bits(s,s.bl_tree[bl_order[rank]*2+1],3)}send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447;var n;for(n=0;n<=31;n++,black_mask>>>=1){if(black_mask&1&&s.dyn_ltree[n*2]!==0){return Z_BINARY}}if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0){return Z_TEXT}for(n=32;n<LITERALS;n++){if(s.dyn_ltree[n*2]!==0){return Z_TEXT}}return Z_BINARY}var static_init_done=false;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=true}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,true)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb;var max_blindex=0;if(s.level>0){if(s.strm.data_type===Z_UNKNOWN){s.strm.data_type=detect_data_type(s)}build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb}}else{opt_lenb=static_lenb=stored_len+5}if(stored_len+4<=opt_lenb&&buf!==-1){_tr_stored_block(s,buf,stored_len,last)}else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last){bi_windup(s)}}function _tr_tally(s,dist,lc){s.pending_buf[s.d_buf+s.last_lit*2]=dist>>>8&255;s.pending_buf[s.d_buf+s.last_lit*2+1]=dist&255;s.pending_buf[s.l_buf+s.last_lit]=lc&255;s.last_lit++;if(dist===0){s.dyn_ltree[lc*2]++}else{s.matches++;dist--;s.dyn_ltree[(_length_code[lc]+LITERALS+1)*2]++;s.dyn_dtree[d_code(dist)*2]++}return s.last_lit===s.lit_bufsize-1}exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_flush_block=_tr_flush_block;exports._tr_tally=_tr_tally;exports._tr_align=_tr_align},{"../utils/common":17}],27:[function(require,module,exports){"use strict";function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}module.exports=ZStream},{}],28:[function(require,module,exports){(function(process){"use strict";if(typeof process==="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports={nextTick:nextTick}}else{module.exports=process}function nextTick(fn,arg1,arg2,arg3){if(typeof fn!=="function"){throw new TypeError('"callback" argument must be a function')}var len=arguments.length;var args,i;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function afterTickOne(){fn.call(null,arg1)});case 3:return process.nextTick(function afterTickTwo(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function afterTickThree(){fn.call(null,arg1,arg2,arg3)});default:args=new Array(len-1);i=0;while(i<args.length){args[i++]=arguments[i]}return process.nextTick(function afterTick(){fn.apply(null,args)})}}}).call(this,require("_process"))},{_process:29}],29:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],30:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":31}],31:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);{var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function onend(){if(this.allowHalfOpen||this._writableState.ended)return;pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(value){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=value;this._writableState.destroyed=value}});Duplex.prototype._destroy=function(err,cb){this.push(null);this.end();pna.nextTick(cb,err)}},{"./_stream_readable":33,"./_stream_writable":35,"core-util-is":10,inherits:13,"process-nextick-args":28}],32:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":34,"core-util-is":10,inherits:13}],33:[function(require,module,exports){(function(process,global){"use strict";var pna=require("process-nextick-args");module.exports=Readable;var isArray=require("isarray");var Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream=require("./internal/streams/stream");var Buffer=require("safe-buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug=void 0;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var BufferList=require("./internal/streams/BufferList");var destroyImpl=require("./internal/streams/destroy");var StringDecoder;util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(emitter,event,fn){if(typeof emitter.prependListener==="function")return emitter.prependListener(event,fn);if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var readableHwm=options.readableHighWaterMark;var defaultHwm=this.objectMode?16:16*1024;if(hwm||hwm===0)this.highWaterMark=hwm;else if(isDuplex&&(readableHwm||readableHwm===0))this.highWaterMark=readableHwm;else this.highWaterMark=defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new BufferList;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options){if(typeof options.read==="function")this._read=options.read;if(typeof options.destroy==="function")this._destroy=options.destroy}Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(value){if(!this._readableState){return}this._readableState.destroyed=value}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){this.push(null);cb(err)};Readable.prototype.push=function(chunk,encoding){var state=this._readableState;var skipChunkCheck;if(!state.objectMode){if(typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=Buffer.from(chunk,encoding);encoding=""}skipChunkCheck=true}}else{skipChunkCheck=true}return readableAddChunk(this,chunk,encoding,false,skipChunkCheck)};Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,true,false)};function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var state=stream._readableState;if(chunk===null){state.reading=false;onEofChunk(stream,state)}else{var er;if(!skipChunkCheck)er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(state.objectMode||chunk&&chunk.length>0){if(typeof chunk!=="string"&&!state.objectMode&&Object.getPrototypeOf(chunk)!==Buffer.prototype){chunk=_uint8ArrayToBuffer(chunk)}if(addToFront){if(state.endEmitted)stream.emit("error",new Error("stream.unshift() after end event"));else addChunk(stream,state,chunk,true)}else if(state.ended){stream.emit("error",new Error("stream.push() after EOF"))}else{state.reading=false;if(state.decoder&&!encoding){chunk=state.decoder.write(chunk);if(state.objectMode||chunk.length!==0)addChunk(stream,state,chunk,false);else maybeReadMore(stream,state)}else{addChunk(stream,state,chunk,false)}}}else if(!addToFront){state.reading=false}}return needMoreData(state)}function addChunk(stream,state,chunk,addToFront){if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;if(!_isUint8Array(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(n<=0||state.length===0&&state.ended)return 0;if(state.objectMode)return 1;if(n!==n){if(state.flowing&&state.length)return state.buffer.head.data.length;else return state.length}if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n<=state.length)return n;if(!state.ended){state.needReadable=true;return 0}return state.length}Readable.prototype.read=function(n){debug("read",n);n=parseInt(n,10);var state=this._readableState;var nOrig=n;if(n!==0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}else if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false;if(!state.reading)n=howMuchToRead(nOrig,state)}var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}else{state.length-=n}if(state.length===0){if(!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended)endReadable(this)}if(ret!==null)this.emit("data",ret);return ret};function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)pna.nextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;pna.nextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:unpipe;if(state.endEmitted)pna.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe");if(readable===src){if(unpipeInfo&&unpipeInfo.hasUnpiped===false){unpipeInfo.hasUnpiped=true;cleanup()}}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",unpipe);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}var increasedAwaitDrain=false;src.on("data",ondata);function ondata(chunk){debug("ondata");increasedAwaitDrain=false;var ret=dest.write(chunk);if(false===ret&&!increasedAwaitDrain){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++;increasedAwaitDrain=true}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;var unpipeInfo={hasUnpiped:false};if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this,unpipeInfo);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++){dests[i].emit("unpipe",this,unpipeInfo)}return this}var index=indexOf(state.pipes,dest);if(index===-1)return this;state.pipes.splice(index,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this,unpipeInfo);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"){if(this._readableState.flowing!==false)this.resume()}else if(ev==="readable"){var state=this._readableState;if(!state.endEmitted&&!state.readableListening){state.readableListening=state.needReadable=true;state.emittedReadable=false;if(!state.reading){pna.nextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;pna.nextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;state.awaitDrain=0;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);while(state.flowing&&stream.read()!==null){}}Readable.prototype.wrap=function(stream){var _this=this;var state=this._readableState;var paused=false;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)_this.push(chunk)}_this.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=_this.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}for(var n=0;n<kProxyEvents.length;n++){stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]))}this._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return this};Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Readable._fromList=fromList;function fromList(n,state){if(state.length===0)return null;var ret;if(state.objectMode)ret=state.buffer.shift();else if(!n||n>=state.length){if(state.decoder)ret=state.buffer.join("");else if(state.buffer.length===1)ret=state.buffer.head.data;else ret=state.buffer.concat(state.length);state.buffer.clear()}else{ret=fromListPartial(n,state.buffer,state.decoder)}return ret}function fromListPartial(n,list,hasStrings){var ret;if(n<list.head.data.length){ret=list.head.data.slice(0,n);list.head.data=list.head.data.slice(n)}else if(n===list.head.data.length){ret=list.shift()}else{ret=hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list)}return ret}function copyFromBufferString(n,list){var p=list.head;var c=1;var ret=p.data;n-=ret.length;while(p=p.next){var str=p.data;var nb=n>str.length?str.length:n;if(nb===str.length)ret+=str;else ret+=str.slice(0,n);n-=nb;if(n===0){if(nb===str.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=str.slice(nb)}break}++c}list.length-=c;return ret}function copyFromBuffer(n,list){var ret=Buffer.allocUnsafe(n);var p=list.head;var c=1;p.data.copy(ret);n-=p.data.length;while(p=p.next){var buf=p.data;var nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(n===0){if(nb===buf.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=buf.slice(nb)}break}++c}list.length-=c;return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!state.endEmitted){state.ended=true;pna.nextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./_stream_duplex":31,"./internal/streams/BufferList":36,"./internal/streams/destroy":37,"./internal/streams/stream":38,_process:29,"core-util-is":10,events:11,inherits:13,isarray:15,"process-nextick-args":28,"safe-buffer":39,"string_decoder/":40,util:6}],34:[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function afterTransform(er,data){var ts=this._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb){return this.emit("error",new Error("write callback called multiple times"))}ts.writechunk=null;ts.writecb=null;if(data!=null)this.push(data);cb(er);var rs=this._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){this._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.on("prefinish",prefinish)}function prefinish(){var _this=this;if(typeof this._flush==="function"){this._flush(function(er,data){done(_this,er,data)})}else{done(this,null,null)}}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2);_this2.emit("close")})};function done(stream,er,data){if(er)return stream.emit("error",er);if(data!=null)stream.push(data);if(stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":31,"core-util-is":10,inherits:13}],35:[function(require,module,exports){(function(process,global,setImmediate){"use strict";var pna=require("process-nextick-args");module.exports=Writable;function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(_this,state)}}var asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;var Duplex;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream=require("./internal/streams/stream");var Buffer=require("safe-buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var destroyImpl=require("./internal/streams/destroy");util.inherits(Writable,Stream);function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var writableHwm=options.writableHighWaterMark;var defaultHwm=this.objectMode?16:16*1024;if(hwm||hwm===0)this.highWaterMark=hwm;else if(isDuplex&&(writableHwm||writableHwm===0))this.highWaterMark=writableHwm;else this.highWaterMark=defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(_){}})();var realHasInstance;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){if(realHasInstance.call(this,object))return true;if(this!==Writable)return false;return object&&object._writableState instanceof WritableState}})}else{realHasInstance=function(object){return object instanceof this}}function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!realHasInstance.call(Writable,this)&&!(this instanceof Duplex)){return new Writable(options)}this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev;if(typeof options.destroy==="function")this._destroy=options.destroy;if(typeof options.final==="function")this._final=options.final}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);pna.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;var er=false;if(chunk===null){er=new TypeError("May not write null values to stream")}else if(typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}if(er){stream.emit("error",er);pna.nextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;var isBuf=!state.objectMode&&_isUint8Array(chunk);if(isBuf&&!Buffer.isBuffer(chunk)){chunk=_uint8ArrayToBuffer(chunk)}if(typeof encoding==="function"){cb=encoding;encoding=null}if(isBuf)encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(isBuf||validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding;return this};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=Buffer.from(chunk,encoding)}return chunk}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);if(chunk!==newChunk){isBuf=true;encoding="buffer";chunk=newChunk}}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null};if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync){pna.nextTick(cb,er);pna.nextTick(finishMaybe,stream,state);stream._writableState.errorEmitted=true;stream.emit("error",er)}else{cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er);finishMaybe(stream,state)}}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){asyncWrite(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;var allBuffers=true;while(entry){buffer[count]=entry;if(!entry.isBuf)allBuffers=false;entry=entry.next;count+=1}buffer.allBuffers=allBuffers;doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}state.bufferedRequestCount=0}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;state.bufferedRequestCount--;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--;if(err){stream.emit("error",err)}state.prefinished=true;stream.emit("prefinish");finishMaybe(stream,state)})}function prefinish(stream,state){if(!state.prefinished&&!state.finalCalled){if(typeof stream._final==="function"){state.pendingcb++;state.finalCalled=true;pna.nextTick(callFinal,stream,state)}else{state.prefinished=true;stream.emit("prefinish")}}}function finishMaybe(stream,state){var need=needFinish(state);if(need){prefinish(stream,state);if(state.pendingcb===0){state.finished=true;stream.emit("finish")}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)pna.nextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}if(state.corkedRequestsFree){state.corkedRequestsFree.next=corkReq}else{state.corkedRequestsFree=corkReq}}Object.defineProperty(Writable.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(value){if(!this._writableState){return}this._writableState.destroyed=value}});Writable.prototype.destroy=destroyImpl.destroy;Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){this.end();cb(err)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("timers").setImmediate)},{"./_stream_duplex":31,"./internal/streams/destroy":37,"./internal/streams/stream":38,_process:29,"core-util-is":10,inherits:13,"process-nextick-args":28,"safe-buffer":39,timers:46,"util-deprecate":47}],36:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Buffer=require("safe-buffer").Buffer;var util=require("util");function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function push(v){var entry={data:v,next:null};if(this.length>0)this.tail.next=entry;else this.head=entry;this.tail=entry;++this.length};BufferList.prototype.unshift=function unshift(v){var entry={data:v,next:this.head};if(this.length===0)this.tail=entry;this.head=entry;++this.length};BufferList.prototype.shift=function shift(){if(this.length===0)return;var ret=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return ret};BufferList.prototype.clear=function clear(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function join(s){if(this.length===0)return"";var p=this.head;var ret=""+p.data;while(p=p.next){ret+=s+p.data}return ret};BufferList.prototype.concat=function concat(n){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;var ret=Buffer.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){copyBuffer(p.data,ret,i);i+=p.data.length;p=p.next}return ret};return BufferList}();if(util&&util.inspect&&util.inspect.custom){module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj}}},{"safe-buffer":39,util:6}],37:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");function destroy(err,cb){var _this=this;var readableDestroyed=this._readableState&&this._readableState.destroyed;var writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed){if(cb){cb(err)}else if(err&&(!this._writableState||!this._writableState.errorEmitted)){pna.nextTick(emitErrorNT,this,err)}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(err||null,function(err){if(!cb&&err){pna.nextTick(emitErrorNT,_this,err);if(_this._writableState){_this._writableState.errorEmitted=true}}else if(cb){cb(err)}});return this}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy}},{"process-nextick-args":28}],38:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:11}],39:[function(require,module,exports){var buffer=require("buffer");var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key]}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer}else{copyProps(buffer,exports);exports.Buffer=SafeBuffer}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding)}else{buf.fill(fill)}}else{buf.fill(0)}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)}},{buffer:9}],40:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var isEncoding=Buffer.isEncoding||function(encoding){encoding=""+encoding;switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(enc){if(!enc)return"utf8";var retried;while(true){switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase();retried=true}}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if(typeof nenc!=="string"&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}exports.StringDecoder=StringDecoder;function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;nb=4;break;case"utf8":this.fillLast=utf8FillLast;nb=4;break;case"base64":this.text=base64Text;this.end=base64End;nb=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=Buffer.allocUnsafe(nb)}StringDecoder.prototype.write=function(buf){if(buf.length===0)return"";var r;var i;if(this.lastNeed){r=this.fillLast(buf);if(r===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<buf.length)return r?r+this.text(buf,i):this.text(buf,i);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length){buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length);this.lastNeed-=buf.length};function utf8CheckByte(byte){if(byte<=127)return 0;else if(byte>>5===6)return 2;else if(byte>>4===14)return 3;else if(byte>>3===30)return 4;return byte>>6===2?-1:-2}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-1;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-2;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0){if(nb===2)nb=0;else self.lastNeed=nb-3}return nb}return 0}function utf8CheckExtraBytes(self,buf,p){if((buf[0]&192)!==128){self.lastNeed=0;return"�"}if(self.lastNeed>1&&buf.length>1){if((buf[1]&192)!==128){self.lastNeed=1;return"�"}if(self.lastNeed>2&&buf.length>2){if((buf[2]&192)!==128){self.lastNeed=2;return"�"}}}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,buf,p);if(r!==undefined)return r;if(this.lastNeed<=buf.length){buf.copy(this.lastChar,p,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,p,0,buf.length);this.lastNeed-=buf.length}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);buf.copy(this.lastChar,0,end);return buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+"�";return r}function utf16Text(buf,i){if((buf.length-i)%2===0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=buf[buf.length-1];return buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;if(n===0)return buf.toString("base64",i);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=buf[buf.length-1]}else{this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1]}return buf.toString("base64",i,buf.length-n)}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}},{"safe-buffer":39}],41:[function(require,module,exports){module.exports=require("./readable").PassThrough},{"./readable":42}],42:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":31,"./lib/_stream_passthrough.js":32,"./lib/_stream_readable.js":33,"./lib/_stream_transform.js":34,"./lib/_stream_writable.js":35}],43:[function(require,module,exports){module.exports=require("./readable").Transform},{"./readable":42}],44:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":35}],45:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:11,inherits:13,"readable-stream/duplex.js":30,"readable-stream/passthrough.js":41,"readable-stream/readable.js":42,"readable-stream/transform.js":43,"readable-stream/writable.js":44}],46:[function(require,module,exports){(function(setImmediate,clearImmediate){var nextTick=require("process/browser.js").nextTick;var apply=Function.prototype.apply;var slice=Array.prototype.slice;var immediateIds={};var nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};exports.setImmediate=typeof setImmediate==="function"?setImmediate:function(fn){var id=nextImmediateId++;var args=arguments.length<2?false:slice.call(arguments,1);immediateIds[id]=true;nextTick(function onNextTick(){if(immediateIds[id]){if(args){fn.apply(null,args)}else{fn.call(null)}exports.clearImmediate(id)}});return id};exports.clearImmediate=typeof clearImmediate==="function"?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":29,timers:46}],47:[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],48:[function(require,module,exports){arguments[4][2][0].apply(exports,arguments)},{dup:2}],49:[function(require,module,exports){arguments[4][3][0].apply(exports,arguments)},{dup:3}],50:[function(require,module,exports){arguments[4][4][0].apply(exports,arguments)},{"./support/isBuffer":49,_process:29,dup:4,inherits:48}],51:[function(require,module,exports){require("angular");require("angular-route");require("angular-resource");require("angular-cookies");require("angular-sanitize");require("node-gzip");var app=require("./init");require("./constants/variable")(app);require("./constants/analytics")(app);require("./constants/mandiri_loginmerged2")(app);require("./constants/logo-for-print")(app);require("./controllers/global.nav.header")(app);require("./controllers/roles")(app);require("./controllers/salespaymentconfirm")(app);require("./controllers/salespayments")(app);require("./controllers/order.sales.index")(app);require("./controllers/order.sales.modal.changefile")(app);require("./controllers/order.sales.modal.showpreview")(app);require("./controllers/order.sales.modal.cust-selectbank")(app);require("./controllers/order.sales.modal.confirm")(app);require("./controllers/order.sales.commit")(app);require("./controllers/order.shop.lists.customer")(app);require("./controllers/order.shop.calculation.customer")(app);require("./controllers/order.shop.create.page")(app);require("./controllers/includes.modals.compaccno")(app);require("./controllers/includes.nav.subnav")(app);require("./controllers/home")(app);require("./controllers/order.cart.index")(app);require("./controllers/order.cart.modal.changefile")(app);require("./controllers/order.cart.modal.addfile")(app);require("./controllers/account.notification")(app);require("./controllers/account.profiles")(app);require("./controllers/account.resendemail")(app);require("./controllers/account.login")(app);require("./controllers/account.signup")(app);require("./controllers/createheader")(app);require("./controllers/trackingcustomer")(app);require("./controllers/description")(app);require("./controllers/main")(app);require("./controllers/godhands")(app);require("./controllers/order.sales.history")(app);require("./controllers/allacc.sales.cartheader")(app);require("./controllers/allacc.printforms.smallinvoice")(app);require("./controllers/admin.tracking.index")(app);require("./controllers/admin.cart.index")(app);require("./controllers/admin.cart.joincart")(app);require("./controllers/admin.cart.addbyadmin")(app);require("./controllers/admin.master.verifcustomer")(app);require("./controllers/admin.sales.index")(app);require("./controllers/admin.master.compaccs.index")(app);require("./controllers/admin.master.calendar.index")(app);require("./controllers/admin.master.paper.changeprice")(app);require("./controllers/admin.master.paper.newpaper")(app);require("./controllers/admin.master.paper.paperdetailstore")(app);require("./controllers/admin.master.jobeditor")(app);require("./controllers/admin.master.jobactivation")(app);require("./controllers/admin.master.jobfinishings")(app);require("./controllers/admin.master.jobpapers")(app);require("./controllers/admin.master.jobquantities")(app);require("./controllers/admin.master.jobsizes")(app);require("./controllers/admin.master.pricetext.index")(app);require("./controllers/admin.master.customer.index")(app);require("./controllers/admin.master.customer.pendingcompany")(app);require("./controllers/admin.master.customer.addusernopass")(app);require("./controllers/admin.master.shoppricing")(app);require("./controllers/admin.master.finishing.index")(app);require("./controllers/admin.master.vendor.index")(app);require("./controllers/admin.changetheworld.index")(app);require("./controllers/admin.master.onesignal.index")(app);require("./controllers/global.includes.floatingcontact")(app);require("./controllers/aice.index")(app);require("./customs/sticky-shop-total")(app);require("./directives/bootstrap-select-addon")(app);require("./directives/bootstrap-tooltip")(app);require("./directives/pagination/dirPagination")(app)},{"./constants/analytics":52,"./constants/logo-for-print":53,"./constants/mandiri_loginmerged2":54,"./constants/variable":55,"./controllers/account.login":56,"./controllers/account.notification":57,"./controllers/account.profiles":58,"./controllers/account.resendemail":59,"./controllers/account.signup":60,"./controllers/admin.cart.addbyadmin":61,"./controllers/admin.cart.index":62,"./controllers/admin.cart.joincart":63,"./controllers/admin.changetheworld.index":64,"./controllers/admin.master.calendar.index":65,"./controllers/admin.master.compaccs.index":66,"./controllers/admin.master.customer.addusernopass":67,"./controllers/admin.master.customer.index":68,"./controllers/admin.master.customer.pendingcompany":69,"./controllers/admin.master.finishing.index":70,"./controllers/admin.master.jobactivation":71,"./controllers/admin.master.jobeditor":72,"./controllers/admin.master.jobfinishings":73,"./controllers/admin.master.jobpapers":74,"./controllers/admin.master.jobquantities":75,"./controllers/admin.master.jobsizes":76,"./controllers/admin.master.onesignal.index":77,"./controllers/admin.master.paper.changeprice":78,"./controllers/admin.master.paper.newpaper":79,"./controllers/admin.master.paper.paperdetailstore":80,"./controllers/admin.master.pricetext.index":81,"./controllers/admin.master.shoppricing":82,"./controllers/admin.master.vendor.index":83,"./controllers/admin.master.verifcustomer":84,"./controllers/admin.sales.index":85,"./controllers/admin.tracking.index":86,"./controllers/aice.index":87,"./controllers/allacc.printforms.smallinvoice":88,"./controllers/allacc.sales.cartheader":89,"./controllers/createheader":90,"./controllers/description":91,"./controllers/global.includes.floatingcontact":92,"./controllers/global.nav.header":93,"./controllers/godhands":94,"./controllers/home":95,"./controllers/includes.modals.compaccno":96,"./controllers/includes.nav.subnav":97,"./controllers/main":98,"./controllers/order.cart.index":99,"./controllers/order.cart.modal.addfile":100,"./controllers/order.cart.modal.changefile":101,"./controllers/order.sales.commit":102,"./controllers/order.sales.history":103,"./controllers/order.sales.index":104,"./controllers/order.sales.modal.changefile":105,"./controllers/order.sales.modal.confirm":106,"./controllers/order.sales.modal.cust-selectbank":107,"./controllers/order.sales.modal.showpreview":108,"./controllers/order.shop.calculation.customer":109,"./controllers/order.shop.create.page":110,"./controllers/order.shop.lists.customer":111,"./controllers/roles":112,"./controllers/salespaymentconfirm":113,"./controllers/salespayments":114,"./controllers/trackingcustomer":115,"./customs/sticky-shop-total":116,"./directives/bootstrap-select-addon":117,"./directives/bootstrap-tooltip":118,"./directives/pagination/dirPagination":119,"./init":120,angular:130,"angular-cookies":122,"angular-resource":124,"angular-route":126,"angular-sanitize":128,"node-gzip":131}],52:[function(require,module,exports){module.exports=function(app){}},{}],53:[function(require,module,exports){module.exports=function(app){app.logoforprint='<div class="text-xs-right" style="padding:0 10px"><svg viewBox="0 0 603 104" width="65%">'+' <g id="Layer_x0020_1">'+'  <metadata id="CorelCorpID_0Corel-Layer"/>'+'  <path class="fil0" d="M38 63c-7,9 -13,19 -20,27 -1,2 -4,3 -5,2 -4,-3 -7,-6 -9,-9 -1,-1 -1,-4 2,-6 8,-6 18,-12 26,-19 1,-1 2,0 3,1 1,1 1,0 2,2 1,1 1,2 1,2z"/>'+'  <path class="fil0" d="M56 64c4,11 10,20 14,31 1,2 0,5 -2,6 -4,1 -8,2 -12,3 -1,0 -3,-2 -4,-5 -1,-11 -2,-22 -3,-33 0,-1 1,-1 2,-1 2,-1 1,-1 3,-1 1,-1 2,0 2,0z"/>'+'  <path class="fil0" d="M66 49c11,1 22,2 33,3 3,1 5,3 5,4 -1,5 -2,9 -3,12 -1,2 -4,3 -6,2 -11,-4 -20,-10 -31,-14 0,0 -1,-1 0,-2 0,-2 0,-1 1,-4 0,-1 1,-1 1,-1z"/>'+'  <path class="fil0" d="M58 32c7,-8 13,-18 19,-26 2,-3 5,-3 6,-2 4,3 7,6 9,9 1,1 0,4 -2,5 -8,7 -18,13 -27,20 0,0 -1,0 -2,-1 -2,-1 -1,-1 -3,-2 0,-1 -1,-2 0,-3z"/>'+'  <path class="fil0" d="M41 31c-2,-6 -5,-11 -7,-17 0,-2 0,-3 1,-4 3,-1 5,-1 7,-1 1,-1 2,1 2,2 1,6 1,13 2,19 0,1 -1,1 -1,1 -1,1 -1,0 -2,1 -1,0 -1,0 -2,-1z"/>'+'  <path class="fil0" d="M46 66c-1,9 -1,18 -3,26 0,2 -1,4 -3,4 -3,-1 -7,-2 -9,-3 -2,0 -2,-2 -1,-5 3,-8 7,-16 10,-24 1,0 2,0 2,0 2,0 1,0 3,0 1,1 1,1 1,2z"/>'+'  <path class="fil0" d="M63 58c7,6 14,10 21,16 2,1 2,3 1,4 -2,3 -4,6 -7,7 -1,1 -3,1 -4,-1 -6,-7 -10,-14 -16,-21 0,-1 0,-2 1,-2 1,-1 1,-1 2,-2 0,-1 1,-1 2,-1z"/>'+'  <path class="fil0" d="M64 40c8,-3 16,-7 24,-10 3,-1 5,-1 5,1 2,3 2,6 3,9 0,2 -2,3 -4,3 -8,2 -17,2 -26,3 -1,0 -1,-1 -2,-1 0,-2 0,-1 0,-3 -1,-1 0,-1 0,-2z"/>'+'  <path class="fil0" d="M50 30c1,-9 1,-18 2,-26 1,-3 2,-4 4,-4 3,1 6,2 9,3 2,0 2,2 1,4 -3,8 -7,16 -11,24 0,1 -1,1 -2,1 -1,0 0,0 -2,-1 -1,0 -2,0 -1,-1z"/>'+'  <path class="fil0" d="M31 56c-8,3 -16,7 -24,10 -2,1 -4,1 -4,-1 -2,-3 -3,-7 -3,-9 0,-2 1,-3 4,-4 8,-1 17,-1 26,-2 1,-1 1,0 1,1 1,2 0,1 1,3 0,0 0,1 -1,2z"/>'+'  <path class="fil1" d="M126 48c2,0 2,1 3,1 1,0 2,0 3,0 2,0 3,0 4,-2 1,-1 1,-3 1,-6l0 -25 10 0 0 27c0,5 -1,9 -4,11 -2,3 -6,4 -10,4 -1,0 -2,0 -3,0 -1,-1 -2,-1 -3,-1l-1 -9z"/>'+'  <path id="1" class="fil1" d="M164 43l11 0 -5 -12 -6 12zm-15 13l21 -42 0 0 21 42 -10 0 -3 -6 -17 0 -2 6 -10 0z"/>'+'  <polygon id="2" class="fil1" points="194,56 194,16 203,16 203,33 217,16 229,16 213,35 230,56 218,56 203,38 203,56 "/>'+'  <path id="3" class="fil1" d="M241 43l11 0 -6 -12 -5 12zm-15 13l21 -42 0 0 20 42 -10 0 -2 -6 -17 0 -2 6 -10 0z"/>'+'  <path id="4" class="fil1" d="M282 23l-2 0 0 11 2 0c3,0 4,0 6,-1 1,-1 2,-3 2,-4 0,-2 -1,-4 -2,-5 -2,-1 -4,-1 -6,-1zm-11 33l0 -40 10 0c3,0 6,0 8,0 2,1 3,1 5,2 1,2 2,3 3,5 1,1 2,3 2,5 0,2 -1,4 -2,6 -2,2 -4,4 -6,5l12 17 -11 0 -11 -16 -1 0 0 16 -9 0z"/>'+'  <polygon id="5" class="fil1" points="316,56 316,24 303,24 303,16 338,16 338,24 325,24 325,56 "/>'+'  <path id="6" class="fil1" d="M348 43l10 0 -5 -12 -5 12zm-16 13l21 -42 1 0 20 42 -10 0 -3 -6 -16 0 -3 6 -10 0z"/>'+'  <path id="7" class="fil1" d="M386 49l4 0c2,0 4,0 5,-1 1,-1 1,-3 1,-4 0,-2 0,-3 -1,-4 -1,-1 -3,-1 -5,-1l-4 0 0 10zm0 -17l3 0c2,0 4,-1 5,-2 1,0 1,-2 1,-3 0,-2 0,-3 -1,-3 -1,-1 -3,-1 -5,-1l-3 0 0 9zm-9 24l0 -40 13 0c5,0 8,0 11,2 2,2 3,5 3,8 0,2 0,4 -1,5 -2,2 -3,3 -5,4 2,0 4,1 5,3 2,2 3,4 3,7 0,3 -2,6 -5,8 -3,2 -7,3 -13,3l-11 0z"/>'+'  <path id="8" class="fil1" d="M424 23l-2 0 0 11 2 0c2,0 4,0 6,-1 1,-1 2,-3 2,-4 0,-2 -1,-4 -2,-5 -2,-1 -4,-1 -6,-1zm-11 33l0 -40 10 0c3,0 6,0 8,0 2,1 3,1 5,2 1,2 2,3 3,5 1,1 2,3 2,5 0,2 -1,4 -2,6 -2,2 -4,4 -6,5l12 17 -11 0 -11 -16 -1 0 0 16 -9 0z"/>'+'  <path id="9" class="fil1" d="M457 36c0,4 1,7 3,9 2,2 5,4 8,4 3,0 5,-2 7,-4 2,-2 3,-5 3,-9 0,-4 -1,-7 -3,-9 -2,-2 -4,-4 -7,-4 -3,0 -6,2 -8,4 -2,2 -3,5 -3,9zm-10 0c0,-3 0,-6 1,-8 1,-3 3,-5 5,-8 2,-2 4,-3 7,-4 2,-1 5,-2 8,-2 2,0 5,1 8,2 2,1 4,2 6,5 2,2 4,4 5,6 1,3 1,6 1,9 0,3 0,5 -1,7 0,2 -1,5 -3,6 -2,3 -4,5 -7,7 -3,1 -6,2 -9,2 -3,0 -6,-1 -8,-2 -3,-1 -5,-2 -7,-4 -2,-3 -4,-5 -5,-8 -1,-2 -1,-5 -1,-8z"/>'+'  <path id="10" class="fil1" d="M493 45c3,1 5,2 7,3 1,1 3,1 5,1 2,0 3,0 4,-1 1,-1 1,-2 1,-3 0,-2 -1,-3 -5,-6 -1,0 -1,0 -1,0l-3 -2c-3,-1 -5,-3 -6,-5 -1,-2 -2,-4 -2,-7 0,-3 1,-6 4,-8 2,-2 5,-3 9,-3 2,0 3,0 5,1 2,0 4,1 6,1l0 10c-2,-1 -4,-2 -6,-3 -2,-1 -3,-1 -5,-1 -1,0 -2,0 -3,1 -1,0 -1,1 -1,2 0,1 0,2 1,2 0,1 1,1 2,2l5 3c4,2 6,4 8,6 1,2 2,4 2,6 0,4 -2,8 -4,10 -3,3 -7,4 -11,4 -2,0 -3,0 -5,-1 -2,0 -4,-1 -6,-1l-1 -11z"/>'+'  <path id="11" class="fil1" d="M536 16l0 22c0,4 1,6 2,8 1,2 3,3 6,3 3,0 5,-1 6,-3 1,-1 2,-4 2,-7l0 -23 9 0 0 23c0,6 -2,11 -5,14 -3,3 -7,5 -12,5 -6,0 -10,-2 -13,-5 -3,-3 -4,-8 -4,-14l0 -23 9 0z"/>'+'  <path id="12" class="fil1" d="M581 23l-2 0 0 11 2 0c3,0 5,0 6,-1 1,-1 2,-3 2,-4 0,-2 -1,-4 -2,-5 -1,-1 -3,-1 -6,-1zm-11 33l0 -40 10 0c4,0 6,0 8,0 2,1 4,1 5,2 2,2 3,3 4,5 0,1 1,3 1,5 0,2 -1,4 -2,6 -1,2 -3,4 -6,5l13 17 -12 0 -10 -16 -2 0 0 16 -9 0z"/>'+'  <path class="fil1" d="M206 78c1,0 2,1 3,1 1,0 2,1 2,1 1,0 2,-1 2,-1 1,0 1,-1 1,-1 0,-1 -1,-2 -3,-3 0,0 0,0 0,0l-1 -1c-2,0 -2,-1 -3,-2 -1,-1 -1,-2 -1,-3 0,-1 1,-3 2,-4 1,0 2,-1 4,-1 1,0 1,0 2,0 1,0 2,1 3,1l0 4c-1,0 -2,-1 -3,-1 -1,0 -1,0 -2,0 0,0 -1,0 -1,0 -1,0 -1,1 -1,1 0,0 0,1 0,1 1,0 1,0 1,1l3 1c1,1 3,2 3,3 1,0 1,1 1,3 0,1 -1,3 -2,4 -1,1 -3,1 -5,1 0,0 -1,0 -2,0 -1,0 -1,0 -2,0l-1 -5z"/>'+'  <polygon id="1" class="fil1" points="221,83 221,65 232,65 232,68 225,68 225,72 231,72 231,75 225,75 225,79 233,79 233,83 "/>'+'  <polygon id="2" class="fil1" points="236,83 236,65 240,65 240,79 247,79 247,83 "/>'+'  <polygon id="3" class="fil1" points="250,83 250,65 261,65 261,68 254,68 254,72 260,72 260,76 254,76 254,83 "/>'+'  <path id="4" class="fil1" d="M263 78c1,0 2,1 3,1 1,0 1,1 2,1 1,0 1,-1 2,-1 0,0 1,-1 1,-1 0,-1 -1,-2 -3,-3 0,0 0,0 -1,0l-1 -1c-1,0 -2,-1 -2,-2 -1,-1 -1,-2 -1,-3 0,-1 0,-3 1,-4 1,0 3,-1 5,-1 0,0 1,0 2,0 1,0 1,1 2,1l0 4c-1,0 -1,-1 -2,-1 -1,0 -2,0 -2,0 -1,0 -1,0 -2,0 0,0 0,1 0,1 0,0 0,1 0,1 0,0 1,0 1,1l2 1c2,1 3,2 4,3 0,0 1,1 1,3 0,1 -1,3 -2,4 -1,1 -3,1 -5,1 -1,0 -1,0 -2,0 -1,0 -2,0 -3,0l0 -5z"/>'+'  <polygon id="5" class="fil1" points="278,83 278,65 289,65 289,68 282,68 282,72 288,72 288,75 282,75 282,79 289,79 289,83 "/>'+'  <path id="6" class="fil1" d="M297 68l0 0 0 5 1 0c1,0 2,0 2,-1 1,0 1,-1 1,-2 0,0 0,-1 -1,-1 0,-1 -1,-1 -3,-1zm-4 15l0 -18 4 0c2,0 3,0 4,0 1,0 1,0 2,1 1,0 1,1 1,2 1,0 1,1 1,2 0,1 0,2 -1,3 0,1 -1,2 -2,2l5 8 -5 0 -5 -7 0 0 0 7 -4 0z"/>'+'  <polygon id="7" class="fil1" points="315,84 315,84 306,65 311,65 315,75 319,65 324,65 "/>'+'  <polygon id="8" class="fil1" points="325,83 325,65 330,65 330,83 "/>'+'  <path id="9" class="fil1" d="M347 70c0,0 -1,-1 -2,-1 -1,-1 -2,-1 -3,-1 -1,0 -2,1 -3,2 -1,1 -2,2 -2,4 0,1 1,3 2,4 1,1 2,1 3,1 1,0 2,0 3,0 1,-1 2,-1 3,-2l0 5c-1,0 -2,1 -3,1 -1,0 -2,0 -3,0 -1,0 -2,0 -3,0 -1,0 -2,-1 -3,-1 -1,-1 -2,-3 -2,-4 -1,-1 -1,-3 -1,-4 0,-2 0,-3 0,-4 1,-1 2,-2 2,-3 1,-1 2,-2 4,-2 1,-1 2,-1 3,-1 1,0 2,0 3,0 1,1 2,1 3,2l-1 4z"/>'+'  <polygon id="10" class="fil1" points="351,83 351,65 362,65 362,68 355,68 355,72 361,72 361,75 355,75 355,79 362,79 362,83 "/>'+'  <path id="11" class="fil1" d="M378 68l-1 0 0 5 1 0c1,0 2,0 3,-1 0,0 0,-1 0,-2 0,0 0,-1 0,-1 -1,-1 -2,-1 -3,-1zm-5 15l0 -18 5 0c1,0 2,0 3,0 1,0 2,1 2,1 1,1 1,1 2,2 0,1 0,1 0,2 0,2 0,4 -2,5 -1,1 -3,1 -5,1 0,0 0,0 0,0 -1,0 -1,0 -1,0l0 7 -4 0z"/>'+'  <path id="12" class="fil1" d="M393 68l-1 0 0 5 1 0c1,0 2,0 3,-1 0,0 1,-1 1,-2 0,0 -1,-1 -1,-1 -1,-1 -2,-1 -3,-1zm-5 15l0 -18 5 0c1,0 2,0 3,0 1,0 2,0 2,1 1,0 2,1 2,2 0,0 1,1 1,2 0,1 -1,2 -1,3 -1,1 -2,2 -3,2l6 8 -5 0 -5 -7 -1 0 0 7 -4 0z"/>'+'  <polygon id="13" class="fil1" points="405,83 405,65 409,65 409,83 "/>'+'  <polygon id="14" class="fil1" points="413,83 413,64 414,64 425,75 425,65 429,65 429,84 429,84 417,73 417,83 "/>'+'  <polygon id="15" class="fil1" points="437,83 437,68 431,68 431,65 447,65 447,68 441,68 441,83 "/>'+'  <polygon id="16" class="fil1" points="449,83 449,65 453,65 453,83 "/>'+'  <polygon id="17" class="fil1" points="458,83 458,64 458,64 469,75 469,65 473,65 473,84 473,84 462,73 462,83 "/>'+'  <path id="18" class="fil1" d="M493 73l0 9c-1,0 -2,1 -3,1 -2,0 -3,0 -4,0 -3,0 -5,0 -7,-2 -2,-2 -3,-4 -3,-7 0,-3 1,-5 3,-7 2,-2 4,-3 7,-3 1,0 2,0 3,0 1,1 2,1 3,2l0 4c-1,0 -2,-1 -3,-1 -1,-1 -2,-1 -2,-1 -2,0 -3,0 -4,2 -2,1 -2,2 -2,4 0,1 0,3 1,4 1,1 3,2 4,2 1,0 1,-1 2,-1 0,0 0,0 1,0l0 -3 -4 0 0 -3 8 0z"/>'+'  <path id="19" class="fil1" d="M503 78c1,0 2,1 3,1 1,0 2,1 2,1 1,0 2,-1 2,-1 1,0 1,-1 1,-1 0,-1 -1,-2 -2,-3 -1,0 -1,0 -1,0l-1 -1c-1,0 -2,-1 -3,-2 -1,-1 -1,-2 -1,-3 0,-1 1,-3 2,-4 1,0 2,-1 4,-1 1,0 1,0 2,0 1,0 2,1 3,1l0 4c-1,0 -2,-1 -3,-1 -1,0 -1,0 -2,0 0,0 -1,0 -1,0 -1,0 -1,1 -1,1 0,0 0,1 1,1 0,0 0,0 1,1l2 1c1,1 3,2 3,3 1,0 1,1 1,3 0,1 0,3 -2,4 -1,1 -2,1 -4,1 -1,0 -2,0 -3,0 0,0 -1,0 -2,0l-1 -5z"/>'+'  <polygon id="20" class="fil1" points="522,83 522,74 515,65 521,65 524,70 529,65 533,65 526,74 526,83 "/>'+'  <path id="21" class="fil1" d="M533 78c2,0 3,1 3,1 1,0 2,1 3,1 0,0 1,-1 1,-1 1,0 1,-1 1,-1 0,-1 -1,-2 -2,-3 -1,0 -1,0 -1,0l-1 -1c-1,0 -2,-1 -3,-2 0,-1 -1,-2 -1,-3 0,-1 1,-3 2,-4 1,0 3,-1 4,-1 1,0 2,0 2,0 1,0 2,1 3,1l0 4c-1,0 -2,-1 -3,-1 0,0 -1,0 -2,0 0,0 -1,0 -1,0 0,0 -1,1 -1,1 0,0 1,1 1,1 0,0 0,0 1,1l2 1c2,1 3,2 3,3 1,0 1,1 1,3 0,1 0,3 -1,4 -2,1 -3,1 -5,1 -1,0 -2,0 -3,0 0,0 -1,0 -2,0l-1 -5z"/>'+'  <polygon id="22" class="fil1" points="552,83 552,68 546,68 546,65 562,65 562,68 557,68 557,83 "/>'+'  <polygon id="23" class="fil1" points="564,83 564,65 576,65 576,68 569,68 569,72 575,72 575,75 569,75 569,79 576,79 576,83 "/>'+'  <polygon id="24" class="fil1" points="578,83 581,64 582,64 589,76 595,64 595,64 599,83 595,83 594,75 589,84 588,84 583,74 581,83 "/>'+" </g>"+"</svg></div><br>"}},{}],54:[function(require,module,exports){module.exports=function(app){app.controller("MandiriLoginCrypto",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){var _0xf5d7=["lib","Base","prototype","mixIn","$super","extend","apply","init","hasOwnProperty","toString","WordArray","words","sigBytes","length","stringify","clamp","push","ceil","call","clone","slice","random","create","enc","Hex","","join","substr","Latin1","fromCharCode","charCodeAt","Utf8","Malformed UTF-8 data","parse","BufferedBlockAlgorithm","_data","_nDataBytes","string","concat","blockSize","_minBufferSize","max","min","splice","Hasher","reset","_hash","finalize","HMAC","algo","Base64","_map","charAt","replace","indexOf","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","sin","abs","MD5","HmacMD5","EvpKDF","cfg","hasher","keySize","iterations","update","compute","bc87139c951237f50c85373cc34c95b7f6d590048292cca091e5639935b78ad","Cipher","_xformMode","_key","encrypt","decrypt","StreamCipher","mode","BlockCipherMode","Encryptor","Decryptor","_cipher","_iv","CBC","_prevBlock","encryptBlock","decryptBlock","Pkcs7","pad","BlockCipher","iv","_ENC_XFORM_MODE","createEncryptor","createDecryptor","_mode","processBlock","padding","unpad","CipherParams","formatter","OpenSSL","format","ciphertext","salt","$1\n","SerializableCipher","kdf","PasswordBasedCipher","ivSize","key","AES","_nRounds","_keySchedule","_invKeySchedule"];var CryptoJS=CryptoJS||function(k,j){var h={},f=h[_0xf5d7[0]]={},d=f[_0xf5d7[1]]=function(){function m(){}return{extend:function(o){m[_0xf5d7[2]]=this;var n=new m;o&&n[_0xf5d7[3]](o);n[_0xf5d7[4]]=this;return n},create:function(){var n=this[_0xf5d7[5]]();n[_0xf5d7[7]][_0xf5d7[6]](n,arguments);return n},init:function(){},mixIn:function(o){for(var n in o){o[_0xf5d7[8]](n)&&(this[n]=o[n])}o[_0xf5d7[8]](_0xf5d7[9])&&(this[_0xf5d7[9]]=o[_0xf5d7[9]])},clone:function(){return this[_0xf5d7[4]][_0xf5d7[5]](this)}}}(),c=f[_0xf5d7[10]]=d[_0xf5d7[5]]({init:function(n,m){n=this[_0xf5d7[11]]=n||[];this[_0xf5d7[12]]=m!=j?m:4*n[_0xf5d7[13]]},toString:function(m){return(m||a)[_0xf5d7[14]](this)},concat:function(q){var p=this[_0xf5d7[11]],n=q[_0xf5d7[11]],o=this[_0xf5d7[12]],q=q[_0xf5d7[12]];this[_0xf5d7[15]]();if(o%4){for(var m=0;m<q;m++){p[o+m>>>2]|=(n[m>>>2]>>>24-8*(m%4)&255)<<24-8*((o+m)%4)}}else{if(65535<n[_0xf5d7[13]]){for(m=0;m<q;m+=4){p[o+m>>>2]=n[m>>>2]}}else{p[_0xf5d7[16]][_0xf5d7[6]](p,n)}}this[_0xf5d7[12]]+=q;return this},clamp:function(){var n=this[_0xf5d7[11]],m=this[_0xf5d7[12]];n[m>>>2]&=4294967295<<32-8*(m%4);n[_0xf5d7[13]]=k[_0xf5d7[17]](m/4)},clone:function(){var m=d[_0xf5d7[19]][_0xf5d7[18]](this);m[_0xf5d7[11]]=this[_0xf5d7[11]][_0xf5d7[20]](0);return m},random:function(o){for(var n=[],m=0;m<o;m+=4){n[_0xf5d7[16]](4294967296*k[_0xf5d7[21]]()|0)}return c[_0xf5d7[22]](n,o)}}),b=h[_0xf5d7[23]]={},a=b[_0xf5d7[24]]={stringify:function(q){for(var p=q[_0xf5d7[11]],q=q[_0xf5d7[12]],n=[],o=0;o<q;o++){var m=p[o>>>2]>>>24-8*(o%4)&255;n[_0xf5d7[16]]((m>>>4).toString(16));n[_0xf5d7[16]]((m&15).toString(16))}return n[_0xf5d7[26]](_0xf5d7[25])},parse:function(p){for(var o=p[_0xf5d7[13]],m=[],n=0;n<o;n+=2){m[n>>>3]|=parseInt(p[_0xf5d7[27]](n,2),16)<<24-4*(n%8)}return c[_0xf5d7[22]](m,o/2)}},i=b[_0xf5d7[28]]={stringify:function(p){for(var o=p[_0xf5d7[11]],p=p[_0xf5d7[12]],m=[],n=0;n<p;n++){m[_0xf5d7[16]](String[_0xf5d7[29]](o[n>>>2]>>>24-8*(n%4)&255))}return m[_0xf5d7[26]](_0xf5d7[25])},parse:function(p){for(var o=p[_0xf5d7[13]],m=[],n=0;n<o;n++){m[n>>>2]|=(p[_0xf5d7[30]](n)&255)<<24-8*(n%4)}return c[_0xf5d7[22]](m,o)}},g=b[_0xf5d7[31]]={stringify:function(n){try{return decodeURIComponent(escape(i[_0xf5d7[14]](n)))}catch(m){throw Error(_0xf5d7[32])}},parse:function(m){return i[_0xf5d7[33]](unescape(encodeURIComponent(m)))}},e=f[_0xf5d7[34]]=d[_0xf5d7[5]]({reset:function(){this[_0xf5d7[35]]=c[_0xf5d7[22]]();this[_0xf5d7[36]]=0},_append:function(m){_0xf5d7[37]==typeof m&&(m=g[_0xf5d7[33]](m));this[_0xf5d7[35]][_0xf5d7[38]](m);this[_0xf5d7[36]]+=m[_0xf5d7[12]]},_process:function(s){var r=this[_0xf5d7[35]],p=r[_0xf5d7[11]],q=r[_0xf5d7[12]],o=this[_0xf5d7[39]],n=q/(4*o),n=s?k[_0xf5d7[17]](n):k[_0xf5d7[41]]((n|0)-this[_0xf5d7[40]],0),s=n*o,q=k[_0xf5d7[42]](4*s,q);if(s){for(var m=0;m<s;m+=o){this._doProcessBlock(p,m)}m=p[_0xf5d7[43]](0,s);r[_0xf5d7[12]]-=q}return c[_0xf5d7[22]](m,q)},clone:function(){var m=d[_0xf5d7[19]][_0xf5d7[18]](this);m[_0xf5d7[35]]=this[_0xf5d7[35]][_0xf5d7[19]]();return m},_minBufferSize:0});f[_0xf5d7[44]]=e[_0xf5d7[5]]({init:function(){this[_0xf5d7[45]]()},reset:function(){e[_0xf5d7[45]][_0xf5d7[18]](this);this._doReset()},update:function(m){this._append(m);this._process();return this},finalize:function(m){m&&this._append(m);this._doFinalize();return this[_0xf5d7[46]]},clone:function(){var m=e[_0xf5d7[19]][_0xf5d7[18]](this);m[_0xf5d7[46]]=this[_0xf5d7[46]][_0xf5d7[19]]();return m},blockSize:16,_createHelper:function(m){return function(o,n){return m[_0xf5d7[22]](n)[_0xf5d7[47]](o)}},_createHmacHelper:function(m){return function(o,n){return l[_0xf5d7[48]][_0xf5d7[22]](m,n)[_0xf5d7[47]](o)}}});var l=h[_0xf5d7[49]]={};return h}(Math);(function(){var b=CryptoJS,a=b[_0xf5d7[0]][_0xf5d7[10]];b[_0xf5d7[23]][_0xf5d7[50]]={stringify:function(e){var d=e[_0xf5d7[11]],f=e[_0xf5d7[12]],i=this[_0xf5d7[51]];e[_0xf5d7[15]]();for(var e=[],h=0;h<f;h+=3){for(var g=(d[h>>>2]>>>24-8*(h%4)&255)<<16|(d[h+1>>>2]>>>24-8*((h+1)%4)&255)<<8|d[h+2>>>2]>>>24-8*((h+2)%4)&255,c=0;4>c&&h+.75*c<f;c++){e[_0xf5d7[16]](i[_0xf5d7[52]](g>>>6*(3-c)&63))}}if(d=i[_0xf5d7[52]](64)){for(;e[_0xf5d7[13]]%4;){e[_0xf5d7[16]](d)}}return e[_0xf5d7[26]](_0xf5d7[25])},parse:function(e){var e=e[_0xf5d7[53]](/\s/g,_0xf5d7[25]),d=e[_0xf5d7[13]],j=this[_0xf5d7[51]],h=j[_0xf5d7[52]](64);h&&(h=e[_0xf5d7[54]](h),-1!=h&&(d=h));for(var h=[],g=0,f=0;f<d;f++){if(f%4){var c=j[_0xf5d7[54]](e[_0xf5d7[52]](f-1))<<2*(f%4),i=j[_0xf5d7[54]](e[_0xf5d7[52]](f))>>>6-2*(f%4);h[g>>>2]|=(c|i)<<24-8*(g%4);g++}}return a[_0xf5d7[22]](h,g)},_map:_0xf5d7[55]}})();(function(j){function i(q,k,p,o,m,n,l){q=q+(k&p|~k&o)+m+l;return(q<<n|q>>>32-n)+k}function g(q,k,p,o,m,n,l){q=q+(k&o|p&~o)+m+l;return(q<<n|q>>>32-n)+k}function e(q,k,p,o,m,n,l){q=q+(k^p^o)+m+l;return(q<<n|q>>>32-n)+k}function d(q,k,p,o,m,n,l){q=q+(p^(k|~o))+m+l;return(q<<n|q>>>32-n)+k}var c=CryptoJS,b=c[_0xf5d7[0]],a=b[_0xf5d7[10]],b=b[_0xf5d7[44]],h=c[_0xf5d7[49]],f=[];(function(){for(var k=0;64>k;k++){f[k]=4294967296*j[_0xf5d7[57]](j[_0xf5d7[56]](k+1))|0}})();h=h[_0xf5d7[58]]=b[_0xf5d7[5]]({_doReset:function(){this[_0xf5d7[46]]=a[_0xf5d7[22]]([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,k){for(var q=0;16>q;q++){var p=k+q,n=r[p];r[p]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360}for(var p=this[_0xf5d7[46]][_0xf5d7[11]],n=p[0],o=p[1],m=p[2],l=p[3],q=0;64>q;q+=4){16>q?(n=i(n,o,m,l,r[k+q],7,f[q]),l=i(l,n,o,m,r[k+q+1],12,f[q+1]),m=i(m,l,n,o,r[k+q+2],17,f[q+2]),o=i(o,m,l,n,r[k+q+3],22,f[q+3])):32>q?(n=g(n,o,m,l,r[k+(q+1)%16],5,f[q]),l=g(l,n,o,m,r[k+(q+6)%16],9,f[q+1]),m=g(m,l,n,o,r[k+(q+11)%16],14,f[q+2]),o=g(o,m,l,n,r[k+q%16],20,f[q+3])):48>q?(n=e(n,o,m,l,r[k+(3*q+5)%16],4,f[q]),l=e(l,n,o,m,r[k+(3*q+8)%16],11,f[q+1]),m=e(m,l,n,o,r[k+(3*q+11)%16],16,f[q+2]),o=e(o,m,l,n,r[k+(3*q+14)%16],23,f[q+3])):(n=d(n,o,m,l,r[k+3*q%16],6,f[q]),l=d(l,n,o,m,r[k+(3*q+7)%16],10,f[q+1]),m=d(m,l,n,o,r[k+(3*q+14)%16],15,f[q+2]),o=d(o,m,l,n,r[k+(3*q+5)%16],21,f[q+3]))}p[0]=p[0]+n|0;p[1]=p[1]+o|0;p[2]=p[2]+m|0;p[3]=p[3]+l|0},_doFinalize:function(){var n=this[_0xf5d7[35]],k=n[_0xf5d7[11]],m=8*this[_0xf5d7[36]],l=8*n[_0xf5d7[12]];k[l>>>5]|=128<<24-l%32;k[(l+64>>>9<<4)+14]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;n[_0xf5d7[12]]=4*(k[_0xf5d7[13]]+1);this._process();n=this[_0xf5d7[46]][_0xf5d7[11]];for(k=0;4>k;k++){m=n[k],n[k]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}}});c[_0xf5d7[58]]=b._createHelper(h);c[_0xf5d7[59]]=b._createHmacHelper(h)})(Math);(function(){var d=CryptoJS,c=d[_0xf5d7[0]],b=c[_0xf5d7[1]],a=c[_0xf5d7[10]],c=d[_0xf5d7[49]],e=c[_0xf5d7[60]]=b[_0xf5d7[5]]({cfg:b[_0xf5d7[5]]({keySize:4,hasher:c[_0xf5d7[58]],iterations:1}),init:function(f){this[_0xf5d7[61]]=this[_0xf5d7[61]][_0xf5d7[5]](f)},compute:function(k,f){for(var l=this[_0xf5d7[61]],m=l[_0xf5d7[62]][_0xf5d7[22]](),j=a[_0xf5d7[22]](),i=j[_0xf5d7[11]],n=l[_0xf5d7[63]],l=l[_0xf5d7[64]];i[_0xf5d7[13]]<n;){h&&m[_0xf5d7[65]](h);var h=m[_0xf5d7[65]](k)[_0xf5d7[47]](f);m[_0xf5d7[45]]();for(var g=1;g<l;g++){h=m[_0xf5d7[47]](h),m[_0xf5d7[45]]()}j[_0xf5d7[38]](h)}j[_0xf5d7[12]]=4*n;return j}});d[_0xf5d7[60]]=function(g,f,h){return e[_0xf5d7[22]](h)[_0xf5d7[66]](g,f)}})();$scope.keyRequired=_0xf5d7[67];CryptoJS[_0xf5d7[0]][_0xf5d7[68]]||function(n){var m=CryptoJS,k=m[_0xf5d7[0]],i=k[_0xf5d7[1]],g=k[_0xf5d7[10]],e=k[_0xf5d7[34]],c=m[_0xf5d7[23]][_0xf5d7[50]],a=m[_0xf5d7[49]][_0xf5d7[60]],l=k[_0xf5d7[68]]=e[_0xf5d7[5]]({cfg:i[_0xf5d7[5]](),createEncryptor:function(q,p){return this[_0xf5d7[22]](this._ENC_XFORM_MODE,q,p)},createDecryptor:function(q,p){return this[_0xf5d7[22]](this._DEC_XFORM_MODE,q,p)},init:function(q,p,r){this[_0xf5d7[61]]=this[_0xf5d7[61]][_0xf5d7[5]](r);this[_0xf5d7[69]]=q;this[_0xf5d7[70]]=p;this[_0xf5d7[45]]()},reset:function(){e[_0xf5d7[45]][_0xf5d7[18]](this);this._doReset()},process:function(p){this._append(p);return this._process()},finalize:function(p){p&&this._append(p);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(p){return{encrypt:function(s,r,q){return(_0xf5d7[37]==typeof r?b:d)[_0xf5d7[71]](p,s,r,q)},decrypt:function(s,r,q){return(_0xf5d7[37]==typeof r?b:d)[_0xf5d7[72]](p,s,r,q)}}}}()});k[_0xf5d7[73]]=l[_0xf5d7[5]]({_doFinalize:function(){return this._process(!0)},blockSize:1});var j=m[_0xf5d7[74]]={},h=k[_0xf5d7[75]]=i[_0xf5d7[5]]({createEncryptor:function(p,q){return this[_0xf5d7[76]][_0xf5d7[22]](p,q)},createDecryptor:function(p,q){return this[_0xf5d7[77]][_0xf5d7[22]](p,q)},init:function(p,q){this[_0xf5d7[78]]=p;this[_0xf5d7[79]]=q}}),j=j[_0xf5d7[80]]=function(){function p(u,v,s){var r=this[_0xf5d7[79]];r?this[_0xf5d7[79]]=n:r=this[_0xf5d7[81]];for(var t=0;t<s;t++){u[v+t]^=r[t]}}var q=h[_0xf5d7[5]]();q[_0xf5d7[76]]=q[_0xf5d7[5]]({processBlock:function(u,s){var r=this[_0xf5d7[78]],t=r[_0xf5d7[39]];p[_0xf5d7[18]](this,u,s,t);r[_0xf5d7[82]](u,s);this[_0xf5d7[81]]=u[_0xf5d7[20]](s,s+t)}});q[_0xf5d7[77]]=q[_0xf5d7[5]]({processBlock:function(u,s){var r=this[_0xf5d7[78]],t=r[_0xf5d7[39]],v=u[_0xf5d7[20]](s,s+t);r[_0xf5d7[83]](u,s);p[_0xf5d7[18]](this,u,s,t);this[_0xf5d7[81]]=v}});return q}(),o=(m[_0xf5d7[85]]={})[_0xf5d7[84]]={pad:function(s,t){for(var q=4*t,q=q-s[_0xf5d7[12]]%q,r=q<<24|q<<16|q<<8|q,u=[],p=0;p<q;p+=4){u[_0xf5d7[16]](r)}q=g[_0xf5d7[22]](u,q);s[_0xf5d7[38]](q)},unpad:function(p){p[_0xf5d7[12]]-=p[_0xf5d7[11]][p[_0xf5d7[12]]-1>>>2]&255}};k[_0xf5d7[86]]=l[_0xf5d7[5]]({cfg:l[_0xf5d7[61]][_0xf5d7[5]]({mode:j,padding:o}),reset:function(){l[_0xf5d7[45]][_0xf5d7[18]](this);var q=this[_0xf5d7[61]],r=q[_0xf5d7[87]],q=q[_0xf5d7[74]];if(this[_0xf5d7[69]]==this[_0xf5d7[88]]){var p=q[_0xf5d7[89]]}else{p=q[_0xf5d7[90]],this[_0xf5d7[40]]=1}this[_0xf5d7[91]]=p[_0xf5d7[18]](q,this,r&&r[_0xf5d7[11]])},_doProcessBlock:function(p,q){this[_0xf5d7[91]][_0xf5d7[92]](p,q)},_doFinalize:function(){var p=this[_0xf5d7[61]][_0xf5d7[93]];if(this[_0xf5d7[69]]==this[_0xf5d7[88]]){p[_0xf5d7[85]](this._data,this[_0xf5d7[39]]);var q=this._process(!0)}else{q=this._process(!0),p[_0xf5d7[94]](q)}return q},blockSize:4});var f=k[_0xf5d7[95]]=i[_0xf5d7[5]]({init:function(p){this[_0xf5d7[3]](p)},toString:function(p){return(p||this[_0xf5d7[96]])[_0xf5d7[14]](this)}}),j=(m[_0xf5d7[98]]={})[_0xf5d7[97]]={stringify:function(q){var p=q[_0xf5d7[99]],q=q[_0xf5d7[100]],p=(q?g[_0xf5d7[22]]([1398893684,1701076831])[_0xf5d7[38]](q)[_0xf5d7[38]](p):p).toString(c);return p=p[_0xf5d7[53]](/(.{64})/g,_0xf5d7[101])},parse:function(r){var r=c[_0xf5d7[33]](r),q=r[_0xf5d7[11]];if(1398893684==q[0]&&1701076831==q[1]){var p=g[_0xf5d7[22]](q[_0xf5d7[20]](2,4));q[_0xf5d7[43]](0,4);r[_0xf5d7[12]]-=16}return f[_0xf5d7[22]]({ciphertext:r,salt:p})}},d=k[_0xf5d7[102]]=i[_0xf5d7[5]]({cfg:i[_0xf5d7[5]]({format:j}),encrypt:function(s,q,p,r){var r=this[_0xf5d7[61]][_0xf5d7[5]](r),t=s[_0xf5d7[89]](p,r),q=t[_0xf5d7[47]](q),t=t[_0xf5d7[61]];return f[_0xf5d7[22]]({ciphertext:q,key:p,iv:t[_0xf5d7[87]],algorithm:s,mode:t[_0xf5d7[74]],padding:t[_0xf5d7[93]],blockSize:s[_0xf5d7[39]],formatter:r[_0xf5d7[98]]})},decrypt:function(r,p,q,s){s=this[_0xf5d7[61]][_0xf5d7[5]](s);p=this._parse(p,s[_0xf5d7[98]]);return r[_0xf5d7[90]](q,s)[_0xf5d7[47]](p[_0xf5d7[99]])},_parse:function(q,p){return _0xf5d7[37]==typeof q?p[_0xf5d7[33]](q):q}}),m=(m[_0xf5d7[103]]={})[_0xf5d7[97]]={compute:function(r,p,q,s){s||(s=g[_0xf5d7[21]](8));r=a[_0xf5d7[22]]({keySize:p+q})[_0xf5d7[66]](r,s);q=g[_0xf5d7[22]](r[_0xf5d7[11]][_0xf5d7[20]](p),4*q);r[_0xf5d7[12]]=4*p;return f[_0xf5d7[22]]({key:r,iv:q,salt:s})}},b=k[_0xf5d7[104]]=d[_0xf5d7[5]]({cfg:d[_0xf5d7[61]][_0xf5d7[5]]({kdf:m}),encrypt:function(r,q,s,p){p=this[_0xf5d7[61]][_0xf5d7[5]](p);s=p[_0xf5d7[103]][_0xf5d7[66]](s,r[_0xf5d7[63]],r[_0xf5d7[105]]);p[_0xf5d7[87]]=s[_0xf5d7[87]];r=d[_0xf5d7[71]][_0xf5d7[18]](this,r,q,s[_0xf5d7[106]],p);r[_0xf5d7[3]](s);return r},decrypt:function(r,q,s,p){p=this[_0xf5d7[61]][_0xf5d7[5]](p);q=this._parse(q,p[_0xf5d7[98]]);s=p[_0xf5d7[103]][_0xf5d7[66]](s,r[_0xf5d7[63]],r[_0xf5d7[105]],q[_0xf5d7[100]]);p[_0xf5d7[87]]=s[_0xf5d7[87]];return d[_0xf5d7[72]][_0xf5d7[18]](this,r,q,s[_0xf5d7[106]],p)}})}();(function(){var m=CryptoJS,l=m[_0xf5d7[0]][_0xf5d7[86]],j=m[_0xf5d7[49]],h=[],f=[],d=[],b=[],a=[],k=[],i=[],g=[],n=[],e=[];(function(){for(var q=[],p=0;256>p;p++){q[p]=128>p?p<<1:p<<1^283}for(var o=0,r=0,p=0;256>p;p++){var w=r^r<<1^r<<2^r<<3^r<<4,w=w>>>8^w&255^99;h[o]=w;f[w]=o;var s=q[o],u=q[s],v=q[u],t=257*q[w]^16843008*w;d[o]=t<<24|t>>>8;b[o]=t<<16|t>>>16;a[o]=t<<8|t>>>24;k[o]=t;t=16843009*v^65537*u^257*s^16843008*o;i[w]=t<<24|t>>>8;g[w]=t<<16|t>>>16;n[w]=t<<8|t>>>24;e[w]=t;o?(o=s^q[q[q[v^s]]],r^=q[q[r]]):o=r=1}})();var c=[0,1,2,4,8,16,32,64,128,27,54],j=j[_0xf5d7[107]]=l[_0xf5d7[5]]({_doReset:function(){for(var s=this[_0xf5d7[70]],t=s[_0xf5d7[11]],r=s[_0xf5d7[12]]/4,s=4*((this[_0xf5d7[108]]=r+6)+1),o=this[_0xf5d7[109]]=[],q=0;q<s;q++){if(q<r){o[q]=t[q]}else{var p=o[q-1];q%r?6<r&&4==q%r&&(p=h[p>>>24]<<24|h[p>>>16&255]<<16|h[p>>>8&255]<<8|h[p&255]):(p=p<<8|p>>>24,p=h[p>>>24]<<24|h[p>>>16&255]<<16|h[p>>>8&255]<<8|h[p&255],p^=c[q/r|0]<<24);o[q]=o[q-r]^p}}t=this[_0xf5d7[110]]=[];for(r=0;r<s;r++){q=s-r,p=r%4?o[q]:o[q-4],t[r]=4>r||4>=q?p:i[h[p>>>24]]^g[h[p>>>16&255]]^n[h[p>>>8&255]]^e[h[p&255]]}},encryptBlock:function(p,o){this._doCryptBlock(p,o,this._keySchedule,d,b,a,k,h)},decryptBlock:function(p,q){var o=p[q+1];p[q+1]=p[q+3];p[q+3]=o;this._doCryptBlock(p,q,this._invKeySchedule,i,g,n,e,f);o=p[q+1];p[q+1]=p[q+3];p[q+3]=o},_doCryptBlock:function(z,s,r,x,B,C,A,q){for(var y=this[_0xf5d7[108]],D=z[s]^r[0],u=z[s+1]^r[1],v=z[s+2]^r[2],F=z[s+3]^r[3],E=4,w=1;w<y;w++){var t=x[D>>>24]^B[u>>>16&255]^C[v>>>8&255]^A[F&255]^r[E++],p=x[u>>>24]^B[v>>>16&255]^C[F>>>8&255]^A[D&255]^r[E++],o=x[v>>>24]^B[F>>>16&255]^C[D>>>8&255]^A[u&255]^r[E++],F=x[F>>>24]^B[D>>>16&255]^C[u>>>8&255]^A[v&255]^r[E++],D=t,u=p,v=o}t=(q[D>>>24]<<24|q[u>>>16&255]<<16|q[v>>>8&255]<<8|q[F&255])^r[E++];p=(q[u>>>24]<<24|q[v>>>16&255]<<16|q[F>>>8&255]<<8|q[D&255])^r[E++];o=(q[v>>>24]<<24|q[F>>>16&255]<<16|q[D>>>8&255]<<8|q[u&255])^r[E++];F=(q[F>>>24]<<24|q[D>>>16&255]<<16|q[u>>>8&255]<<8|q[v&255])^r[E++];z[s]=t;z[s+1]=p;z[s+2]=o;z[s+3]=F},keySize:8});m[_0xf5d7[107]]=l._createHelper(j)})();var AesUtil=function(b,a){this.keySize=b/32;this.iterationCount=a};AesUtil.prototype.generateKey=function(b,c){var a=CryptoJS.PBKDF2(c,CryptoJS.enc.Hex.parse(b),{keySize:this.keySize,iterations:this.iterationCount});return a};AesUtil.prototype.encrypt=function(d,a,f,c){var b=this.generateKey(d,f);var e=CryptoJS.AES.encrypt(c,b,{iv:CryptoJS.enc.Hex.parse(a)});return e.ciphertext.toString(CryptoJS.enc.Base64)};AesUtil.prototype.decrypt=function(f,c,g,e){var d=this.generateKey(f,g);var b=CryptoJS.lib.CipherParams.create({ciphertext:CryptoJS.enc.Base64.parse(e)});var a=CryptoJS.AES.decrypt(b,d,{iv:CryptoJS.enc.Hex.parse(c)});return a.toString(CryptoJS.enc.Utf8)};var CryptoJS=CryptoJS||function(s,q){var t={},w=t.lib={},c=w.Base=function(){function b(){}return{extend:function(d){b.prototype=this;var f=new b;d&&f.mixIn(d);f.$super=this;return f},create:function(){var d=this.extend();d.init.apply(d,arguments);return d},init:function(){},mixIn:function(d){for(var f in d){d.hasOwnProperty(f)&&(this[f]=d[f])}d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.$super.extend(this)}}}(),e=w.WordArray=c.extend({init:function(b,d){b=this.words=b||[];this.sigBytes=d!=q?d:4*b.length},toString:function(b){return(b||v).stringify(this)},concat:function(f){var g=this.words,i=f.words,h=this.sigBytes,f=f.sigBytes;this.clamp();if(h%4){for(var d=0;d<f;d++){g[h+d>>>2]|=(i[d>>>2]>>>24-8*(d%4)&255)<<24-8*((h+d)%4)}}else{if(65535<i.length){for(d=0;d<f;d+=4){g[h+d>>>2]=i[d>>>2]}}else{g.push.apply(g,i)}}this.sigBytes+=f;return this},clamp:function(){var b=this.words,d=this.sigBytes;b[d>>>2]&=4294967295<<32-8*(d%4);b.length=s.ceil(d/4)},clone:function(){var b=c.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var d=[],f=0;f<b;f+=4){d.push(4294967296*s.random()|0)}return e.create(d,b)}}),a=t.enc={},v=a.Hex={stringify:function(g){for(var h=g.words,g=g.sigBytes,j=[],f=0;f<g;f++){var i=h[f>>>2]>>>24-8*(f%4)&255;j.push((i>>>4).toString(16));j.push((i&15).toString(16))}return j.join("")},parse:function(f){for(var g=f.length,h=[],d=0;d<g;d+=2){h[d>>>3]|=parseInt(f.substr(d,2),16)<<24-4*(d%8)}return e.create(h,g/2)}},p=a.Latin1={stringify:function(g){for(var h=g.words,g=g.sigBytes,f=[],i=0;i<g;i++){f.push(String.fromCharCode(h[i>>>2]>>>24-8*(i%4)&255))}return f.join("")},parse:function(g){for(var f=g.length,i=[],h=0;h<f;h++){i[h>>>2]|=(g.charCodeAt(h)&255)<<24-8*(h%4)}return e.create(i,f)}},o=a.Utf8={stringify:function(f){try{return decodeURIComponent(escape(p.stringify(f)))}catch(d){throw Error("Malformed UTF-8 data")}},parse:function(b){return p.parse(unescape(encodeURIComponent(b)))}},r=w.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=e.create();this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=o.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(i){var g=this._data,u=g.words,n=g.sigBytes,k=this.blockSize,l=n/(4*k),l=i?s.ceil(l):s.max((l|0)-this._minBufferSize,0),i=l*k,n=s.min(4*i,n);if(i){for(var m=0;m<i;m+=k){this._doProcessBlock(u,m)}m=u.splice(0,i);g.sigBytes-=n}return e.create(m,n)},clone:function(){var b=c.clone.call(this);b._data=this._data.clone();return b},_minBufferSize:0});w.Hasher=r.extend({init:function(){this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);this._doFinalize();return this._hash},clone:function(){var b=r.clone.call(this);b._hash=this._hash.clone();return b},blockSize:16,_createHelper:function(b){return function(d,f){return b.create(f).finalize(d)}},_createHmacHelper:function(b){return function(d,f){return x.HMAC.create(b,f).finalize(d)}}});var x=t.algo={};return t}(Math);(function(){var e=CryptoJS,d=e.lib,h=d.WordArray,d=d.Hasher,c=[],a=e.algo.SHA1=d.extend({_doReset:function(){this._hash=h.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,b){for(var r=this._hash.words,l=r[0],i=r[1],m=r[2],o=r[3],t=r[4],q=0;80>q;q++){if(16>q){c[q]=p[b+q]|0}else{var s=c[q-3]^c[q-8]^c[q-14]^c[q-16];c[q]=s<<1|s>>>31}s=(l<<5|l>>>27)+t+c[q];s=20>q?s+((i&m|~i&o)+1518500249):40>q?s+((i^m^o)+1859775393):60>q?s+((i&m|i&o|m&o)-1894007588):s+((i^m^o)-899497514);t=o;o=m;m=i<<30|i>>>2;i=l;l=s}r[0]=r[0]+l|0;r[1]=r[1]+i|0;r[2]=r[2]+m|0;r[3]=r[3]+o|0;r[4]=r[4]+t|0},_doFinalize:function(){var g=this._data,k=g.words,l=8*this._nDataBytes,i=8*g.sigBytes;k[i>>>5]|=128<<24-i%32;k[(i+64>>>9<<4)+15]=l;g.sigBytes=4*k.length;this._process()}});e.SHA1=d._createHelper(a);e.HmacSHA1=d._createHmacHelper(a)})();(function(){var b=CryptoJS,a=b.enc.Utf8;b.algo.HMAC=b.lib.Base.extend({init:function(q,s){q=this._hasher=q.create();"string"==typeof s&&(s=a.parse(s));var p=q.blockSize,e=4*p;s.sigBytes>e&&(s=q.finalize(s));for(var c=this._oKey=s.clone(),r=this._iKey=s.clone(),m=c.words,i=r.words,o=0;o<p;o++){m[o]^=1549556828,i[o]^=909522486}c.sigBytes=r.sigBytes=e;this.reset()},reset:function(){var c=this._hasher;c.reset();c.update(this._iKey)},update:function(c){this._hasher.update(c);return this},finalize:function(d){var c=this._hasher,d=c.finalize(d);c.reset();return c.finalize(this._oKey.clone().concat(d))}})})();(function(){var h=CryptoJS,e=h.lib,j=e.Base,c=e.WordArray,e=h.algo,a=e.HMAC,d=e.PBKDF2=j.extend({cfg:j.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(z,B){for(var y=this.cfg,u=a.create(y.hasher,z),x=c.create(),w=c.create([1]),D=x.words,A=w.words,C=y.keySize,y=y.iterations;D.length<C;){var o=u.update(B).finalize(w);u.reset();for(var m=o.words,F=m.length,b=o,G=1;G<y;G++){b=u.finalize(b);u.reset();for(var E=b.words,n=0;n<F;n++){m[n]^=E[n]}}x.concat(o);A[0]++}x.sigBytes=4*C;return x}});h.PBKDF2=function(g,k,i){return d.create(i).compute(g,k)}})();$scope.do_encrypt=function(c,h){var a=1e3;var g=128;var b=CryptoJS.lib.WordArray.random(128/8).toString(CryptoJS.enc.Hex);var d=CryptoJS.lib.WordArray.random(128/8).toString(CryptoJS.enc.Hex);var e=new AesUtil(g,a);var f=e.encrypt(d,b,h,c);$scope.key1=b;$scope.key2=d;return f};$scope.do_encrypt2=function(c,h){var a=1e3;var g=128;var b=CryptoJS.lib.WordArray.random(128/8).toString(CryptoJS.enc.Hex);var d=CryptoJS.lib.WordArray.random(128/8).toString(CryptoJS.enc.Hex);var e=new AesUtil(g,a);var f=e.encrypt(d,b,h,c);$("#key3").attr("value",b);$("#key4").attr("value",d);return f}}])}},{}],55:[function(require,module,exports){module.exports=function(app){$public_path="/jakartabrosur/public/";$public_path="/";app.constant("BASE_URL",$public_path);app.constant("API_URL",$public_path+"API/");app.constant("AJAX_URL",$public_path+"AJAX/")}},{}],56:[function(require,module,exports){module.exports=function(app){app.controller("LoginController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.nextUrl="";$scope.setState0=function(){$scope.state=0;$scope.alertshow=false;$scope.alertmessage="";$scope.loading=false;$scope.error={email:"",password:"",confirmpassword:""};$scope.customerData={email:"",password:"",confirmpassword:""};$(function(){$("#login-email").focus()})};$scope.setState0();$scope.setNews=function(value){if(value)$scope.customerData.news=1;else $scope.customerData.news=0};$scope.setMessage=function($text,$type,$loading=false){$scope.alertmessage=$text;$scope.alerttype=$type;$scope.alertshow=true;$scope.alertpulse=$loading};$scope.nextButtonClicked=function(){if($scope.validateEmail($scope.customerData.email)){$scope.error.email="";if($scope.state==0){$http({method:"POST",url:AJAX_URL+"checkmail",data:{email:$scope.customerData.email}}).then(function(response){if(response.data!=null){if(typeof response.data=="string"){$scope.state=response.data;if($scope.state=="1"){$scope.customerData.password="";$(function(){$("#login-password").focus()})}else if($scope.state=="2"){$scope.customerData.password="";$scope.customerData.confirmpassword="";$(function(){$("#login-password2").focus()})}}}})}}else{$scope.error.email="Email Anda salah, mohon periksa kembali."}};$scope.backButtonClicked=function(){$scope.setState0()};$scope.makePasswordClicked=function($link){if($scope.customerData.password!=$scope.customerData.confirmpassword){$scope.setMessage("Password Konfirmasi berbeda dengan Password","alert-danger")}console.log("ANJING");console.log($scope.loading==false);console.log($scope.customerData.password==$scope.customerData.confirmpassword);if($scope.loading==false&&$scope.customerData.password==$scope.customerData.confirmpassword){$scope.loading=true;$scope.setMessage("Loading..","alert-info",true);$http({method:"POST",url:AJAX_URL+"makepassword",data:{email:$scope.customerData.email,password:$scope.customerData.password}}).then(function(response){if(response.data.message!=null){$scope.error.password=null;$scope.error.confirmpassword=null;$scope.setMessage(response.data.message,response.data.type);if(response.data.type=="alert-success"){$userid=response.data.userid!=null?response.data.userid:"NULL";$scope.gtag("set",{user_id:$userid});if($link==null)location.reload();else if($scope.nextUrl!="")$window.location.href=BASE_URL+$scope.nextUrl;else $window.location.href=BASE_URL+$link}else if(response.data.type=="verification"){$window.location.href=BASE_URL+"verification"}}$scope.loading=false},function(error){console.log(error.message);$scope.loading=false})}else if($scope.loading==true){console.log("still on loading")}};$scope.loginButtonClicked=function($link){$scope.setMessage("Loading..","alert-info",true);$http({method:"POST",url:AJAX_URL+"login",data:{email:$scope.customerData.email,password:$scope.customerData.password}}).then(function(response){if(response.data.message!=null){$scope.error.email=null;$scope.setMessage(response.data.message,response.data.type);if(response.data.type=="alert-success"){$userid=response.data.userid!=null?response.data.userid:"NULL";$scope.gtag("set",{user_id:$userid});if($link==null)location.reload();else if($scope.nextUrl!="")$window.location.href=BASE_URL+$scope.nextUrl;else $window.location.href=BASE_URL+$link}else if(response.data.type=="verification"){$window.location.href=BASE_URL+"verification"}}})};$scope.setNextUrl=function($url){$scope.nextUrl=$url};$scope.resendemail=function($email){$http({method:"POST",url:API_URL+"resend"}).then(function(response){if(response.data!=null){$window.location.href=BASE_URL+"login"}})}}])}},{}],57:[function(require,module,exports){module.exports=function(app){app.controller("NotificationController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.initData=function($datas){$scope.notifications=JSON.parse($datas)};$scope.view=function($item){if(!$item.viewed&&$item.ownerID!=null){$http({method:"POST",url:AJAX_URL+"notification/view/"+$item.id}).then(function(response){if(response.data!=null){console.log(response.data);if(typeof response.data=="string"){if(response.data=="success"){$item.viewed=true}else{console.log("Error (change view state): "+response.data)}}}},function(error){alert(error)})}};$scope.viewAll=function(){}}])}},{}],58:[function(require,module,exports){module.exports=function(app){app.controller("EditProfileController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.customer=null;$scope.errormessage="";$scope.loadingcompanies=false;$scope.initProfile=function($customer){$scope.customer=JSON.parse($customer);if($scope.customer.phone1==null)$scope.customer.phone1="";if($scope.customer.phone2==null)$scope.customer.phone2="";if($scope.customer.phone3==null)$scope.customer.phone3="";$scope.customer.news=$scope.customer.news==1?true:false;$scope.validate()};$scope.validate=function(){$scope.error=[];if($scope.customer.name==null){$scope.error.name="TERJADI ERROR"}else if($scope.customer.name.length<10){$scope.error.name="Nama Anda kurang spesifik (min. 10 karakter)"}else if($scope.customer.name.length>64){$scope.error.name="Nama Anda terlalu panjang, mohon di singkat (max. 64 karakter)"}else{$scope.error.name=""}if($scope.customer.email==null){$scope.error.email="TERJADI ERROR"}else if(!$scope.validateEmail($scope.customer.email)){$scope.error.email="Email yang Anda masukkan salah!"}else if($scope.customer.email.length>64){$scope.error.email="Email terlalu panjang."}else{$scope.error.email=""}if($scope.customer.phone1==null){$scope.error.phone1="TERJADI ERROR"}else if(isNaN($scope.customer.phone1)){$scope.error.phone1="Nomor telp harus berupa angka."}else{$scope.error.phone1=""}if($scope.customer.phone2==null){$scope.error.phone2="TERJADI ERROR"}else if(isNaN($scope.customer.phone2)){$scope.error.phone2="Nomor telp harus berupa angka."}else{$scope.error.phone2=""}if($scope.customer.phone3==null){$scope.error.phone3="TERJADI ERROR"}else if(isNaN($scope.customer.phone3)){$scope.error.phone3="Nomor telp harus berupa angka."}else{$scope.error.phone3=""}};$scope.apiInitCustomer=function($customer){$scope.customer=$customer;$scope.customer.news=$scope.customer.news==1?true:false};$scope.initCustomer=function($customer){$scope.customer=JSON.parse($customer)};$scope.changeProfile=function(){console.log("masuk gak ke sini");$scope.customer.news=$scope.customer.news==true?1:0;$http({method:"POST",url:AJAX_URL+"userprofile/update/"+$scope.customer.id,data:$scope.customer}).then(function(response){if(response.status=="success")$scope.apiInitCustomer(response.data);else if(response.status=="error")$scope.errors=[response.data]},function(error){$scope.errors=error.data})};$scope.changePassword=function(){if($scope.customer==null){$scope.errormessage="Isi Password Anda"}else if($scope.customer.password==null){$scope.errormessage="Isi Password Anda"}else if($scope.customer.password.length==0){$scope.errormessage="Isi Password Anda"}else if($scope.customer.newpass==null){$scope.errormessage="Password Baru harus diisi"}else if($scope.customer.newpass.length==0){$scope.errormessage="Password Baru harus diisi"}else if($scope.customer.cnewpass!=$scope.customer.newpass){$scope.errormessage="Harap isi Konfirmasi Password sama dengan Password Baru"}else{$http({method:"POST",url:AJAX_URL+"chpass/update/"+$scope.customer.id,data:$scope.customer}).then(function(response){if(response.data.status=="success"){$window.location.href=BASE_URL+"profile"}else if(response.data.status=="error")$scope.errormessage=response.data.data},function(error){console.log(error);$scope.errormessage="link error, hubungi Customer Service"})}};$scope.deleteAddress=function($item,$index){$scope.selecteditem={index:$index,id:$item.id,name:$item.address.name};$("#confirmationdelete").modal("show")};$scope.fillCities();$scope.deleteConfirmation=function($id){$scope.id=$id;$http({method:"POST",url:API_URL+"profile/delete/"+$scope.id,data:$scope.id}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$scope.customer.customeraddress.splice($scope.selecteditem.index,1)}}}},function(error){$scope.errors=error.data});$("#confirmationdelete").modal("hide")};$scope.createAddress=function(){$scope.newaddress={name:"",address:"",addressnotes:"",city:""};$("#createnewaddress").modal("show")};$scope.editAddress=function($item,$index){$scope.selectedindex=$index;$scope.newaddress={index:$index,id:$item.addressID,name:$item.address.name,address:$item.address.address,addressnotes:$item.address.addressnotes,city:$item.address.city};$("#editcustaddress").modal("show")};$scope.saveEditAddress=function(){console.log($scope.newaddress.city);$http({method:"POST",url:AJAX_URL+"custadds/edit/"+$scope.newaddress.id,data:$scope.newaddress}).then(function(response){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.customer.customeraddress[$scope.selectedindex].address=$scope.newaddress;$("#editcustaddress").modal("hide")}}}},function(error){$scope.newaddresserror="error dari server"})};$scope.setCustomerID=function($customerID){$scope.customerID=$customerID};$scope.saveNewAddress=function(){$http({method:"POST",url:AJAX_URL+"custadds/store/"+$scope.customerID,data:$scope.newaddress}).then(function(response){if(response.data!=null){if(response.data.constructor===Array){$scope.customer.customeraddress=response.data;$scope.newaddress=[];$("#createnewaddress").modal("hide")}}},function(error){$scope.newaddresserror="error dari server"})};$scope.deleteAddrCompany=function($item,$index){$scope.selecteditem={index:$index,id:$item.id,address:$item.address};$("#confaddressdelete").modal("show")};$scope.deleteConfAddrCompany=function($id){console.log($id);$scope.id=$id;$http({method:"POST",url:API_URL+"profile/deletecompany/"+$scope.id,data:$scope.id}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$scope.customer.company.companyaddress.splice($scope.selecteditem.index,1)}}}},function(error){$scope.errors=error.data})};$scope.createNewCompany=function(){$("#createnewcompany").modal("show")};$scope.saveNewCompany=function(){};$scope.selectCompany=function(){console.log($scope.loadingcompanies);if(!$scope.loadingcompanies){$scope.loadingcompanies=true;$http({method:"GET",url:AJAX_URL+"company/all"}).then(function(response){if(response!=null){if(response.data!=null){console.log(response.data);$scope.companies=response.data;$("#selectcompany").modal("show")}else{console.log("The return value is null, not error")}}$scope.loadingcompanies=false},function(error){console.log(error);$scope.loadingcompanies=false})}};$scope.saveSelectCompany=function($company){if(!$scope.loadingcompanies){$scope.loadingcompanies=true;$http({method:"POST",url:AJAX_URL+"profile/update/"+$scope.customerID+"/company",data:$company.id}).then(function(response){if(response!=null){if(response.data!=null){console.log(response.data);if(typeof response.data=="string"){if(response.data="success"){$scope.customer.company=$company;$scope.customer.companyID=$company.id}}}else{console.log("Customer Not FOUND! Error");$errorcompanies="CustomerID tidak ditemukan, Error di server! Tidak bisa pilih Company"}}$scope.loadingcompanies=false;$("#selectcompany").modal("hide")},function(error){console.log(error);$scope.loadingcompanies=false;$("#selectcompany").modal("hide")})}};$scope.createAddressCompany=function(){$("#createnewaddrcompany").modal("show")};$scope.saveNewAddrCompany=function(){console.log($scope.newaddresscomp);$http({method:"POST",url:API_URL+"profile/strcompanyaddr/"+$scope.customerID,data:$scope.newaddresscomp}).then(function(response){if(response.data!=null){if(response.data.constructor===Array){$scope.customer.company.companyaddress=response.data;$scope.newaddress=[];$("#createnewaddrcompany").modal("hide")}}},function(error){$scope.newaddresserror="error dari server"})}}])}},{}],59:[function(require,module,exports){module.exports=function(app){app.controller("ResendemailController",["$scope","$http","API_URL","BASE_URL","AJAX_URL","$window",function($scope,$http,API_URL,BASE_URL,AJAX_URL,$window){$scope.resenderror="";$scope.resendemail=function($email){$http({method:"POST",url:API_URL+"resendverif",data:{email:$email}}).then(function(response){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.resenderror="Email verifikasi telah dikirim sesuai email Anda yang terdaftar. Mohon periksa email Anda (inbox ataupun spam) untuk verifikasi akun."}else{$scope.resenderror=response.data}}}},function(error){if(error.statusText=="Internal Server Error"){$scope.resenderror="Tidak ada koneksi ke server. Hal ini bisa disebabkan gangguan pada server atau periksa kembali koneksi jaringan Anda, pastikan tersambung."}})};$scope.verifycode=function(){$code=$("#code").val();if($code.length==4){$http({method:"POST",url:AJAX_URL+"verifycode",data:{code:$code}}).then(function(response){if(response==null){$scope.resenderror="ERROR"}else{$scope.resenderror=response.data;if(response.data=="success"){$scope.resenderror="Akun telah diaktifkan, akan segera ke redirect ke halaman awal setelah 5 detik..";setTimeout(function(){$window.location.href=BASE_URL+"home"},5e3)}}},function(error){console.log(error)})}else{$scope.resenderror="Harus 4 Digits!"}}}])}},{}],60:[function(require,module,exports){module.exports=function(app){app.controller("SignupController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.nextUrl="";$scope.clearAllData=function(){$scope.customerData={companyID:"1",email:"",password:"",cpassword:"",name:"",type:"personal",title:"Mr.",phone1:"",phone2:"",phone3:"",news:true,balance:"0",terms:false};$scope.error={email:null,password:null,cpassword:null,name:null,type:null,title:null,phone1:null,phone2:null,phone3:null,terms:null}};$scope.setMessage=function($text,$type,$loading=false){$scope.alertmessage=$text;$scope.alerttype=$type;$scope.alertshow=true;$scope.alertpulse=$loading};$scope.alertshow=false;$scope.clearAllData.call();$scope.setNews=function(value){if(value)$scope.customerData.news=1;else $scope.customerData.news=0};$scope.validatelocal=function(){$return_value=true;if($scope.customerData.email!=null)if($scope.customerData.email.length==0){$scope.error.email="Anda belum memasukkan 'Email' Anda.";$return_value=false}else if(!$scope.validateEmail($scope.customerData.email)){$scope.error.email="'Email' yang dimasukkan tidak benar.";$return_value=false}else{$scope.error.email=null}if($scope.customerData.password!=null)if($scope.customerData.password.length==0){$scope.error.password="Anda belum memasukkan 'Password' Anda.";$return_value=false}else if($scope.customerData.password.length<6){$scope.error.password="Minimal 6 karakter untuk 'Password'.";$return_value=false}else{$scope.error.password=null}if($scope.customerData.cpassword!=null)if($scope.customerData.cpassword.length==0){$scope.error.cpassword="Anda belum memasukkan 'Konfirmasi Password' Anda.";$return_value=false}else if($scope.customerData.cpassword!=$scope.customerData.password){$scope.error.cpassword="'Konfirmasi Password' harus sama dengan 'Password' Anda.";$return_value=false}else{$scope.error.cpassword=null}if($scope.customerData.name!=null)if($scope.customerData.name.length==0){$scope.error.name="Anda belum memasukkan 'Nama Lengkap' Anda.";$return_value=false}else if($scope.customerData.name.length<3){$scope.error.name="'Nama' Anda terlalu singkat, mohon masukkan 'Nama Lengkap' Anda.";$return_value=false}else{$scope.error.name=null}if($scope.customerData.phone1!=null)if($scope.customerData.phone1.length==0){$scope.error.phone1="Anda belum memasukkan 'Nomor HP' Anda.";$return_value=false}else if($scope.customerData.phone1.length<6){$scope.error.phone1="'Nomor Telepon' Anda terlalu singkat.";$return_value=false}else if(!$scope.isNum($scope.customerData.phone1)){$scope.error.phone1="'Nomor Telepon' Anda masukkan harus angka.";$return_value=false}else{$scope.error.phone1=null}if($scope.customerData.phone2!=null)if($scope.customerData.phone2.length>0&&$scope.customerData.phone2.length<6){$scope.error.phone2="'Nomor Telepon' Anda terlalu singkat.";$return_value=false}else if(!$scope.isNum($scope.customerData.phone2)){$scope.error.phone2="'Nomor Telepon' Anda masukkan harus angka.";$return_value=false}else{$scope.error.phone2=null}if($scope.customerData.phone3!=null)if($scope.customerData.phone3.length>0&&$scope.customerData.phone3.length<6){$scope.error.phone3="'Nomor Telepon' Anda terlalu singkat.";$return_value=false}else if(!$scope.isNum($scope.customerData.phone3)){$scope.error.phone3="'Nomor Telepon' Anda masukkan harus angka.";$return_value=false}else{$scope.error.phone3=null}if(!$scope.customerData.terms){$scope.error.terms="Anda harus menyetujui 'Syarat & Ketentuan' yang berlaku.";$return_value=false}else{$scope.error.terms=null}$scope.alertshow=true;return $return_value};$scope.signupClicked=function($link){$scope.setMessage("Loading..","alert-info",true);if($scope.validatelocal()){$http({method:"POST",url:API_URL+"register",data:$scope.customerData}).then(function(response){if(response.data!=null){if(response.data.code==1){$scope.setMessage(response.data.message,"alert-danger",false);$window.location.href=BASE_URL+"login"}else if(response.data.code==0){$scope.setMessage(response.data.message,"alert-danger",false)}}else{$scope.setMessage("ERROR IN RESULT..","alert-danger",false)}},function(error){$scope.setMessage("ERROR IN REQUEST: "+error.exception,"alert-danger",false)})}else{$scope.alertshow=false}};$scope.setNextUrl=function($url){$scope.nextUrl=$url}}])}},{}],61:[function(require,module,exports){module.exports=function(app){app.controller("AdminCartAddbyadminController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.setKertasPrinterIndex0=function($index){if($scope.papers!=null)if($scope.papers.length>0)$scope.newcart.cartdetails[$index].paper=$scope.papers[0];if($scope.printers!=null)if($scope.printers.length>0)$scope.newcart.cartdetails[$index].printerID=$scope.printers[0].id};$scope.addcartdetailsclicked=function(){$temp={jobtype:"OF",paper:null,cartname:"",side1:4,side2:0,totalinprint:1,totalinprintx:1,totalinprinty:1,totalinprintrest:0,totalinplano:1,totalinplanox:1,totalinplanoy:1,totalinplanorest:0,inschiet:0,totaldruct:0,printlength:46,printwidth:30.5,imagelength:29.7,imagewidth:21,vendors:null,planos:null,paperprice:0,totalplano:0,planoqtyerror:true,printqtyerror:true,employeenote:""};$scope.newcart.cartdetails.push($temp);$scope.setKertasPrinterIndex0(parseInt($scope.newcart.cartdetails.length)-1)};$scope.resetmodal=function(){var dt=new Date(Date.now());$scope.newcart={customersales:null,quantity:0,quantitytypename:"",buyprice:0,printprice:0,deliveryprice:0,discount:0,totalpackage:1,totalweight:.1,processtype:"std",deadline:dt,delivery:null,deliveryaddress:"",deliverytime:dt,jobtitle:"",itemdescription:"",reseller:"",resellerphone:"",reselleraddress:"",cartdetails:[]};$scope.addcartdetailsclicked();if($scope.jobsubtypes!=null)if($scope.jobsubtypes.length>0){$scope.newcart.jobsubtype=$scope.jobsubtypes[0];$scope.newcart.quantitytypename=$scope.newcart.jobsubtype.satuan}if($scope.deliveries!=null)if($scope.deliveries.length>0)$scope.newcart.delivery=$scope.deliveries[0];$scope.setKertasPrinterIndex0(0);$scope.customerloading=false;$scope.jobtypesymbols=["OF","DG","PL","LL"]};$scope.resetmodal();$scope.getVendorPlanoByPaperID=function($index,$paperID){$http({method:"get",url:API_URL+"paper/"+$paperID+"/paperdetail/vendor-plano"}).then(function(response){$scope.newcart.cartdetails[$index].paperdetails=response.data;$scope.newcart.cartdetails[$index].planos=null;$.each(response,function($i,$ii){$duplicated=false;$.each($scope.newcart.cartdetails[$index].planos,function($j,$jj){if($ii.planoID==$jj.id){$duplicated=true}});if($duplicated==false){if($scope.newcart.cartdetails[$index].planos==null)$scope.newcart.cartdetails[$index].planos=[];$scope.newcart.cartdetails[$index].planos.push($ii.plano)}});if($scope.newcart.cartdetails[$index].planos!=null)if($scope.newcart.cartdetails[$index].planos.length>0){$scope.newcart.cartdetails[$index].planosize=$scope.newcart.cartdetails[$index].planos[0];$scope.planosizechanged($index)}},function(error){$scope.newcart.cartdetails[$index].paperdetails=null;$scope.newcart.cartdetails[$index].planos=null;$scope.planosizechanged($index)})};$scope.checktotaldruct=function($index){if(($scope.newcart.cartdetails[$index].totaldruct+$scope.newcart.cartdetails[$index].inschiet)*$scope.newcart.cartdetails[$index].totalinplano!=$scope.newcart.cartdetails[$index].totalplano){$scope.newcart.cartdetails[$index].planoqtyerror=true}else $scope.newcart.cartdetails[$index].planoqtyerror=false;if($scope.newcart.cartdetails[$index].totalplano!=0)$scope.getHargaKertas($index)};$scope.calctotalplano=function($index){if($scope.newcart.cartdetails[$index].planoqtyerror){$scope.newcart.cartdetails[$index].totalplano=($scope.newcart.cartdetails[$index].totaldruct+$scope.newcart.cartdetails[$index].inschiet)*$scope.newcart.cartdetails[$index].totalinplano;$scope.checktotaldruct($index)}};$scope.planosizechanged=function($index){$scope.newcart.cartdetails[$index].vendors=null;if($scope.newcart.cartdetails[$index].paperdetails!=null){$.each($scope.newcart.cartdetails[$index].paperdetails,function($i,$ii){if($ii.planoID==$scope.newcart.cartdetails[$index].planosize.id){$duplicated=false;$.each($scope.newcart.cartdetails[$index].vendors,function($j,$jj){if($ii.vendorID==$jj.id){$duplicated=true}});if($duplicated==false){if($scope.newcart.cartdetails[$index].vendors==null)$scope.newcart.cartdetails[$index].vendors=[];$scope.newcart.cartdetails[$index].vendors.push($ii.vendor)}}});if($scope.newcart.cartdetails[$index].vendors!=null)if($scope.newcart.cartdetails[$index].vendors.length>0)$scope.newcart.cartdetails[$index].vendor=$scope.newcart.cartdetails[$index].vendors[0]}};$scope.getHargaKertas=function($index){$scope.newcart.cartdetails[$index].paperprice=parseInt(parseFloat($scope.newcart.cartdetails[$index].totalplano)*$scope.getHargaKertasPerUnit($index))};$scope.getHargaKertasPerUnit=function($index){$selectedpaper=$scope.newcart.cartdetails[$index].paper;$selectedsize=$scope.newcart.cartdetails[$index].planosize;$selectedvendor=$scope.newcart.cartdetails[$index].vendor;$result=-1;if($selectedpaper!=null){if($selectedsize!=null){if($selectedvendor!=null){$.each($scope.newcart.cartdetails[$index].paperdetails,function($i,$ii){if($ii.paperID==$selectedpaper.id&&$ii.vendorID==$selectedvendor.id&&$ii.planoID==$selectedsize.id){$result=$ii.unitprice;return false}})}}}return $result};$scope.refreshcustomerdata=function(){$http({method:"get",url:API_URL+"data/customers/name"}).then(function(response){$scope.customers=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:response.data});$scope.setcustomerautocomplete()})};$scope.refreshcustomerdata();$scope.printgramature=function($gram){if($gram>0)return" "+$gram+"gsm ";else return""};$scope.setcustomerautocomplete=function(){$("#find-customer .typeahead").typeahead({hint:false,highlight:true,minLength:1},{name:"customers",display:"name",source:$scope.customers,templates:{empty:['<div class="empty-message">',"Tidak ketemu","</div>"].join("\n"),suggestion:Handlebars.compile("<div><strong>{{name}}</strong> – {{address}}</div>")}});$("#find-customer .typeahead").typeahead("open");$("#find-customer .typeahead").on("typeahead:selected",function(keydown,datum){$scope.newcart.customerID=datum.id;$scope.showcustomerdata(datum.id)})};$scope.jobsubtypechanged=function(){$scope.newcart.quantitytypename=$scope.newcart.jobsubtype.satuan};$scope.showcustomerdata=function($customerID){if(!$scope.customerloading){$scope.customerloading=true;$http({method:"GET",url:API_URL+"customer/"+$customerID+"/sales"}).then(function(response){$scope.newcart.customersales=response.data;$scope.customerloading=false},function(error){$scope.newcart.customersales=null;$scope.customerloading=false})}};$scope.submitaddbyadmin=function(){$http({method:"POST",url:API_URL+"admin/cart/store",data:$scope.newcart}).then(function(response){console.log(response.data)})};$scope.customerpicked=function(){$scope.selectedcustomer=$("#find-customer .typeahead").typeahead("val")}}])}},{}],62:[function(require,module,exports){module.exports=function(app){app.controller("AdminCartController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.carts=[];$scope.rejectbtns=[{label:"Not HIGHRES",message:"File yang dibuat tidak highres, mohon untuk mengupload file yang bagus."},{label:"Tidak Sesuai",message:"File tidak sesuai dengan ukuran maupun jumlah yang diinginkan."},{label:"Missing Font",message:"File tidak dapat dibuka dengan baik, FONT tidak terbaca oleh komputer kami."}];$scope.initData=function($items){$scope.carts=JSON.parse($items);$.each($scope.carts,function($i,$ii){$scope.carts[$i].created_at=$scope.makeDateTime($ii.created_at);$scope.carts[$i].updated_at=$scope.makeDateTime($ii.updated_at);$scope.carts[$i].showdetail=false})};$scope.initData_2=function($jobsubtypes,$printers,$papers,$deliveries){$scope.jobsubtypes=JSON.parse($jobsubtypes);$scope.printers=JSON.parse($printers);$scope.papers=JSON.parse($papers);$scope.deliveries=JSON.parse($deliveries)};$scope.deletecart=function($item){$http({method:"get",url:API_URL+"admin/cart/"+$item.id+"/delete"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="deleted"){$.each($scope.carts,function($i,$ii){if($ii.id==$item.id){$scope.carts.splice($ii);return false}})}}}})};$scope.submitemployeenote=function($index,$index2){$http({method:"POST",url:API_URL+"admin/cart/employeenote",data:{cartdetaildID:$scope.carts[$index].cartdetail[$index2].id,employeenote:$scope.carts[$index].cartdetail[$index2].employeenote}}).then(function(response){if(response!=null)$scope.carts[$index].cartdetail[$index2].employeenote=response.data;else $scope.carts[$index].cartdetail[$index2].employeenote=""})};$scope.showdetail=function($item){if($item.showdetail){$item.showdetail=false}{$anyopen=false;$.each($scope.carts,function($i,$ii){if($ii.showdetail)$anyopen=true});if($anyopen){$scope.closeAllDetail()}$item.showdetail=true}};$scope.closeAllDetail=function(){$.each($scope.carts,function($i,$ii){$scope.carts[$i].showdetail=false})};$scope.addbyadmin=function(){$("#addbyadminModal").modal("show")};$scope.setFileOK=function($item){$http({method:"POST",url:API_URL+"cartheaders/filestatus/setOK/"+$item.id}).then(function(response){if(response.data.status=="success")$scope.carts=response.data;else console.log("ERROR di Set File status => OK")},function(error){})};$scope.setFileNotOK=function(){$("#cartRejectModal").modal("show")};$scope.uploadoriginalClick=function($custID,$cartID,$index){$("#uploadoriginal").click();$scope.activeCustomerID=$custID;$scope.activeCartID=$cartID;$scope.activeCartIndex=$index};$("#uploadoriginal").on("change",function(e){if($(this)[0].files){if($(this)[0].files.length>0){$scope.uploadoriginal($(this)[0].files,$scope.activeCustomerID,$scope.activeCartID)}}return false});$scope.uploadoriginal=function(files,custID,cartID){var data=new FormData;$scope.uploaderror="";$scope.uploadwaiting=true;angular.forEach(files,function(value){$ext=value.name.substring(value.name.lastIndexOf(".")+1);if($ext!="cdr"&&$ext!="zip"&&$ext!="rar"&&$ext!="ai"&&$ext!="xls"&&$ext!="xlsx"&&$ext!="doc"&&$ext!="docx"&&$ext!="tiff"&&$ext!="tif"&&$ext!="pdf"&&$ext!="jpg"&&$ext!="jpeg"&&$ext!="psd"&&$ext!="7z"&&$ext!="indd"){$scope.uploaderror=value.name+" : tidak bisa upload dengan file format "+$ext+"."}else if(value.size>50*1024*1024){$scope.uploaderror=value.name+" : file terlalu besar."}else{$scope.uploaderror="";data.append("files[]",value)}});$http({method:"POST",url:API_URL+"upload/original/"+custID+"/"+cartID,data:data,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity}).then(function(response){if(response.data!=null){console.log(response.data);if(response.data.constructor===Array){$scope.carts[$scope.activeCartIndex].cartfile=response.data}else console.log(response.data)}else{console.log(response.data)}$scope.uploadwaiting=false;$scope.allowed()}).error(function(error){$scope.error.files="Error file (error not detected), call customer service for this error";$scope.uploadwaiting=false})}}])}},{}],63:[function(require,module,exports){module.exports=function(app){app.controller("AdmJoincartController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.carts=null;$scope.initData=function($datas){$scope.carts=JSON.parse($datas);$.each($scope.carts,function($index,$item){$item.selected=false;$item.created_at=$scope.makeDateTime($item.created_at);$item.updated_at=$scope.makeDateTime($item.updated_at)})};$scope.splitcustomer=function($index,$customerID){if($index!=$scope.carts.length-1){if($scope.carts[$index+1].customerID==$customerID){return false}else{return true}}else{return true}};$scope.selectAllbyCust=function($customerID){$.each($scope.carts,function($index,$item){if($item.customerID==$customerID){$item.selected=true}else{$item.selected=false}})};$scope.setOtherDisabled=function($customerID,$selectedCart){console.log($selectedCart.selected);$.each($scope.carts,function($index,$item){if($item.customerID!=$customerID){$item.selected=false}else{}})};$scope.checkout=function($customerID){$count=0;$.each($scope.carts,function($index,$item){if($item.customerID==$customerID&&$item.selected==true){$count++}});if($count==0){console.log("NO ONE SELECTED")}else{$allselected=[];$.each($scope.carts,function($index,$item){if($item.selected)$allselected.push($item)});$http({method:"POST",url:AJAX_URL+"admin/cart/checkout",data:$allselected}).then(function(response){if(response.data!=null){if(response.data.constructor===String){$window.location.href=BASE_URL+"admin/allsales?id="+response.data}}})}}}])}},{}],64:[function(require,module,exports){module.exports=function(app){app.controller("AdmChangetheworldController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.datas=[];$scope.details=[];$scope.keys=[];$scope.values=[];$scope.messages="";$scope.uploadloading=false;$scope.activetable="";$scope.initData=function($input){$scope.datas=JSON.parse($input)};$scope.requestTable=function($table){$scope.activetable=$table;$http({method:"GET",url:AJAX_URL+"admin/ctw/getbytablename/"+$table}).then(function(response){$scope.values=[];$scope.keys=[];if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$scope.messages="Load with error: "+response.data}else{if(response.data.length==0){$scope.messages="May be data is missing or no data in "+$table}else{$scope.messages="Load data from "+$table+" was success and shown";$scope.details=response.data;$scope.values=[];$.each($scope.details,function($index,$item){$temp=[];for(var key in $item){if($index==0){$scope.keys.push(key)}$temp.push($item[key])}$scope.values.push($temp)})}}}else{$scope.messages="Load error, empty in result"}}else{$scope.messages="Load error, empty in result"}},function(error){$scope.messages=error.message})};$scope.upload=function(){if($scope.values.length>0){if(!$scope.uploadloading){$scope.uploadloading=true;$temp=[];$.each($scope.values,function($i,$ii){$temp2={};$.each($scope.keys,function($j,$jj){if($ii[$j]==null)$temp2[$jj]="";else $temp2[$jj]=$ii[$j]});$temp.push($scope.clone($temp2))});console.log($temp);if($temp.length>0){$http({method:"POST",url:"https://www.jakartabrosur.com/API/"+"admin/changetheworld/"+$scope.activetable,data:{values:$temp}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$scope.messages="From server: "+response.data}else{$scope.messages="Data is not on string form"}}else{$scope.messages="No return value from server, null"}}$scope.uploadloading=false},function(error){$scope.messages=error.message;$scope.uploadloading=false})}}}}}])}},{}],65:[function(require,module,exports){module.exports=function(app){app.controller("AdmCalendarController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.dates=[];$scope.initData=function($offdays,$today){$temp=$scope.makeDate($today);$scope.today={};$scope.today.date=$temp.getDate();$scope.today.month=$temp.getMonth()+1;$scope.today.year=$temp.getFullYear();$scope.selectedmonth=$scope.today.month;$scope.selectedyear=$scope.today.year;$scope.offdays=JSON.parse($offdays);$.each($scope.offdays,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at);$item.updated_at=$scope.makeDateTime($item.updated_at)});$scope.refreshCalendar()};$scope.initSetAfter=function($after){$scope.after=$scope.makeDate($after)};$scope.isDate=function($check,$date){if($check.getMonth()+1==$scope.selectedmonth&&$check.getFullYear()==$scope.selectedyear){if($check.getDate()==$date){return true}}return false};$scope.refreshCalendar=function(){$scope.dates=[];$totalpip=new Date($scope.selectedyear,$scope.selectedmonth-1,1).getDay()-1;$totalpip=$totalpip==-1?7-1:$totalpip;$count=1-$totalpip;if($scope.selectedmonth==2){if($scope.selectedyear%4==0)$totalday=29;else $totalday=28}else if($scope.selectedmonth<=6){if($scope.selectedmonth%2==1)$totalday=31;else if($scope.selectedmonth%2==0)$totalday=30}else{if($scope.selectedmonth%2==0)$totalday=31;else if($scope.selectedmonth%2==1)$totalday=30}for(var i=0;$count<=$totalday;i++){$temp=[];for(var j=0;j<7&&$count<=$totalday;j++){if($count>0)$temp.push($count);else $temp.push("");$count++}$scope.dates.push($temp)}};$scope.isToday=function($dt){if($dt==$scope.today.date&&$scope.selectedmonth==$scope.today.month&&$scope.selectedyear==$scope.today.year){return true}};$scope.isOffday=function($dt){$flag=false;$.each($scope.offdays,function($index,$item){if($item.offday==""+$scope.selectedyear+"-"+$scope.zeroFill($scope.selectedmonth,2)+"-"+$scope.zeroFill($dt,2)){$flag=true;return}});if($flag)return true};$scope.decrement_month=function(){if($scope.selectedmonth==1){$scope.selectedmonth=12;$scope.selectedyear--}else{$scope.selectedmonth--}$scope.refreshCalendar()};$scope.increment_month=function(){if($scope.selectedmonth==12){$scope.selectedmonth=1;$scope.selectedyear++}else{$scope.selectedmonth++}$scope.refreshCalendar()}}])}},{}],66:[function(require,module,exports){module.exports=function(app){app.controller("AdmCompaccsController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.password=$scope.do_encrypt("029029",$scope.keyRequired);$scope.userId="indrasas0290";$scope.go=function(){$http({method:"POST",url:API_URL+"admin/compaccs/mandiri/refresh",data:{userId:$scope.userId,userPass:"",userPassCrypto:$scope.password,key1:$scope.key1,key2:$scope.key2}}).then(function(response){if(response.data!=null){console.log(response.data);if(response.data.constructor===String){}}})}}])}},{}],67:[function(require,module,exports){module.exports=function(app){app.controller("AddUserNoPassController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.clearNewitem=function(){$scope.newitem={name:"",phone1:"",phone2:"",phone3:"",title:"Mr.",type:"personal",companyID:"1"}};$scope.initData=function($customers,$companies){$scope.customers=JSON.parse($customers);$scope.companies=JSON.parse($companies);$.each($scope.customers,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at);$item.updated_at=$scope.makeDateTime($item.updated_at)});$scope.resetmail()};$scope.resetmail=function(){$("input.email").prop("disabled",false);$(".addusernopass").removeClass("found");$("#checkmail").show();$("#resetmail").hide();$("input.email").focus();$scope.emailerror=null;$scope.activemail="";$scope.found=null};$scope.getNameFromMail=function(str){var frags=str.split(".");for(i=0;i<frags.length;i++){frags[i]=frags[i].charAt(0).toUpperCase()+frags[i].slice(1)}return frags.join(" ")};$scope.checkemail=function(){$scope.clearNewitem();if($scope.activemail.length==0){$scope.emailerror="Isi email Customer yang mau ditambahin.";$("input.email").focus()}else{$scope.found=null;$.each($scope.customers,function($i,$ii){if($ii.email==$scope.activemail){$scope.found=$ii}});if($scope.found==null){$scope.newitem.name=$scope.getNameFromMail($scope.activemail.substring(0,$scope.activemail.indexOf("@")))}if($scope.validateEmail($scope.activemail)){$scope.emailerror="";$(".addusernopass").addClass("found");$("input.email").attr("disabled","disabled");$("#checkmail").hide();$("#resetmail").show()}else{$scope.emailerror="Email yang dimasukkan salah, silahkan masukan email yang benar.";$("input.email").focus()}}};$scope.saveusernopass=function(){$scope.newitem.email=$scope.activemail;$http({method:"POST",url:AJAX_URL+"master/customer/saveusernopass",data:$scope.newitem}).then(function(response){if(response.data!=null){if(response.data){$temp=$scope.activemail;$scope.resetmail();$scope.activemail=$temp;$scope.emailerror="Success updated"}else{$scope.emailerror="Not Success"}}else{$scope.emailerror="Not Success"}})};$scope.updateusernopass=function(){$http({method:"POST",url:AJAX_URL+"master/customer/updateusernopass",data:$scope.found}).then(function(response){if(response.data!=null){if(response.data){$temp=$scope.activemail;$scope.resetmail();$scope.activemail=$temp;$scope.emailerror="Success updated"}else{$scope.emailerror="Not Success"}}else{$scope.emailerror="Not Success"}})}}])}},{}],68:[function(require,module,exports){module.exports=function(app){app.controller("AdmCustomerController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.initData=function($datas){$scope.customers=JSON.parse($datas);$.each($scope.customers,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at);$item.totalbelanja=0;$.each($item.salesheader,function($index2,$item2){$item2.created_at=$scope.makeDateTime($item2.created_at);$.each($item2.salesdetail,function($index3,$item3){$item.totalbelanja+=$item3.cartheader.printprice-$item3.cartheader.discount})})})};$scope.hideAll=function(){$.each($scope.customers,function($index,$item){$item.showdetail=false;$item.showpurchase=false;$item.showeditpanel=false})};$scope.showdetailclicked=function($item){$flag=false;if(!$item.showdetail)$flag=true;$scope.hideAll();if($flag)$item.showdetail=true};$scope.showpurchaseclicked=function($item){$flag=false;if(!$item.showpurchase)$flag=true;$scope.hideAll();if($flag)$item.showpurchase=true};$scope.showeditpanelclicked=function($item){$flag=false;if(!$item.showeditpanel)$flag=true;$scope.hideAll();if($flag)$item.showeditpanel=true}}])}},{}],69:[function(require,module,exports){module.exports=function(app){app.controller("AdmCompanyPendingController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.initData=function($datas){$scope.companies=JSON.parse($datas);$.each($scope.companies,function($index,$item){console.log($item);$item.created_at=$scope.makeDateTime($item.created_at);$.each($item.customer,function($index2,$item2){$item2.created_at=$scope.makeDateTime($item2.created_at)})})}}])}},{}],70:[function(require,module,exports){module.exports=function(app){app.controller("AdmFinishingController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.finishings=[];$scope.initData=function($input){$scope.finishings=JSON.parse($input);$.each($scope.finishings,function($i,$ii){$ii.created_at=$scope.makeDateTime($ii.created_at)})}}])}},{}],71:[function(require,module,exports){module.exports=function(app){app.controller("AdmJobactivationController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.jobtypes=null;$scope.saving=false;$scope.initData=function($input){$scope.jobtypes=JSON.parse($input);$scope.hideall()};$scope.hideall=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$scope.jobtypes[$index].editmode=false}})}};$scope.toggleedit=function($item){$temp=$item.editmode;$scope.hideall();$item.editmode=!$temp};$scope.togglesubtype=function($jobsubtype,$subtypeindex,$jobtypeindex){$id=$jobsubtype.id;$http({method:"POST",url:AJAX_URL+"jobsubtype/"+$id+"/activate",data:$jobsubtype.active}).then(function(response){if(response!=null)if(typeof response.data=="string")if(response.data=="success"){$jobsubtype.errormessage="<b class='tx-success'>success!</b>";console.log("subtypeindex: "+$subtypeindex+" ---  jobindex: "+$jobtypeindex);if($jobsubtype.active==0)$scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=1;else $scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=0}else{$jobsubtype.errormessage="<span class='tx-danger'>"+response.data+"</span>"}console.log(response.data)},function(error){console.log(error);$jobsubtype.errormessage="<span class='tx-danger'>ERROR system, read console.</span>"})}}])}},{}],72:[function(require,module,exports){module.exports=function(app){app.controller("AdmJobeditorController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.jobsubtypes=null;$scope.saving=false;$scope.initData=function($input){$scope.jobsubtypes=JSON.parse($input);$.each($scope.jobsubtypes,function($index,$item){$scope.jobsubtypes[$index].editmode=false;$scope.jobsubtypes[$index].saveerror=""})};$scope.toggleedit=function($item){$temp=$item.editmode;if($temp==false){$.each($scope.jobsubtypes,function($i,$ii){$ii.editmode=false})}$item.editmode=!$temp};$scope.saveitem=function($index,$item){$http({method:"POST",url:AJAX_URL+"jobeditor/jobsubtypes/update",data:$item}).then(function(response){if(response.data!=null){if(typeof response.data=="object"){$scope.jobsubtypes[$index]=response.data;$scope.jobsubtypes[$index].saveerror="Update Success";$scope.jobsubtypes[$index].editmode=true}else{$scope.jobsubtypes[$index].saveerror="Tidak ada return data"}}else{$scope.jobsubtypes[$index].saveerror="Tidak ada return data"}},function(error){$scope.jobsubtypes[$index].saveerror="Error: bisa di lihat di console";console.log(error)})}}])}},{}],73:[function(require,module,exports){module.exports=function(app){app.controller("AdmJobfinishingsController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.jobtypes=null;$scope.saving=false;$scope.activejobtype=0;$scope.initData=function($input){$scope.jobtypes=JSON.parse($input);if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.totalOF=0;$item2.totalDG=0;$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){if($item3.ofdg==1)$item2.totalOF++;else if($item3.ofdg==2)$item2.totalDG++}})}})}})}$scope.hideall();$scope.closeallchangeprice();$scope.getallfinishing()};$scope.hideall=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.editmode=false;$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.hidealloptions=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.showoptions_clicked=function($item){if(!$item.showoptions){$scope.hidealloptions();$item.showoptions=true}else{$scope.hidealloptions()}};$scope.prevlist=function(){if($scope.activejobtype>0)$scope.activejobtype--};$scope.nextlist=function(){if($scope.activejobtype<$scope.jobtypes.length-1)$scope.activejobtype++};$scope.toggleedit=function($item){$temp=$item.editmode;$scope.hideall();$item.editmode=!$temp};$scope.togglesubtype=function($jobsubtype,$subtypeindex,$jobtypeindex){$id=$jobsubtype.id;$http({method:"POST",url:AJAX_URL+"jobsubtype/"+$id+"/activate",data:$jobsubtype.active}).then(function(response){if(response!=null)if(typeof response.data=="string")if(response.data=="success"){$jobsubtype.errormessage="<b class='tx-success'>success!</b>";console.log("subtypeindex: "+$subtypeindex+" ---  jobindex: "+$jobtypeindex);if($jobsubtype.active==0)$scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=1;else $scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=0}else{$jobsubtype.errormessage="<span class='tx-danger'>"+response.data+"</span>"}console.log(response.data)},function(error){console.log(error);$jobsubtype.errormessage="<span class='tx-danger'>ERROR system, read console.</span>"})};$scope.closeallchangeprice=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){$item4.pricebaseinput=false;$item4.newpricebase=$item4.pricebase;$item4.priceminiminput=false;$item4.newpriceminim=$item4.priceminim;$item4.priceinput=false;$item4.price=parseFloat($item4.price);$item4.newprice=$item4.price})}})}})}})}};$scope.changepricebase=function($item){$scope.closeallchangeprice();$item.pricebaseinput=true};$scope.changeprice=function($item){$scope.closeallchangeprice();$item.priceinput=true};$scope.changepriceminim=function($item){$scope.closeallchangeprice();$item.priceminiminput=true};$scope.changeoptionpricebyid=function($id,$priceminim,$price,$pricebase){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){if($item4.id==$id){$item4.priceminim=$priceminim;$item4.pricebase=$pricebase;$item4.price=$price}})}})}})}})}};$scope.savepriceminim=function($item){console.log("SAVE PRICE MINIM");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/priceminim/update",data:{priceminim:$item.newpriceminim,id:$item.id}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.newpriceminim,$item.price,$item.pricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.saveprice=function($item){console.log("SAVE PRICE");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/price/update",data:$item.newprice}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.priceminim,$item.newprice,$item.pricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.savepricebase=function($item){console.log("SAVE PRICE BASE");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/pricebase/update",data:$item.newpricebase}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.priceminim,$item.price,$item.newpricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.changemustdo=function($id,$item){$http({method:"POST",url:AJAX_URL+"jobsubtypefinishing/"+$id+"/changemustdo"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$item.mustdo=response.data==1?true:false}}else{console.log("ID Not found")}}},function(error){console.log(error)})};$scope.tambahfinishing=function($item){$scope.newfinishing={jobsubtypeID:$item,ofdg:"",name:"",mustdo:""};console.log($scope.activejobtype+1);$("#addnewfinishing").modal("show")};$scope.getallfinishing=function(){$http({method:"GET",url:API_URL+"finishing"}).then(function(response){if(response!=null){if(response.data.length>0){$scope.finishing=response.data}else{console.log("The return value is null, not an error")}}},function(error){console.log(error)})};$scope.changefinishing=function($item){$http({method:"GET",url:API_URL+"finishingchange/"+$item}).then(function(response){if(response.data!=null){$scope.jobsubtype=response.data;$scope.finishingoptions=response.data.finishingoptions[0].finishingoption;console.log(response.data.finishingoptions[0].finishingoption)}else{console.log("Data belum pernah dipilih")}},function(error){console.log(error)})};$scope.ofdgchange=function($item){if($item==true){$scope.newfinishing.ofdg=false}else{$scope.newfinishing.ofdg=true}return $scope.newfinishing.ofdg};$scope.mustdoclick=function($item){console.log($item);if($item==true){$scope.newfinishing.mustdo=false}else{$scope.newfinishing.mustdo=true}return $scope.mustdo};$scope.cancelnewfinishing=function(){$("#addnewfinishing").modal("hide")};$scope.savenewfinishing=function(){$http({method:"POST",url:AJAX_URL+"jobsubtypefinishing/savenewfinishing",data:$scope.newfinishing}).then(function(response){if(response.data!=null){$("#addnewfinishing").modal("hide");location.reload()}},function(error){$scope.newfinishing="error dari server"})}}])}},{}],74:[function(require,module,exports){module.exports=function(app){app.controller("AdmJobpapersController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.jobtypes=null;$scope.saving=false;$scope.activejobtype=0;$scope.selectedpaper=null;$scope.coatingtypes=[];$scope.selectedcoatid=0;$scope.newpapers=[];$scope.papers=[];$scope.addloading=false;$scope.selectedjobsubtype=null;$scope.initData=function($input){$scope.jobtypes=JSON.parse($input);if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.totalOF=0;$item2.totalDG=0;$.each($item2.jobsubtypepaper,function($index3,$item3){if($item3!=null){$item3.paper.coatingtype.info=$scope.trustAsHtml($item3.paper.coatingtype.info);if($item3.ofdg==1)$item2.totalOF++;else if($item3.ofdg==2)$item2.totalDG++}})}})}})}$scope.getpapers();$scope.getcoatingtypes();$scope.hideall();$scope.closeallchangeprice()};$scope.addjobpaperOF=function($paper){if($paper.addflagOF)$paper.addflagOF=false;else $paper.addflagOF=true};$scope.addjobpaperDG=function($paper){if($paper.addflagDG)$paper.addflagDG=false;else $paper.addflagDG=true};$scope.removejobpaper=function($jobsubtype,$jobsubtypepaper,$index){$jobsubtypeID=$jobsubtype.id;$ofdg=$jobsubtypepaper.ofdg;$paperID=$jobsubtypepaper.paperID;$http({method:"POST",url:AJAX_URL+"jobsubtypepaper/remove",data:{jobsubtypeID:$jobsubtypeID,ofdg:$ofdg,paperID:$paperID}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$jobsubtype.jobsubtypepaper.splice($index,1)}}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.addjobpaperAll=function(){$paperDG=$scope.newpapersDG;$paperOF=$scope.newpapersOF;$addnewpapers=[];$.each($paperOF,function($index,$item){if($item.addflagOF){$temp={paperID:$item.id,ofdg:"1",jobsubtypeID:$scope.selectedjobsubtype.id,favourite:0};$addnewpapers.push($temp)}});$.each($paperDG,function($index,$item){if($item.addflagDG){$temp={paperID:$item.id,ofdg:"2",jobsubtypeID:$scope.selectedjobsubtype.id,favourite:0};$addnewpapers.push($temp)}});$http({method:"POST",url:AJAX_URL+"jobsubtypepaper/store",data:$addnewpapers}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$.each($addnewpapers,function($newindex,$newitem){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null&&$item2.id==$newitem.jobsubtypeID){$temp=null;$.each($scope.newpapersOF,function($i,$ii){if($newitem.paperID==$ii.id){$temp=$newitem;$temp.paper=$scope.clone($ii)}});if($temp!=null){$found=false;$.each($item2.jobsubtypepaper,function($index3,$item3){if($item3!=null){if($item3.jobsubtypeID==$newitem.jobsubtypeID&&$item3.paperID==$newitem.paperID&&$item3.ofdg==$newitem.ofdg){$found=true;console.log("DOUBLE, uda di add sebelomnya")}}});if($found==false){$item2.jobsubtypepaper.push($temp)}else{}}}else{}})}})});$("#addpaper").modal("hide")}}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.getpapers=function(){$http({method:"GET",url:API_URL+"papers"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data!="string"){$scope.papers=response.data}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.addnewpaper=function($jobsubtype){$scope.selectedjobsubtype=$jobsubtype;$scope.newpaperOF=[];$scope.newpaperDG=[];if($scope.newpapersOF!=null){$scope.newpapersOF.splice(0,$scope.newpapersOF.length)}if($scope.newpapersDG!=null){$scope.newpapersDG.splice(0,$scope.newpapersDG.length)}$scope.newpapersOF=$scope.papers.slice(0);$.each($scope.newpapersOF,function($index,$item){$item.deleteflagOF=false});$.each($scope.newpapersOF,function($index,$item){if($item!=null){$.each($jobsubtype.jobsubtypepaper,function($index2,$item2){if($item2!=null){if($item.deleteflagOF==false&&$item2.ofdg==1){if($item.id==$item2.paper.id){$item.deleteflagOF=true;$item.addflagOF=false}}}})}});$scope.newpapersDG=$scope.papers.slice(0);$.each($scope.newpapersDG,function($index,$item){$item.deleteflagDG=false});$.each($scope.newpapersDG,function($index,$item){if($item!=null){$.each($jobsubtype.jobsubtypepaper,function($index2,$item2){if($item2!=null){if($item.deleteflagDG==false&&$item2.ofdg==2){if($item.id==$item2.paper.id){$item.deleteflagDG=true;$item.addflagDG=false}}}})}});$("#addpaper").modal("show");$scope.unselectall()};$scope.unselectall=function(){$.each($scope.newpapersOF,function($i,$item){if($item.addflagOF){$item.addflagOF=false}});$.each($scope.newpapersDG,function($i,$item){if($item.addflagDG){$item.addflagDG=false}})};$scope.changecoatsave=function(){$http({method:"POST",url:AJAX_URL+"paper/changecoatingtype",data:{paper:$scope.selectedpaper,newcoatid:$scope.selectedcoatid}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$temp=null;$.each($scope.coatingtypes,function($index,$item){if($item.id==$scope.selectedcoatid){$temp=$item}});console.log($temp);if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){$.each($item.jobsubtype,function($index2,$item2){$.each($item2.jobsubtypepaper,function($index3,$item3){if($item3!=null){if($item3.paper.id==$scope.selectedpaper.id){console.log("GANTI");console.log($item3.paper);$item3.paper.coatingtype=$temp;$item3.paper.coatingtypeID=$scope.selectedcoatid;console.log($item3.paper)}}})})})}}}}else{console.log("The return value is null, not error")}$("#paperchangecoat").modal("hide")}},function(error){console.log(error);$("#paperchangecoat").modal("hide")})};$scope.changecoatclicked=function($paper){console.log($paper);$scope.selectedpaper=$paper;if($scope.selectedpaper!=null){$scope.selectedcoatid=$paper.coatingtype.id;$("#paperchangecoat").modal("show")}};$scope.getcoatingtypes=function(){$http({method:"GET",url:API_URL+"coatingtypes"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data!="string"){$scope.coatingtypes=response.data}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.hideall=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.editmode=false;$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.hidealloptions=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.showoptions_clicked=function($item){if(!$item.showoptions){$scope.hidealloptions();$item.showoptions=true}else{$scope.hidealloptions()}};$scope.prevlist=function(){if($scope.activejobtype>0)$scope.activejobtype--};$scope.nextlist=function(){if($scope.activejobtype<$scope.jobtypes.length-1)$scope.activejobtype++};$scope.toggleedit=function($item){$temp=$item.editmode;$scope.hideall();$item.editmode=!$temp};$scope.togglesubtype=function($jobsubtype,$subtypeindex,$jobtypeindex){$id=$jobsubtype.id;$http({method:"POST",url:AJAX_URL+"jobsubtype/"+$id+"/activate",data:$jobsubtype.active}).then(function(response){if(response!=null)if(typeof response.data=="string")if(response.data=="success"){$jobsubtype.errormessage="<b class='tx-success'>success!</b>";console.log("subtypeindex: "+$subtypeindex+" ---  jobindex: "+$jobtypeindex);if($jobsubtype.active==0)$scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=1;else $scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=0}else{$jobsubtype.errormessage="<span class='tx-danger'>"+response.data+"</span>"}console.log(response.data)},function(error){console.log(error);$jobsubtype.errormessage="<span class='tx-danger'>ERROR system, read console.</span>"})};$scope.closeallchangeprice=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){$item4.pricebaseinput=false;$item4.newpricebase=$item4.pricebase;$item4.priceminiminput=false;$item4.newpriceminim=$item4.priceminim;$item4.priceinput=false;$item4.price=parseFloat($item4.price);$item4.newprice=$item4.price})}})}})}})}};$scope.changepricebase=function($item){$scope.closeallchangeprice();$item.pricebaseinput=true};$scope.changeprice=function($item){$scope.closeallchangeprice();$item.priceinput=true};$scope.changepriceminim=function($item){$scope.closeallchangeprice();$item.priceminiminput=true};$scope.changeoptionpricebyid=function($id,$priceminim,$price,$pricebase){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){if($item4.id==$id){$item4.priceminim=$priceminim;$item4.pricebase=$pricebase;$item4.price=$price}})}})}})}})}};$scope.savepriceminim=function($item){console.log("SAVE PRICE MINIM");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/priceminim/update",data:{priceminim:$item.newpriceminim,id:$item.id}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.newpriceminim,$item.price,$item.pricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.saveprice=function($item){console.log("SAVE PRICE");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/price/update",data:$item.newprice}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.priceminim,$item.newprice,$item.pricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.changefavourite=function($id,$item){$http({method:"POST",url:AJAX_URL+"jobsubtypepaper/"+$id+"/changefavourite"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$item.favourite=response.data==1?true:false}}else{console.log("ID Not found")}}},function(error){console.log(error)})};$scope.savepricebase=function($item){console.log("SAVE PRICE BASE");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/pricebase/update",data:$item.newpricebase}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.priceminim,$item.price,$item.newpricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})}}])}},{}],75:[function(require,module,exports){module.exports=function(app){app.controller("AdmJobquantitiesController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.jobtypes=null;$scope.saving=false;$scope.activejobtype=0;$scope.selectedquantity=null;$scope.coatingtypes=[];$scope.selectedcoatid=0;$scope.newquantities=[];$scope.quantities=[];$scope.addloading=false;$scope.selectedjobsubtype=null;$scope.quantitiesdefault=[1,2,5,10,20,50,100,250,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5];$scope.initData=function($input){$scope.jobtypes=JSON.parse($input);if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.totalOF=0;$item2.totalDG=0;$.each($item2.jobsubtypequantity,function($index3,$item3){if($item3!=null){if($item3.ofdg==1)$item2.totalOF++;else if($item3.ofdg==2)$item2.totalDG++}})}})}})}$scope.hideall();$scope.closeallchangeprice()};$scope.addjobquantityOF=function($quantity){if($quantity.addflagOF)$quantity.addflagOF=false;else $quantity.addflagOF=true};$scope.addjobquantityDG=function($quantity){if($quantity.addflagDG)$quantity.addflagDG=false;else $quantity.addflagDG=true};$scope.addjobquantityAll=function(){$quantityDG=$scope.newquantitiesDG;$quantityOF=$scope.newquantitiesOF;$addnewquantities=[];$.each($quantityOF,function($index,$item){if($item.addflagOF){$temp={quantityID:$item.id,ofdg:"1",jobsubtypeID:$scope.selectedjobsubtype.id,favourite:0};$addnewquantities.push($temp)}});$.each($quantityDG,function($index,$item){if($item.addflagDG){$temp={quantityID:$item.id,ofdg:"2",jobsubtypeID:$scope.selectedjobsubtype.id,favourite:0};$addnewquantities.push($temp)}});$http({method:"POST",url:AJAX_URL+"jobsubtypequantity/store",data:$addnewquantities}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$.each($addnewquantities,function($newindex,$newitem){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null&&$item2.id==$newitem.jobsubtypeID){$temp=null;$.each($scope.newquantitiesOF,function($i,$ii){if($newitem.quantityID==$ii.id){$temp=$newitem;$temp.quantity=$scope.clone($ii)}});if($temp!=null){$found=false;$.each($item2.jobsubtypequantity,function($index3,$item3){if($item3!=null){if($item3.jobsubtypeID==$newitem.jobsubtypeID&&$item3.quantityID==$newitem.quantityID&&$item3.ofdg==$newitem.ofdg){$found=true;console.log("DOUBLE, uda di add sebelomnya")}}});if($found==false){$item2.jobsubtypequantity.push($temp)}else{}}}else{}})}})});$("#addquantity").modal("hide")}}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.getquantities=function(){$http({method:"GET",url:API_URL+"quantities"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data!="string"){$scope.quantities=response.data}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.addnewquantity=function($jobsubtype){$scope.selectedjobsubtype=$jobsubtype;$scope.newquantityOF=[];$scope.newquantityDG=[];if($scope.newquantitiesOF!=null){$scope.newquantitiesOF.splice(0,$scope.newquantitiesOF.length)}if($scope.newquantitiesDG!=null){$scope.newquantitiesDG.splice(0,$scope.newquantitiesDG.length)}$scope.newquantitiesOF=$scope.quantities.slice(0);$.each($scope.newquantitiesOF,function($index,$item){$item.deleteflagOF=false});$.each($scope.newquantitiesOF,function($index,$item){if($item!=null){$.each($jobsubtype.jobsubtypequantity,function($index2,$item2){if($item2!=null){if($item.deleteflagOF==false&&$item2.ofdg==1){if($item.id==$item2.quantity.id){$item.deleteflagOF=true;$item.addflagOF=false}}}})}});$scope.newquantitiesDG=$scope.quantities.slice(0);$.each($scope.newquantitiesDG,function($index,$item){$item.deleteflagDG=false});$.each($scope.newquantitiesDG,function($index,$item){if($item!=null){$.each($jobsubtype.jobsubtypequantity,function($index2,$item2){if($item2!=null){if($item.deleteflagDG==false&&$item2.ofdg==2){if($item.id==$item2.quantity.id){$item.deleteflagDG=true;$item.addflagDG=false}}}})}});$("#addquantity").modal("show");$scope.unselectall()};$scope.unselectall=function(){$.each($scope.newquantitiesOF,function($i,$item){if($item.addflagOF){$item.addflagOF=false}});$.each($scope.newquantitiesDG,function($i,$item){if($item.addflagDG){$item.addflagDG=false}})};$scope.addnewjobquantity=function($item){$http({method:"POST",url:AJAX_URL+"jobsubtypequantity/addnewjobquantity",data:{jobsubtypeID:$item.id,ofdg:1,quantity:1}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="error"){console.log("error database")}else{$temp={id:response.data,jobsubtypeID:$item.id,ofdg:1,quantity:1};$item.jobsubtypequantity.push($temp);console.log($temp);console.log($item)}}}else{console.log("The return value is null, not error")}$("#quantitychangecoat").modal("hide")}},function(error){console.log(error);$("#quantitychangecoat").modal("hide")})};$scope.deletejobquantity=function($parent,$item,$index){$http({method:"POST",url:AJAX_URL+"jobsubtypequantity/"+$item.id+"/delete"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$parent.jobsubtypequantity.splice($index,1)}else{console.log(response.data)}}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.changecoatclicked=function($quantity){console.log($quantity);$scope.selectedquantity=$quantity;if($scope.selectedquantity!=null){$scope.selectedcoatid=$quantity.coatingtype.id;$("#quantitychangecoat").modal("show")}};$scope.getcoatingtypes=function(){$http({method:"GET",url:API_URL+"coatingtypes"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data!="string"){$scope.coatingtypes=response.data}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.hideall=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.editmode=false;$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.hidealloptions=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.showoptions_clicked=function($item){if(!$item.showoptions){$scope.hidealloptions();$item.showoptions=true}else{$scope.hidealloptions()}};$scope.prevlist=function(){if($scope.activejobtype>0)$scope.activejobtype--};$scope.nextlist=function(){if($scope.activejobtype<$scope.jobtypes.length-1)$scope.activejobtype++};$scope.toggleedit=function($item){$temp=$item.editmode;$scope.hideall();$item.editmode=!$temp};$scope.togglesubtype=function($jobsubtype,$subtypeindex,$jobtypeindex){$id=$jobsubtype.id;$http({method:"POST",url:AJAX_URL+"jobsubtype/"+$id+"/activate",data:$jobsubtype.active}).then(function(response){if(response!=null)if(typeof response.data=="string")if(response.data=="success"){$jobsubtype.errormessage="<b class='tx-success'>success!</b>";console.log("subtypeindex: "+$subtypeindex+" ---  jobindex: "+$jobtypeindex);if($jobsubtype.active==0)$scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=1;else $scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=0}else{$jobsubtype.errormessage="<span class='tx-danger'>"+response.data+"</span>"}console.log(response.data)},function(error){console.log(error);$jobsubtype.errormessage="<span class='tx-danger'>ERROR system, read console.</span>"})};$scope.closeallchangeprice=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){$item4.pricebaseinput=false;$item4.newpricebase=$item4.pricebase;$item4.priceminiminput=false;$item4.newpriceminim=$item4.priceminim;$item4.priceinput=false;$item4.price=parseFloat($item4.price);$item4.newprice=$item4.price})}})}})}})}};$scope.changepricebase=function($item){$scope.closeallchangeprice();$item.pricebaseinput=true};$scope.changeprice=function($item){$scope.closeallchangeprice();$item.priceinput=true};$scope.changepriceminim=function($item){$scope.closeallchangeprice();$item.priceminiminput=true};$scope.changeoptionpricebyid=function($id,$priceminim,$price,$pricebase){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){if($item4.id==$id){$item4.priceminim=$priceminim;$item4.pricebase=$pricebase;$item4.price=$price}})}})}})}})}};$scope.savepriceminim=function($item){console.log("SAVE PRICE MINIM");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/priceminim/update",data:{priceminim:$item.newpriceminim,id:$item.id}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.newpriceminim,$item.price,$item.pricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.saveprice=function($item){console.log("SAVE PRICE");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/price/update",data:$item.newprice}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.priceminim,$item.newprice,$item.pricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.changeOFDG=function($id,$item){$http({method:"POST",url:AJAX_URL+"jobsubtypequantity/"+$id+"/changeofdg"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$item.ofdg=response.data}}else{console.log("ID Not found")}}},function(error){console.log(error)})};$scope.changequantity=function($id,$quantity,$item){$http({method:"POST",url:AJAX_URL+"jobsubtypequantity/"+$id+"/changequantity",data:{quantity:$quantity}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$item.quantity=$quantity}}}else{console.log("ID Not found")}}},function(error){console.log(error)})};$scope.savepricebase=function($item){console.log("SAVE PRICE BASE");$saveloading=true;$http({method:"POST",url:AJAX_URL+"finishingoption/pricebase/update",data:$item.newpricebase}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.changeoptionpricebyid($item.id,$item.priceminim,$item.price,$item.newpricebase);console.log("perubahan berhasil")}else if(response.data=="no changes"){console.log("tidak ada perubahan pada database")}else if(response.data=="not found"){console.log("error, id not found");$window.location.reload()}$scope.closeallchangeprice()}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})}}])}},{}],76:[function(require,module,exports){module.exports=function(app){app.controller("AdmJobsizesController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.jobtypes=null;$scope.saving=false;$scope.activejobtype=0;$scope.loadingofdg=false;$scope.newjobsizes=[];$scope.sizes=[];$scope.initData=function($input){$scope.jobtypes=JSON.parse($input);if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.totalOF=0;$item2.totalDG=0;$.each($item2.jobsubtypesize,function($index3,$item3){if($item3!=null){if($item3.ofdg==1)$item2.totalOF++;else if($item3.ofdg==2)$item2.totalDG++}})}})}})}$scope.hideall();$scope.closeallchangeprice();$scope.getallsizes()};$scope.hideall=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$item2.editmode=false;$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.hidealloptions=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$item3.showoptions=false}})}})}})}};$scope.prevlist=function(){if($scope.activejobtype>0)$scope.activejobtype--};$scope.nextlist=function(){if($scope.activejobtype<$scope.jobtypes.length-1)$scope.activejobtype++};$scope.toggleedit=function($item){$temp=$item.editmode;$scope.hideall();$item.editmode=!$temp};$scope.togglesubtype=function($jobsubtype,$subtypeindex,$jobtypeindex){$id=$jobsubtype.id;$http({method:"POST",url:AJAX_URL+"jobsubtype/"+$id+"/activate",data:$jobsubtype.active}).then(function(response){if(response!=null)if(typeof response.data=="string")if(response.data=="success"){$jobsubtype.errormessage="<b class='tx-success'>success!</b>";console.log("subtypeindex: "+$subtypeindex+" ---  jobindex: "+$jobtypeindex);if($jobsubtype.active==0)$scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=1;else $scope.jobtypes[$jobtypeindex].jobsubtype[$subtypeindex].active=0}else{$jobsubtype.errormessage="<span class='tx-danger'>"+response.data+"</span>"}console.log(response.data)},function(error){console.log(error);$jobsubtype.errormessage="<span class='tx-danger'>ERROR system, read console.</span>"})};$scope.closeallchangeprice=function(){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){$item4.pricebaseinput=false;$item4.newpricebase=$item4.pricebase;$item4.priceminiminput=false;$item4.newpriceminim=$item4.priceminim;$item4.priceinput=false;$item4.price=parseFloat($item4.price);$item4.newprice=$item4.price})}})}})}})}};$scope.changepricebase=function($item){$scope.closeallchangeprice();$item.pricebaseinput=true};$scope.changeprice=function($item){$scope.closeallchangeprice();$item.priceinput=true};$scope.changepriceminim=function($item){$scope.closeallchangeprice();$item.priceminiminput=true};$scope.changeoptionpricebyid=function($id,$priceminim,$price,$pricebase){if($scope.jobtypes!=null){$.each($scope.jobtypes,function($index,$item){if($item!=null){$.each($item.jobsubtype,function($index2,$item2){if($item2!=null){$.each($item2.jobsubtypefinishing,function($index3,$item3){if($item3!=null){$.each($item3.finishing.finishingoption,function($index4,$item4){if($item4.id==$id){$item4.priceminim=$priceminim;$item4.pricebase=$pricebase;$item4.price=$price}})}})}})}})}};$scope.getallsizes=function(){$http({method:"GET",url:API_URL+"sizes"}).then(function(response){if(response!=null){if(response.data!=null){$scope.sizes=response.data;$.each($scope.sizes,function($index,$item){if($item!=null){$item.width=parseFloat($item.width);$item.length=parseFloat($item.length)}})}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.changeOfDg=function($jobsubtypesize){if($scope.loadingofdg==false){$scope.loadingofdg=true;$http({method:"POST",url:AJAX_URL+"jobsubtypesize/"+$jobsubtypesize.id+"/changeofdg"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$jobsubtypesize.ofdg=response.data}else{console.log("NO CHANGE FROM DB, ERROR")}}else{console.log("The return value is null, ID not found")}}else{console.log("error, response is null")}$scope.loadingofdg=false},function(error){console.log(error);$scope.loadingofdg=false})}};$scope.addnewjobsize=function($jobsubtypeID){$scope.newjobsizes=[];$scope.addnewjobsizerow();$scope.selectedjobsubtypeID=$jobsubtypeID;$("#addnewjobsize").modal("show")};$scope.addnewjobsizerow=function(){$temp={name:"",custominput:false,length:0,width:0,size:null};if($scope.sizes.length>0)$temp.size=$scope.sizes[0];else alert("error, no sizes from db");$scope.newjobsizes.push($temp)};$scope.savenewjobsizes=function(){$newarray=[];$.each($scope.newjobsizes,function($index,$item){$temp=null;$temp={};if($item.custominput){if($item.length==0||$item.width==0)$temp.valid=false;else if($item.name.length==0)$temp.valid=false;else $temp.valid=true}else{$temp.valid=true}if($temp.valid){$temp.jobsubtypeID=$scope.selectedjobsubtypeID;$temp.ofdg=1;if($item.custominput){$temp.width=$item.width;$temp.length=$item.length;$temp.name=$item.name;$temp.sizeID=null}else{if($item.size!=null){$temp.width=$item.size.width;$temp.length=$item.size.length;$temp.name=$item.size.name;$temp.sizeID=$item.size.id}}$newarray.push($temp)}});$http({method:"POST",url:AJAX_URL+"jobsubtypesize/store",data:$newarray}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.selectedchanged=function($item){if($item.custominput){$item.size=null}else{$item.width=0;$item.length=0}}}])}},{}],77:[function(require,module,exports){module.exports=function(app){app.controller("AdmOnesignalController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.onesignals=[];$scope.employees=[];$scope.customers=[];$scope.initData=function($onesignals,$employees,$customers){$scope.onesignals=JSON.parse($onesignals);$scope.employees=JSON.parse($employees);$scope.customers=JSON.parse($customers)}}])}},{}],78:[function(require,module,exports){module.exports=function(app){app.controller("AdmPricePaperController",["$scope","$http","API_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,BASE_URL,$cookies,$window){$scope.selectedpapers=[];$scope.errorsubmit="";$scope.variable={priceper:1e4,margin:10,selecteduom:"kg",papershop:null,priceperuom:["kg","pcs","meter","ream"]};$scope.initData=function($input){$scope.papers=JSON.parse($input);$.each($scope.papers,function($index,$item){$item.showdetail=false;$.each($item.paperdetail,function($index2,$item2){$scope.papers[$index].paperdetail[$index2].buyprice=parseInt($item2.buyprice);$scope.papers[$index].paperdetail[$index2].sellprice=parseInt($item2.sellprice);$scope.papers[$index].paperdetail[$index2].unitprice=parseFloat($item2.unitprice);$scope.papers[$index].paperdetail[$index2].selected=false})});console.log($scope.papers)};$scope.showdetail=function($data){$temp=!$data.showdetail;$.each($scope.papers,function($index,$item){$item.showdetail=false});$data.showdetail=$temp};$scope.getTokoKertas=function(){$http({method:"GET",url:API_URL+"admin/papershop"}).then(function(response){if(response!=null){console.log(response.data);$scope.papershops=response.data;if($scope.papershops.length>1){$scope.variable.papershop=$scope.papershops[0]}}},function(error){})};$scope.getTokoKertas();$scope.changecheck=function($item,$item2){$item2.selected=!$item2.selected;$scope.postchecked($item,$item2)};$scope.postcheckedByPaper=function($paper,$status){$.each($paper.paperdetail,function($j,$detail){$paper.paperdetail[$j].selected=$status;$scope.postchecked($paper,$detail)})};$scope.getPrice=function($gramature,$width,$length,$totalpcs){if($scope.variable.selecteduom=="kg"){$newpricebuy=$scope.variable.priceper*$gramature*$width*$length/2e4;$newpricesell=$newpricebuy*(1+$scope.variable.margin/100);$newpriceunit=$newpricesell/$totalpcs}else if($scope.variable.selecteduom=="pcs"){$buyperlembar=$scope.variable.priceper;$newpricebuy=$buyperlembar*$totalpcs;$newpricesell=$newpricebuy*(1+$scope.variable.margin/100);$newpriceunit=$newpricesell/$totalpcs}else if($scope.variable.selecteduom=="meter"){$buypermeter=$scope.variable.priceper;$newpricebuy=$buypermeter*$totalpcs;$newpricesell=$newpricebuy*(1+$scope.variable.margin/100);$newpriceunit=$newpricesell/$totalpcs}return{newpricebuy:$newpricebuy,newpricesell:$newpricesell,newpriceunit:$newpriceunit}};$scope.changePrice=function(){$.each($scope.selectedpapers,function($i,$ii){$result=$scope.getPrice($ii.papergramature,$ii.planolength,$ii.planowidth,$ii.totalpcs);$scope.selectedpapers[$i].newpricebuy=$result["newpricebuy"];$scope.selectedpapers[$i].newpricesell=$result["newpricesell"];$scope.selectedpapers[$i].newpriceunit=$result["newpriceunit"];$scope.selectedpapers[$i].vendorID=$scope.variable.papershop.id})};$scope.submitChange=function(){if($scope.selectedpapers.length!=0){$scope.changePrice();$scope.errorsubmit="";$http({method:"POST",url:API_URL+"admin/master/paper/update",data:$scope.selectedpapers}).then(function(response){$success=false;if(response!=null){if(typeof response==="string"){if(response=="success"){$success=true}}}if($success){$scope.errorsubmit=""}else{$("#submitModal").modal("hide");$scope.errorsubmit="GAGAL SUBMIT!"}})}else{$scope.errorsubmit="Masih Kosong!"}};$scope.setSelectedUOM=function($item){$scope.variable.selecteduom=$item;$scope.changePrice()};$scope.confirmSubmit=function(){if($scope.selectedpapers.length!=0){$("#submitModal").modal("show");$scope.errorsubmit=""}else{$scope.errorsubmit="Masih Kosong!"}};$scope.postchecked=function($paper,$detail){$founded=false;$.each($scope.selectedpapers,function($i,$ii){if($ii!=null){if($paper.id==$ii.paperID&&$detail.vendorID==$ii.vendorID&&$detail.planoID==$ii.planoID){if($detail.selected==false)$scope.selectedpapers.splice($i,1);$founded=true}}});$scope.errorsubmit="";if($founded==false&&$detail.selected==true){$detail.selected=true;$result=$scope.getPrice($paper.gramature,$detail.plano.length,$detail.plano.width,$detail.totalpcs);$temp={paperID:$paper.id,papername:$paper.name,papergramature:$paper.gramature,papercolor:$paper.color,vendorID:$detail.vendorID,vendorname:$detail.vendor.name,planoID:$detail.planoID,planowidth:$detail.plano.width,planolength:$detail.plano.length,pricebuy:$detail.buyprice,pricesell:$detail.sellprice,priceunit:$detail.unitprice,unittype:$detail.unittype,totalpcs:$detail.totalpcs,newpricebuy:$result["newpricebuy"],newpricesell:$result["newpricesell"],newpriceunit:$result["newpriceunit"]};$scope.selectedpapers.push($temp)}}}])}},{}],79:[function(require,module,exports){module.exports=function(app){app.controller("AdmNewPaperController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.selectedpapers=[];$scope.errorsubmit="";$scope.variable={priceper:1e4,margin:10,selecteduom:"kg",papershop:null,priceperuom:["kg","pcs","meter","ream"]};$scope.initData=function($input){$scope.getCoatingtypes();$scope.getPapertypes();$scope.papers=JSON.parse($input);$.each($scope.papers,function($index,$item){$item.showdetail=false;$.each($item.paperdetail,function($index2,$item2){$scope.papers[$index].paperdetail[$index2].buyprice=parseInt($item2.buyprice);$scope.papers[$index].paperdetail[$index2].sellprice=parseInt($item2.sellprice);$scope.papers[$index].paperdetail[$index2].unitprice=parseFloat($item2.unitprice)})})};$scope.changepaperdetail=function($paperID,$column,$item){$http({method:"POST",url:AJAX_URL+"paper/"+$paperID+"/changepaper/"+$column}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$item[$column]=response.data}}else{console.log("PaperID not found..");$window.location.reload()}}},function(error){console.log(error)})};$scope.changepapertype=function($paperID,$item){$http({method:"POST",url:AJAX_URL+"paper/"+$paperID+"/changepapertype",data:{0:$item.papertype.id}}).then(function(response){if(response!=null){if(response.data!=null){console.log(response.data);if(typeof response.data=="string"){if(response.data=="success"){console.log("success")}}}else{console.log("PaperID not found..");$window.location.reload()}}},function(error){console.log(error)})};$scope.getCoatingtypes=function(){$http({method:"GET",url:API_URL+"coatingtypes"}).then(function(response){if(response!=null){if(response.data!=null){$scope.coatingtypes=response.data}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.getPapertypes=function(){$http({method:"GET",url:API_URL+"papertypes"}).then(function(response){if(response!=null){if(response.data!=null){$scope.papertypes=response.data}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.addfieldnewpaper=function(){$newpaper={papertypeID:"1",name:$scope.newname,color:$scope.newcolor,gramature:$scope.newgramature,texture:0,numerator:0,varnish:0,spotuv:0,laminating:0,folding:0,perforation:0,diecut:0,coatingtypeID:1};$scope.papers.push($newpaper)};$scope.savenewpaper=function($item){$http({method:"POST",url:AJAX_URL+"paper/savenewpaper",data:$item}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$item.id=response.data}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})}}])}},{}],80:[function(require,module,exports){module.exports=function(app){app.controller("AdmPaperdetailController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.selectedpaper=0;$scope.selectvendor=null;$scope.papers=[];$scope.newplanosizes=[];$scope.unittypes=[{type:"lembar"},{type:"meter"}];$scope.initData=function($input){$scope.papers=JSON.parse($input);$scope.getallvendor()};$scope.temp="";$scope.temp2=0;$scope.savestat=function($input,$paperID){if($paperID!=$scope.temp2){$scope.temp="";$scope.temp2=$paperID}if($scope.temp==$input)return false;if($scope.temp!=$input){$scope.temp=$input;return true}};$scope.selectpaper=function($index){$scope.selectedpaper=$index};$scope.getallvendor=function(){$http({method:"GET",url:API_URL+"admin/vendor/allshop"}).then(function(response){if(response!=null){if(response.data!=null){$scope.vendors=response.data}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.showaddtoko=function(){$scope.selectedvendor=$scope.vendors[0];$scope.newplanosizes=[];$scope.addnewplanorow();$("#addplanosize").modal("show")};$scope.showaddplanosize=function($vendor){$scope.selectedvendor=$vendor;$scope.newplanosizes=[];$scope.addnewplanorow();$("#addplanosize").modal("show")};$scope.addnewplanorow=function(){$temp={width:65,length:100,inputstate:"pertotal",inputprice:5e5,margin:4,totalpcs:500,unittype:$scope.unittypes[0],error:{size:null}};$scope.newplanosizes.push($temp);$scope.checksize($temp.width,$temp.length,$temp)};$scope.getkgprice=function($item,$paper){$result=-2;if($item!=null)if($item.unittype.type=="lembar"){if($item.inputstate=="pertotal")$result=$scope.total2kg($item.inputprice,$paper.gramature,$item.width,$item.length);else if($item.inputstate=="perkg")$result=$item.inputprice;else if($item.inputstate=="perunit")$result=$scope.unit2kg($item.inputprice,$item.totalpcs,$paper.gramature,$item.width,$item.length)}else{$result=0}return $result};$scope.gettotalprice=function($item,$paper){$result=-1;if($item!=null)if($item.unittype.type=="lembar"){if($item.inputstate=="pertotal")$result=$item.inputprice;else if($item.inputstate=="perkg")$result=$scope.kg2total($item.inputprice,$paper.gramature,$item.width,$item.length);else if($item.inputstate=="perunit")$result=$scope.unit2total($item.inputprice,$item.totalpcs)}else{if($item.inputstate=="perunit")$result=$item.totalpcs*$item.inputprice}return $result};$scope.printvendorname=function($item){return $item.name+" ("+$item.salestype+"). "+$item.salesname};$scope.disabledtotalpcs=function($item){return $item.unittype.type=="meter"};$scope.getunitprice=function($item,$paper){$result=-3;if($item!=null)if($item.unittype.type=="lembar"){if($item.inputstate=="pertotal")$result=$scope.total2unit($item.inputprice,$item.totalpcs);else if($item.inputstate=="perkg")$result=$scope.kg2unit($item.inputprice,$paper.gramature,$item.width,$item.length);else if($item.inputstate=="perunit")$result=$item.inputprice}else{if($item.inputstate=="perunit")$result=$item.inputprice}return $result};$scope.changeunittype=function($item){if($item.unittype.type=="lembar"){$item.totalpcs=500}else{$scope.calctotalpcs($item);$scope.changeinputstate($item)}};$scope.calctotalpcs=function($item){if($item.unittype.type=="meter"){$item.totalpcs=$item.width*$item.length/1e4}};$scope.changeinputstate=function($item){if($item.unittype.type=="lembar"){if($item.inputstate=="pertotal"){$item.inputstate="perkg"}else if($item.inputstate=="perkg"){$item.inputstate="perunit"}else if($item.inputstate=="perunit"){$item.inputstate="pertotal"}}else{$item.inputstate="perunit"}};$scope.checksize=function($w,$l,$item){$seterror=false;$.each($scope.papers[$scope.selectedpaper].paperdetail,function($index,$item){if($item.vendorID==$scope.selectedvendor.id){if($item.plano.width==$w&&$item.plano.length==$l){$seterror=true}}});if($seterror){$scope.newsaveerror=true;$item.error={size:"( planosize duplicated )"}}else{$scope.newsaveerror=false;$item.error={size:null}}$scope.calctotalpcs($item)};$scope.savenewplano=function(){$duplicated=false;$.each($scope.newplanosizes,function($i,$ii){if($ii.error.size!=null)$duplicated=true;$ii.paper=$scope.papers[$scope.selectedpaper];$ii.buyprice=$scope.gettotalprice($ii,$scope.papers[$scope.selectedpaper]);$ii.sellprice=$scope.gettotalprice($ii,$scope.papers[$scope.selectedpaper])*(100+$ii.margin)/100;$ii.unitprice=$scope.getunitprice($ii,$scope.papers[$scope.selectedpaper])*(100+$ii.margin)/100;$ii.vendor=$scope.selectedvendor});if(!$duplicated&&!$scope.savewaiting){$scope.savewaiting=true;$http({method:"POST",url:AJAX_URL+"paperdetail/savenewplano",data:$scope.newplanosizes}).then(function(response){if(response!=null){if(response.data!=null){if(response.data.constructor===Array){$window.location.reload()}else{alert("failed")}}else{console.log("The return value is null, not error")}}$scope.savewaiting=false},function(error){console.log(error);$scope.savewaiting=false})}else{console.log("DUPLIICATE / MASI NUNGGU SAVE RESPONSE DARI SERVER")}}}])}},{}],81:[function(require,module,exports){module.exports=function(app){app.controller("AdmPricetextController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.pricetexts=null;$scope.selectedidx=0;$scope.initData=function($datas){$scope.pricetexts=JSON.parse($datas);$.each($scope.pricetexts,function($index,$item){if($item.pricetext!=null){$scope.pricetexts[$index].pricetext=$scope.trustAsHtml($item.pricetext);$scope.pricetexts[$index].pricetextwa=$scope.stripTagsWA($item.pricetext)}console.log($item.employee)})};$scope.setActiveindex=function(){$.each($scope.pricetexts,function($index,$item){if($index==$scope.selectedidx){$scope.pricetexts[$index].active=true}else{$scope.pricetexts[$index].active=false}})};$scope.nextbtnclicked=function(){if($scope.selectedidx<$scope.pricetexts.length-1)$scope.selectedidx++};$scope.prevbtnclicked=function(){if($scope.selectedidx>0)$scope.selectedidx--}}])}},{}],82:[function(require,module,exports){module.exports=function(app){app.controller("AdmShoppricingController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.constants=null;$scope.finishings=null;$scope.finishingindex=0;$scope.finishingside=[{value:-1,label:"-1 [Tidak diberikan pilihan SISI Finishing]"},{value:0,label:"0 [Bisa 1 sisi / 2 sisi finishing, pelanggan diberikan pilihan]"},{value:1,label:"1 [Tidak bisa pilih, karena cuma ada 1 sisi finishing]"}];$scope.priceper=[{value:"cm"},{value:"kg"},{value:"pcs"},{value:"m"}];$scope.initData=function($constants,$finishings){$scope.constants=JSON.parse($constants);if($scope.constants!=null)$.each($scope.constants,function($index,$item){if($item!=null){$scope.constants[$index].updated_at=$scope.makeDateTime($item.updated_at);$scope.constants[$index].price=parseFloat($item.price)}});$scope.finishings=JSON.parse($finishings);if($scope.finishings!=null){$.each($scope.finishings,function($index,$item){if($item!=null){$scope.finishings[$index].updated_at=$scope.makeDateTime($item.updated_at);if($item.finishingoption!=null){$.each($item.finishingoption,function($index2,$item2){$scope.finishings[$index].finishingoption[$index2].price=parseFloat($item2.price);$scope.finishings[$index].finishingoption[$index2].priceminim=parseInt($item2.priceminim);$scope.finishings[$index].finishingoption[$index2].pricebase=parseInt($item2.pricebase)})}}})}};$scope.prevjob=function(){if($scope.finishingindex==0){}else{$scope.finishingindex--}};$scope.nextjob=function(){if($scope.finishingindex==$scope.finishings.length-1){}else{$scope.finishingindex++}};$scope.togglestatus=function(){$scope.finishings[$scope.finishingindex].status=!$scope.finishings[$scope.finishingindex].status};$scope.showdialog=function(){$("#savefinishingconfirm").modal("show")};$scope.showdialogconstant=function(){$("#saveconstantconfirm").modal("show")};$scope.showdialogaddconstant=function(){$("#addnewconstant").modal("show")};$scope.save=function(){$http({method:"POST",url:AJAX_URL+"shoppricing/finishing/update",data:$scope.finishings[$scope.finishingindex]}).then(function(response){console.log(response.data)},function(error){console.log(error.statusText)});$("#savefinishingconfirm").modal("hide")};$scope.saveconstant=function(){$http({method:"POST",url:AJAX_URL+"shoppricing/constant/update",data:$scope.constants}).then(function(response){console.log(response.data)},function(error){console.log(error.statusText)});$("#saveconstantconfirm").modal("hide")};$scope.insertconstant=function(){$http({method:"POST",url:AJAX_URL+"shoppricing/constant/insert",data:$scope.constants}).then(function(response){console.log(response.data)},function(error){console.log(error.statusText)});$("#saveconstantconfirm").modal("hide")}}])}},{}],83:[function(require,module,exports){module.exports=function(app){app.controller("AdmVendorController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.vendors=[];$scope.initData=function($input){$scope.vendors=JSON.parse($input)}}])}},{}],84:[function(require,module,exports){module.exports=function(app){app.controller("VerifCustomerController",["$scope","$http","API_URL",function($scope,$http,API_URL){$scope.initheader=function($customers){$scope.customers=JSON.parse($customers);$.each($scope.customers,function($index,$item){if($item["verify_token"]!=null){if($item["verify_token"].length==16){$scope.customers[$index]["verify_token"]=$item["verify_token"].substring(6,10)}}if($item["phone1"]!=null){if($item["phone1"].charAt(0)=="0"){$scope.customers[$index]["phone1"]="62"+$item["phone1"].substring(1)}}if($item["phone2"]!=null){if($item["phone2"].charAt(0)=="0"){$scope.customers[$index]["phone2"]="62"+$item["phone2"].substring(1)}}if($item["created_at"]!=null){$scope.customers[$index]["created_at"]=$scope.makeDateTime($item["created_at"])}})}}])}},{}],85:[function(require,module,exports){module.exports=function(app){app.controller("AdminSalesController",["$timeout","$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($timeout,$scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.initHeader=function($headers,$deliveries,$couriers,$activeemployee){$scope.headers=JSON.parse($headers);$scope.deliveries=JSON.parse($deliveries);$scope.couriers=JSON.parse($couriers);$activeemployee=parseInt($activeemployee);$.each($scope.headers,function($i,$item){$scope.headers[$i].updated_at=$scope.makeDateTime($item.updated_at+"");$scope.headers[$i].created_at=$scope.makeDateTime($item.created_at+"");$scope.headers[$i].showdetail=false;$scope.headers[$i].showdelivery=false;$scope.headers[$i].showpayment=false;$item.totalprice=0;$courierID=1;if($scope.couriers.length>0)$courierID=$scope.couriers[0].id;$.each($scope.couriers,function($az,$courier){if($courier.id==$activeemployee)$courierID=$activeemployee});var nw=new Date(Date.now());$scope.newdelivery={employeeID:$courierID,arrivedtime:new Date(0,0,0,nw.getHours(),nw.getMinutes(),nw.getSeconds()),arriveddate:new Date(nw.getFullYear(),nw.getMonth(),nw.getDate(),0,0,0),receiver:$item.customer.name,deliveryaddress:"",deliveryID:1,employeenote:"",suratno:"",suratimage:"",deliverydetail:[]};$.each($item.salesdetail,function($index,$item2){if($item2.cartheader!=null){$item2.cartheader.printprice=parseInt($item2.cartheader.printprice);$item2.cartheader.deliveryprice=parseInt($item2.cartheader.deliveryprice);$item2.cartheader.discount=parseInt($item2.cartheader.discount);$item2.cartheader.buyprice=parseInt($item2.cartheader.buyprice);$item.totalprice+=$item2.cartheader.printprice+$item2.cartheader.deliveryprice-$item2.cartheader.discount;$item.deliveryselected=true;$item2.totalkirim=0;$item2.totalhargakirim=0;$.each($item2.salesdeliverydetail,function($j,$jj){$item2.totalkirim+=parseInt($jj.quantity);$item2.totalhargakirim+=parseFloat($jj.actualprice)})}else{}});if($item.salesdelivery!=null){$.each($item.salesdelivery,function($index,$item2){$item2.created_at=Date.parse($item2.created_at)})}$item.totalpay=0;$item.tungguverif=false;$.each($item.salespayment,function($index,$item2){$item.totalpay+=$item2.ammount;if($item2.salespaymentverif==null)$item.tungguverif=true});if($item.totalpay>$item.totalprice)$item.paymentdetail="LEBIH BAYAR. Jangan lupa transfer kelebihannya.";else if($item.totalpay==$item.totalprice){if($item.tungguverif==true)$item.paymentdetail="PENDING.";else $item.paymentdetail="LUNAS"}else{if($item.totalpay==0)$item.paymentdetail="Customer belom bayar.";else $item.paymentdetail="Customer kurang bayar."}})};$scope.refreshAllAccount=function(){$scope.updateCompAcc(1)};$scope.refreshAllAccount();$scope.typeoff=function($input){return typeof $input};$scope.tick=0;$scope.updateCounter=function(){if($scope.tick>99999)$scope.tick=0;$scope.tick++;$timeout($scope.updateCounter,300)};$scope.updateCounter();$scope.showdetail=function($item){$show=true;if($item.showdetail==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false;$item2.showtracking=false});if($show)$item.showdetail=true};$scope.showpayment=function($item){$show=true;if($item.showpayment==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false;$item2.showtracking=false});if($show)$item.showpayment=true};$scope.showdelivery=function($item){$show=true;if($item.showdelivery==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false;$item2.showtracking=false});if($show)$item.showdelivery=true};$scope.showtracking=function($item){$show=true;if($item.showtracking==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false;$item2.showtracking=false});if($show)$item.showtracking=true};$scope.changeStatusFile=function($item){$value=$item.statusfile;$item.statusfile=-1;$http({method:"POST",url:API_URL+"admin/tracking/chstfile",data:{salesID:$item.salesID,cartID:$item.cartID}}).then(function(response){$item.statusfile=$value;if(response.data!=null)if(typeof response.data==="string")if(response.data=="0"){$item.statusfile=0;$item.statusctp=0;$item.statusprint=0;$item.statuspacking=0;$item.statusdelivery=0;$item.statusdone=0;$item.pip=0}else if(response.data=="1"){$item.statusfile=1;$item.pip=0}},function(error){$item.statusfile=$value})};$scope.changeStatusCTP=function($item){$value=$item.statusctp;$item.statusctp=-1;$http({method:"POST",url:API_URL+"admin/tracking/chstctp",data:{salesID:$item.salesID,cartID:$item.cartID}}).then(function(response){$item.statusctp=$value;if(response.data!=null)if(typeof response.data==="string")if(response.data=="0"){$item.statusctp=0;$item.statusprint=0;$item.statuspacking=0;$item.statusdelivery=0;$item.statusdone=0;$item.pip=0}else if(response.data=="1"){$item.statusfile=1;$item.statusctp=1;$item.pip=0}},function(error){$item.statusctp=$value})};$scope.changeStatusPrint=function($item){$value=$item.statusprint;$item.statusprint=-1;$http({method:"POST",url:API_URL+"admin/tracking/chstprint",data:{salesID:$item.salesID,cartID:$item.cartID}}).then(function(response){$item.statusprint=$value;if(response.data!=null)if(typeof response.data==="string")if(response.data=="0"){$item.statusprint=0;$item.statuspacking=0;$item.statusdelivery=0;$item.statusdone=0;$item.pip=0}else{$item.statusfile=1;$item.statusctp=1;$item.statusprint=1;$item.pip=0}},function(error){$item.statusprint=$value})};$scope.changeStatusPacking=function($item){$value=$item.statuspacking;$item.statuspacking=-1;$http({method:"POST",url:API_URL+"admin/tracking/chstpackaging",data:{salesID:$item.salesID,cartID:$item.cartID}}).then(function(response){$item.statuspacking=$value;if(response.data!=null)if(typeof response.data==="string")if(response.data=="0"){$item.statuspacking=0;$item.statusdelivery=0;$item.statusdone=0;$item.pip=0}else if(response.data=="1"){$item.statusfile=1;$item.statusctp=1;$item.statusprint=1;$item.statuspacking=1;$item.pip=0}},function(error){$item.statuspacking=$value})};$scope.changeStatusDelivery=function($item){$value=$item.statusdelivery;$item.statusdelivery=-1;$http({method:"POST",url:API_URL+"admin/tracking/chstdelivery",data:{salesID:$item.salesID,cartID:$item.cartID}}).then(function(response){$item.statusdelivery=$value;if(response.data!=null)if(typeof response.data==="string")if(response.data=="0"){$item.statusdelivery=0;$item.statusdone=0;$item.pip=0}else if(response.data=="1"){$item.statusfile=1;$item.statusctp=1;$item.statusprint=1;$item.statuspacking=1;$item.statusdelivery=1;$item.pip=0}},function(error){$item.statusdelivery=$value})};$scope.changeStatusDone=function($item){$value=$item.statusdone;$item.statusdone=-1;$http({method:"POST",url:API_URL+"admin/tracking/chstdone",data:{salesID:$item.salesID,cartID:$item.cartID}}).then(function(response){$item.statusdone=$value;if(response.data!=null)if(typeof response.data==="string")if(response.data=="0"){$item.statusdone=0;$item.pip=0}else if(response.data=="1"){$item.statusfile=1;$item.statusctp=1;$item.statusprint=1;$item.statuspacking=1;$item.statusdelivery=1;$item.statusdone=1;$item.pip=0}},function(error){$item.statusdone=$value})};$scope.selectVerif=function($item){$scope.modalselected=$item;$scope.modalselected.salesTime=$scope.makeDateTime($scope.modalselected.salesTime)};$scope.searchOnVerifs=function(){if($scope.searchingkey=="")$scope.searchedpaiddatas=$scope.paiddatas;else{$scope.searchedpaiddatas=[];for($i=0;$i<$scope.paiddatas.length;$i++){if($scope.isContained($scope.paiddatas[$i]["accname"],$scope.searchingkey)||$scope.isContained($scope.paiddatas[$i]["accno"]+"",$scope.searchingkey)||$scope.isContained($scope.paiddatas[$i]["bankname"]+"",$scope.searchingkey)||$scope.isContained($scope.paiddatas[$i]["ammount"]+"",$scope.searchingkey))$scope.searchedpaiddatas.push($scope.paiddatas[$i])}}};$scope.isContained=function($string,$key){if($string.toLowerCase().indexOf($key.toLowerCase())!=-1)return true;else return false};$scope.setHeaderFromValue=function($salesheader){$scope.headerselected=$salesheader;$scope.getDetailData($salesheader.salesID)};$scope.setDetailFromValue=function($salesdetail){$scope.detailselected=$salesdetail;$scope.getCartData($salesdetail.cartID)};$scope.totalDetail=0;$scope.getDetailData=function($id){$http({method:"GET",url:API_URL+"salesdetails/"+$id+"/header"}).then(function(response){$scope.salesdetails=response.data;$scope.totalDetail=0;for($i=0;$i<response.data.length;$i++){$scope.totalDetail=$scope.totalDetail+parseInt(response.data[$i].totalprice)}})};$scope.makeManualPayment=function($header,$index){if($header!=null){$scope.getCustomerBankAccs($header.customerID);$selectedindex=$index;$scope.selectedheader=$scope.clone($header);$scope.selectedammount=1e4;$("#manualPaymentModal").modal("show");$dt=new Date;$scope.selectedpaydate=$scope.makeDate($dt.getDateOnly())}};$scope.makePaymentVerif=function($payment,$selectedindex){$scope.selectedverif=$payment;$scope.selectedverif.note="#job"+$scope.zeroFill($payment.salesID,5);$scope.selectedverif.selectedindex=$selectedindex;$("#paymentVerifModal").modal("show")};$scope.submitPaymentVerif=function(){if($scope.selectedverif.veriftime==null){$http({method:"POST",url:API_URL+"admin/verif/store",data:{salesID:$scope.selectedverif.salesID,paymentID:$scope.selectedverif.id,ammount:$scope.selectedverif.ammount,verifnote:$scope.selectedverif.note}}).then(function(response){if(response.data!=null)if(typeof response.data==="string"){if(response.data=="success"){$dt=new Date;$scope.selectedverif.veriftime=$dt.getDateOnly()}}},function(error){})}};$scope.submitManualPayment=function(){if($scope.selectedammount==null){console.log("tidak boleh 0")}else if($scope.selectedammount<1e4){console.log("tidak boleh 0")}else if($scope.selectedheader.id==null){console.log("salesID is null")}else{$http({method:"POST",url:AJAX_URL+"admin/payment/"+$scope.selectedheader.id,data:{ammount:$scope.selectedammount,custacc:$scope.selectedcustacc.id,paydate:$scope.selectedpaydate.getDateOnly(),compacc:$scope.selectedcompacc.id}}).then(function(response){if(response.data!=null)if(typeof response.data==="string"){if(response.data=="success"){$dt=new Date;$arr={paydate:$scope.selectedpaydate.getDateOnly(),veriftime:$dt.getDateOnly(),ammount:$scope.selectedammount};$scope.headers[$selectedindex].payments.push($arr);$totalpayment=0;$.each($scope.headers[$selectedindex].payments,function($index,$item){$totalpayment+=$item.ammount});$scope.headers[$selectedindex].totalpayment=$totalpayment;$scope.selectedheader=$scope.clone($scope.headers[$selectedindex])}}},function(error){})}};$scope.showSentConfirm=function($item){$scope.selecteddelivery=$scope.clone($item);$scope.selecteddelivery.arrivedtime=new Date(Date.parse($scope.selecteddelivery.arrivedtime));$.each($scope.selecteddelivery.salesdeliverydetail,function($index,$item){$item.deliveryshow=false;$item.weight=parseFloat($item.weight)});$("#sentConfirmModal").modal("show")};$scope.showAddDelivery=function($index,$salesID){$scope.selectedheaderindex=$index;$scope.selectedheaderid=$salesID;$("#addDeliveryModal").modal("show")};$scope.updateDelivery=function(){$date=$scope.selecteddelivery.arrivedtime;$scope.selecteddelivery.delivtime=$date.getFullYear()+"-"+$scope.zeroFill($date.getMonth(),2)+"-"+$scope.zeroFill($date.getDate(),2)+" "+$scope.zeroFill($date.getHours(),2)+":"+$scope.zeroFill($date.getMinutes(),2)+":"+$scope.zeroFill($date.getSeconds(),2);$scope.updateDeliveryUniversal()};$scope.sentConfirm=function(){$date=$scope.selecteddelivery.arrivedtime;$scope.selecteddelivery.delivtime=$date.getFullYear()+"-"+$scope.zeroFill($date.getMonth(),2)+"-"+$scope.zeroFill($date.getDate(),2)+" "+$scope.zeroFill($date.getHours(),2)+":"+$scope.zeroFill($date.getMinutes(),2)+":"+$scope.zeroFill($date.getSeconds(),2);$.each($scope.selecteddelivery.salesdeliverydetail,function($index,$item){$item.status=2});console.log($scope.selecteddelivery);$scope.updateDeliveryUniversal()};$scope.printDeliveryNote=function($item){$scope.selecteddelivery=$scope.clone($item);$scope.selecteddelivery.delivtime=$scope.selecteddelivery.arrivedtime;$.each($scope.selecteddelivery.salesdeliverydetail,function($index,$item){$item.status=1;$item.weight=parseFloat($item.weight)});$scope.updateDeliveryUniversal()};$scope.updateDeliveryUniversal=function(){$http({method:"POST",url:API_URL+"admin/sales/delivery/update",data:$scope.selecteddelivery}).then(function(response){if(typeof response.data==="string"){if(response.data=="success"){$window.location.href=BASE_URL+"admin/allsales"}}})};$scope.showUpdateDelivery=function($item){$scope.selecteddelivery=$scope.clone($item);$scope.selecteddelivery.arrivedtime=new Date(Date.parse($scope.selecteddelivery.arrivedtime));$.each($scope.selecteddelivery.salesdeliverydetail,function($index,$item){$item.deliveryshow=false;$item.weight=parseFloat($item.weight)});$("#updateDeliveryModal").modal("show")};$scope.setDeliverydetail=function($detail){$detail.deliveryselected=!$detail.deliveryselected;if($detail.deliveryselected==true){$notfound=true;$.each($scope.newdelivery.deliverydetail,function($i,$ii){if($ii.salesdetailID==$detail.id){$notfound=false}});if($notfound==true){$temp=$scope.clone($detail);$scope.newdelivery.deliverydetail.push({salesdetailID:$temp.id,deliveryshow:false,totalweight:0,totalpackage:1,ammount:parseInt($temp.cartheader.quantity),actualprice:parseInt($temp.cartheader.deliveryprice),totalquantity:parseInt($temp.cartheader.quantity),quantitytypename:$temp.cartheader.quantitytypename,jobtitle:$temp.cartheader.jobsubtype.name+" "+$temp.cartheader.jobtitle})}}else{$.each($scope.newdelivery.deliverydetail,function($i,$ii){if($ii.salesdetailID==$detail.id){$scope.newdelivery.deliverydetail.splice($i,1);return false}})}};$scope.saveDelivery=function(){$time=$scope.newdelivery.arrivedtime;$date=$scope.newdelivery.arriveddate;$scope.newdelivery.delivtime=$date.getFullYear()+"-"+$scope.zeroFill($date.getMonth(),2)+"-"+$scope.zeroFill($date.getDate(),2)+" "+$scope.zeroFill($time.getHours(),2)+":"+$scope.zeroFill($time.getMinutes(),2)+":"+$scope.zeroFill($time.getSeconds(),2);$http({method:"POST",url:API_URL+"admin/sales/delivery/"+$scope.selectedheaderid+"/store",data:$scope.newdelivery}).then(function(response){if(typeof response.data==="string"){if(response.data=="success"){$window.location.href=BASE_URL+"admin/allsales"}}})};$scope.getCartData=function($id){$http({method:"GET",url:API_URL+"cartdetails/"+$id+"/header"}).then(function(response){$scope.cartdetails=response.data})};$scope.cancelUpdate=function(){$("#btn-cancel").attr("hidden","hidden");$("#btn-add").removeAttr("hidden");$("#btn-update").removeClass("btn-primary").addClass("btn-second").attr("disabled","disabled");$("#form-open").attr("action",$scope.URL+"salesheader");$("#form-method").val("POST")};$scope.fillPapers.call();$scope.getVerifData=function(){console.log("DEPRECATED: verif");$http({method:"GET",url:API_URL+"verif"}).then(function(response){console.log(response.data);$scope.paiddatas=response.data;$scope.searchOnVerifs()})};$scope.getCustomerBankAccs=function($customerID){$scope.customerbankaccs=null;$http({method:"GET",url:AJAX_URL+"bankaccs/customer/"+$customerID}).then(function(response){if(response.data!=null)if(response.data.constructor===Array){$scope.customerbankaccs=response.data;if($scope.customerbankaccs.length>0)$scope.selectedcustacc=$scope.customerbankaccs[0]}},function(error){console.log(error.message)})};$scope.fillCompanyBankAccs(function(response){$scope.companybankaccs=response;if($scope.companybankaccs!=null){if($scope.companybankaccs.length>0){$scope.selectedcompacc=$scope.companybankaccs[0]}}});$scope.verify=function(){$http({method:"POST",url:API_URL+"verif/store",data:{id:$scope.modalselected.salesID}}).then(function(response){console.log(response.data)})};$scope.resetCommitPreview=function($cartpreview){$http({method:"POST",url:AJAX_URL+"commit/cartpreview/"+$cartpreview.id+"/undo"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success")$cartpreview.commit=0}}else{console.log("Error, tidak ada return value..")}})};$scope.deletePreview=function($cartpreview,$salesdetail,$index){$http({method:"POST",url:AJAX_URL+"admin/cartpreview/"+$cartpreview.id+"/delete"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data==true){$salesdetail.cartheader.cartpreview.splice($index,1)}}else{console.log("Failed to delete")}}else{console.log("Cartpreview data not found in database")}})};$scope.addprooffile=function($item){$scope.selectedsalesdetail=$item;$("#addprooffileModal").modal("show")};$scope.sendwacommit=function($url,$pid,$sid){$window.open("http://wa.me/?text=Silahkan+cek+sebelum+di+print.+Mohon+untuk+ketelitian+dalam+pengecekan+huruf+dalam+text%2C+letak+atau+posisi+gambar%2C+warna%2C+dan+tulisan+yang+tertera+pada+hasil+cetakan.+Kami+tetap+berusaha+untuk+memberikan+yang+terbaik.%0D%0A%0D%0ACek%20di%20"+$url+"sales%2Fall%3Fs%3D"+$sid+"%26a%3Dproof%26aa%3D"+$pid)};$scope.searchingkey="";$scope.modal={bankID:5,accno:"",accname:"",acclocation:""};$scope.uploadpreviewClick=function($cartID,$index){$("#uploadpreview").click();$scope.activeCartID=$cartID};$("#uploadpreview").on("change",function(e){console.log($(this)[0].files);if($(this)[0].files){if($(this)[0].files.length>0){$scope.uploadpreview($(this)[0].files,$scope.activeCartID)}}return false});$scope.uploadpreview=function(files,cartID){var data=new FormData;$scope.uploaderror="";$scope.uploadwaiting=true;angular.forEach(files,function(value){$ext=value.name.substring(value.name.lastIndexOf(".")+1);if($ext!="tiff"&&$ext!="tif"&&$ext!="jpg"&&$ext!="jpeg"){$scope.uploaderror=value.name+" : tidak bisa upload dengan file format "+$ext+"."}else if(value.size>50*1024*1024){$scope.uploaderror=value.name+" : file terlalu besar."}else{$scope.uploaderror="";data.append("files[]",value)}});$http({method:"POST",url:AJAX_URL+"upload/preview/"+cartID,data:data,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity}).then(function(response){if(response.data!=null){if(response.data.constructor===Array){$scope.selectedsalesdetail.cartheader.cartpreview=response.data}else console.log(response)}else{console.log(response)}$scope.uploadwaiting=false},function(error){$scope.error.files="Error file (error not detected), call customer service for this error";$scope.uploadwaiting=false})};$scope.printworkorder=function(item){console.log(item);var linewidth=1;var winparams="dependent=no,locationbar=no,scrollbars=no,menubar=no,"+"resizable,screenX=450,screenY=0,width=270,height=500";var bootstrap='<link async rel="stylesheet" href="'+BASE_URL+'css/bootstrap.css?version=0.2">';var scss="<style type='text/css' media='print'>"+"@page "+"{ "+"\tsize: auto; "+" margin: 0mm; "+"}"+"</style>"+"<script src='"+BASE_URL+"js/jquery.min.js'><\/script>"+"<script src='"+BASE_URL+"script/constants/JsBarcode.ean-upc.min.js'><\/script>"+"<link async rel='stylesheet' href='"+BASE_URL+"css/onlyprint.css'>";var prebarcode=app.logoforprint;prebarcode+="Nomor Job. "+$scope.zeroFill(item.id,4)+" -- "+$scope.zeroFill(item.created_at.getDate(),2)+"/"+$scope.zeroFill(item.created_at.getMonth(),2)+"/"+item.created_at.getFullYear()+"<br>"+item.customer.name+" "+item.customer.phone1+"<br><br>";prebarcode+=item.paymentdetail;var afterbarcode="<div class='barcode-label'>";var barcode="";barcode="110"+$scope.zeroFill(item.id,8);afterbarcode+="</div>";prebarcode+="<br>";afterbarcode+='<hr class="solid">';$.each(item.salesdetail,function($i,$salesdetail){afterbarcode+='<div class="title">'+$salesdetail.cartheader.jobsubtype.name+" <b>"+$salesdetail.cartheader.jobtitle+"</b></div>"+'<div class="">'+$salesdetail.cartheader.quantity.toString().addThousandSeparator()+" "+$salesdetail.cartheader.quantitytypename;afterbarcode+='<span class="pull-xs-right">'+$salesdetail.cartheader.cartfile.length+" files."+"</span>";afterbarcode+="</div>";if($salesdetail.cartheader.cartfile.length>1){$.each($salesdetail.cartheader.cartdetail,function($j,$cartfile){afterbarcode+="<div>"+"Nama file: "+$cartfile.file.filename+"</div>"})}$.each($salesdetail.cartheader.cartdetail,function($j,$cartdetail){afterbarcode+='<div class="detail">';if($salesdetail.cartheader.cartdetail.length>1)afterbarcode+="> <b>"+$cartdetail.cartname+"</b><br>";afterbarcode+=($cartdetail.jobtype=="OF"?"OFFSET":$cartdetail.jobtype=="DG"?"DIGITAL":"OTHER")+" "+$cartdetail.printer.machinename+"<br>"+$cartdetail.totaldruct+" druct"+" +ins. "+$cartdetail.inschiet+"<br>"+"AREA JADI&nbsp; : "+$cartdetail["imagewidth"]+" x "+$cartdetail["imagelength"]+" CM <br>"+"> Susunan "+$cartdetail.totalinprintx+" x "+$cartdetail.totalinprinty+" + "+$cartdetail.totalinprintrest+" = "+$cartdetail.totalinprint+"<br>"+"Uk. Kertas : "+$cartdetail["printwidth"]+" x "+$cartdetail["printlength"]+" CM <br>"+"Uk. PLANO&nbsp; : "+$cartdetail["plano"]["width"]+" x "+$cartdetail["plano"]["length"]+" CM"+'<hr class="dashed">'+$cartdetail.paper.papertype.name+": "+$cartdetail.paper.name+" "+$cartdetail.paper.color+" "+$cartdetail.paper.gramature+"gsm <br>"+$cartdetail.vendor.name+" "+$cartdetail.vendor.phone1+"<br>"+"Beli "+$cartdetail.totalplano.toString().addThousandSeparator()+" plano belah "+$cartdetail.totalinplano+"<br>"+"> Pembagian "+$cartdetail.totalinplanox+" x "+$cartdetail.totalinplanoy+" + "+$cartdetail.totalinplanorest+" = "+$cartdetail.totalinplano+"<br>"+"Kira-kira Rp "+$cartdetail.totalpaperprice.toString().addThousandSeparator()+'<hr class="dashed">';if($cartdetail.employeenote.length>1){afterbarcode+="Catatan kerja, "+$cartdetail.employeenote+"."}$.each($cartdetail.cartdetailfinishing,function($k,$cartdetailfinishing){afterbarcode+='<div class="">'+"- "+$cartdetailfinishing.finishing.name+", "+$cartdetailfinishing.finishingoption.optionname+"</div>"});afterbarcode+="</div>"});afterbarcode+='<hr class="solid">'});afterbarcode+='<div class="text-xs-center">Selamat bekerja</div>';var htmlPop=scss+'<div class="view-small-invoice">'+prebarcode+'<div class="text-xs-center">'+'\t<svg class="barcode"'+'\t\tjsbarcode-format="upc"'+'\t\tjsbarcode-value="'+barcode+'"'+'\t\tjsbarcode-textmargin="0"'+'\t\tjsbarcode-margintop="5"'+'\t\tjsbarcode-marginright="0"'+'\t\tjsbarcode-marginbottom="2"'+'\t\tjsbarcode-marginleft="0"'+'\t\tjsbarcode-height="25"'+'\t\tjsbarcode-fontsize="10"'+'\t\tjsbarcode-fontoptions="normal">'+"\t</svg>"+"</div>"+afterbarcode+"</div>"+"<script>"+'JsBarcode(".barcode").init();'+"<\/script>";var printWindow=window.open("","PDF",winparams);printWindow.document.write(scss+htmlPop);printWindow.document.close();var intv=setInterval(function(){printWindow.focus();printWindow.print();clearInterval(intv)},200)}}])}},{}],86:[function(require,module,exports){module.exports=function(app){app.controller("TrackingController",["$scope","$http","API_URL",function($scope,$http,API_URL){$scope.initHeader=function($input){$scope.headers=JSON.parse($input);console.log($scope.headers);for($i=0;$i<$scope.headers.length;$i++){$scope.headers[$i].lastUpdate=$scope.makeDateTime($scope.headers[$i].lastUpdate+"");$scope.headers[$i].salesTime=$scope.makeDateTime($scope.headers[$i].salesTime+"");$scope.headers[$i].showdetail=false;$scope.headers[$i].showdelivery=false;$scope.headers[$i].showpayment=false}};$scope.showdetail=function($item){$show=true;if($item.showdetail==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false});if($show)$item.showdetail=true};$scope.showpayment=function($item){$show=true;if($item.showpayment==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false});if($show)$item.showpayment=true};$scope.showdelivery=function($item){$show=true;if($item.showdelivery==true)$show=false;$.each($scope.headers,function($index,$item2){$item2.showdetail=false;$item2.showpayment=false;$item2.showdelivery=false});if($show)$item.showdelivery=true};$scope.selectVerif=function($item){$scope.modalselected=$item;$scope.modalselected.salesTime=$scope.makeDateTime($scope.modalselected.salesTime)};$scope.searchOnVerifs=function(){if($scope.searchingkey=="")$scope.searchedpaiddatas=$scope.paiddatas;else{$scope.searchedpaiddatas=[];for($i=0;$i<$scope.paiddatas.length;$i++){if($scope.isContained($scope.paiddatas[$i]["accname"],$scope.searchingkey)||$scope.isContained($scope.paiddatas[$i]["accno"]+"",$scope.searchingkey)||$scope.isContained($scope.paiddatas[$i]["bankname"]+"",$scope.searchingkey)||$scope.isContained($scope.paiddatas[$i]["ammount"]+"",$scope.searchingkey))$scope.searchedpaiddatas.push($scope.paiddatas[$i])}}};$scope.isContained=function($string,$key){if($string.toLowerCase().indexOf($key.toLowerCase())!=-1)return true;else return false};$scope.setHeaderFromValue=function($salesheader){$scope.headerselected=$salesheader;$scope.getDetailData($salesheader.salesID)};$scope.setDetailFromValue=function($salesdetail){$scope.detailselected=$salesdetail;$scope.getCartData($salesdetail.cartdetailID)};$scope.totalDetail=0;$scope.getDetailData=function($id){$http({method:"GET",url:API_URL+"salesdetails/"+$id+"/header"}).then(function(response){$scope.salesdetails=response.data;$scope.totalDetail=0;for($i=0;$i<response.length;$i++){$scope.totalDetail=$scope.totalDetail+parseInt(response[$i].totalprice)}})};$scope.getCartData=function($id){$http({method:"GET",url:API_URL+"cartdetails/"+$id+"/header"}).then(function(response){$scope.cartdetails=response.data})};$scope.cancelUpdate=function(){$("#btn-cancel").attr("hidden","hidden");$("#btn-add").removeAttr("hidden");$("#btn-update").removeClass("btn-primary").addClass("btn-second").attr("disabled","disabled");$("#form-open").attr("action",$scope.URL+"salesheader");$("#form-method").val("POST")};$scope.fillPapers.call();$scope.getVerifData=function(){console.log("verif");$http({method:"GET",url:API_URL+"verif"}).then(function(response){console.log(response);$scope.paiddatas=response.data;$scope.searchOnVerifs()})};$scope.verify=function(){$http({method:"POST",url:API_URL+"verif/store",data:{id:$scope.modalselected.salesID}}).then(function(response){console.log(response)})};$scope.searchingkey="";$scope.modal={bankID:5,accno:"",accname:"",acclocation:""}}])}},{}],87:[function(require,module,exports){module.exports=function(app){app.controller("AiceIndexController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.datas=[];$scope.aicesales=[];$scope.aicesalesgroup=[];$scope.selected=[];$scope.allaice=[];$scope.totalharga=0;$scope.initData=function($aice,$aicesales,$aicesalesgroup,$role){$scope.datas=JSON.parse($aice);$scope.aicesales=JSON.parse($aicesales);$scope.aicesalesgroup=JSON.parse($aicesalesgroup);$scope.role=$role;$.each($scope.aicesales,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at)});console.log($scope.datas)};$scope.addSelected=function($input){$sama=false;$.each($scope.selected,function($index,$item){if($item.id==$input.id){$item.qty+=1;$sama=true}});if(!$sama){$input.qty=1;$scope.selected.push($input)}$scope.calcPrice()};$scope.calcPrice=function(){$scope.totalharga=0;$.each($scope.selected,function($index,$item){$scope.totalharga+=$item.qty*$item.sellprice})};$scope.removeSelected=function($input){$removeIndex=-1;$.each($scope.selected,function($index,$item){if($item.id==$input.id){$removeIndex=$index}});if($removeIndex!=-1){$scope.selected.splice($removeIndex,1)}$scope.calcPrice()};$scope.barcodeSearch=function($event){var keyCode=$event.which||$event.keyCode;if(keyCode===13){$.each($scope.datas,function($index,$item){console.log($item.barcode);if($item.barcode==$scope.barcode){$scope.addSelected($item)}});$scope.barcode="";$("#barcode").focus()}};$scope.showSales=function(){$("#aicesales").modal("show")};$scope.showGroup=function(){$("#aicesalesgroup").modal("show")};$scope.saving=false;$scope.saveData=function(){if($scope.saving==false){$scope.saving=true;$http({method:"post",url:API_URL+"aice/save",data:$scope.selected}).then(function(response){if(response=="success"){$scope.selected=[];$scope.totalharga=0;$scope.saving=false}else{alert("GAGAL MASUK, ulangi kembali");$scope.saving=false}},function(error){alert("GAGAL MASUK, ulangi kembali");$scope.saving=false})}};$scope.salesloading=false;$scope.grouploading=false;$scope.aiceloading=false;$scope.getSales=function(){if(!$scope.salesloading){$scope.salesloading=true;$http({method:"get",url:API_URL+"aice/getSales"}).then(function(response){if(response!=null){$scope.aicesales=response.data;$.each($scope.aicesales,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at)})}else{alert("error loading sales")}$scope.salesloading=false},function(error){alert("gagal retrieve data");$scope.salesloading=false})}};$scope.getGroup=function(){if(!$scope.grouploading){$scope.grouploading=true;$http({method:"get",url:API_URL+"aice/getGroup"}).then(function(response){if(response!=null){$scope.aicesalesgroup=response.data}else{alert("error loading group")}$scope.grouploading=false},function(error){alert("gagal retrieve data");$scope.grouploading=false})}};$scope.getAllAice=function(){if(!$scope.aiceloading){$scope.aiceloading=true;$http({method:"get",url:API_URL+"aice/master"}).then(function(response){if(response!=null){$scope.allaice=response.data;$.each($scope.allaice,function($index,$item){$item.sellprice2=$item.sellprice;$item.stock2=$item.stock;$item.minstock2=$item.minstock})}else{alert("error loading master")}$scope.aiceloading=false},function(error){alert("gagal terima data master");$scope.aiceloading=false})}};$scope.knight=function(){if($scope.role=="Administrator"){$scope.getAllAice();$("#aicestock").modal("show")}};$scope.submitStock=function(){if(!$scope.aiceloading){$scope.aiceloading=true;$http({method:"post",url:API_URL+"aice/master/push",data:$scope.allaice}).then(function(response){if(response!=null){$scope.allaice=response.data;$.each($scope.allaice,function($index,$item){$item.sellprice2=$item.sellprice;$item.stock2=$item.stock;$item.minstock2=$item.minstock})}else{alert("error loading master")}$scope.aiceloading=false},function(error){alert("gagal terima data master");$scope.aiceloading=false})}}}])}},{}],88:[function(require,module,exports){module.exports=function(app){app.controller("AllSmallInvoiceController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$window){$scope.initData=function($data){$scope.sales=JSON.parse($data);if($scope.sales!=null){$scope.sales.created_at=$scope.makeDateTime($scope.sales.created_at);$scope.sales.totalpay=0;$scope.sales.totalsales=0;$.each($scope.sales.salesdetail,function($i,$ii){$scope.sales.totalsales+=$ii.cartheader.printprice+$ii.cartheader.deliveryprice-$ii.cartheader.discount});$.each($scope.sales.salespayment,function($i,$ii){if($ii.salespaymentverif!=null){$scope.sales.totalpay+=$ii.ammount}})}};$scope.printCardMaster=function(linewidth){var winparams="dependent=no,locationbar=no,scrollbars=no,menubar=no,"+"resizable,screenX=450,screenY=0,width=270,height=500";var bootstrap='<link async rel="stylesheet" href="'+BASE_URL+'css/bootstrap.css?version=0.2">';var scss="<style type='text/css' media='print'>"+"@page "+"{ "+"\tsize: auto;   /* auto is the initial value */"+"margin: 0mm; "+"\t/*this affects the margin in the printer settings */"+"}"+"</style>"+"<script src='"+BASE_URL+"js/jquery.min.js'><\/script>"+"<script src='"+BASE_URL+"script/constants/JsBarcode.ean-upc.min.js'><\/script>"+"<link async rel='stylesheet' href='"+BASE_URL+"css/onlyprint.css'>";var prebarcode=app.logoforprint;prebarcode+=$scope.zeroFill($scope.sales.created_at.getDate(),2)+"/"+$scope.zeroFill($scope.sales.created_at.getMonth(),2)+"/"+$scope.sales.created_at.getFullYear()+" "+$scope.sales.customer.name+" "+$scope.sales.customer.phone1+"<br><br>";var afterbarcode="<div class='barcode-label'>";var barcode="";if($scope.sales.totalpay>=$scope.sales.totalsales){prebarcode+="STATUS CETAK & DETAIL";barcode="114"+$scope.zeroFill($scope.sales.id,8)}else{prebarcode+="UNTUK MELAKUKAN PEMBAYARAN";barcode="112"+$scope.zeroFill($scope.sales.id,8)}afterbarcode+="</div>";prebarcode+="<br>";if($scope.sales.totalpay>$scope.sales.totalsales){prebarcode+="KELEBIHAN BAYAR: "+(sales.totalpay-sales.totalsales).toString().addThousandSeparator()}else if($scope.sales.totalpay==$scope.sales.totalsales){prebarcode+="LUNAS"}else{prebarcode+="TOTAL TAGIHAN: "+($scope.sales.totalsales-$scope.sales.totalpay).toString().addThousandSeparator()}afterbarcode+='<hr style="border-top: '+linewidth+'px solid black; margin: 2px 0;">';$totalharga=0;$.each($scope.sales.salesdetail,function($i,$salesdetail){var subtotal=$salesdetail.cartheader.printprice+$salesdetail.cartheader.deliveryprice-$salesdetail.cartheader.discount;afterbarcode+='<div class="">'+$salesdetail.cartheader.jobsubtype.name+'<span class="pull-xs-right">'+"Deliv: "+$salesdetail.cartheader.delivery.deliveryname+"</span>"+"<br>"+$salesdetail.cartheader.jobtitle+"</div>"+'<div class="">'+$salesdetail.cartheader.quantity.toString().addThousandSeparator()+" "+$salesdetail.cartheader.quantitytypename+'<span class="pull-xs-right">'+subtotal.toString().addThousandSeparator()+"</span>"+"</div>";$.each($salesdetail.cartheader.cartdetail,function($j,$cartdetail){afterbarcode+='<div class="">';if($salesdetail.cartheader.cartdetail.length>1)afterbarcode+="> <b>"+$cartdetail.cartname+"</b><br>";afterbarcode+=($cartdetail.jobtype=="OF"?"OFFSET":$cartdetail.jobtype=="DG"?"DIGITAL":"OTHER")+" "+$cartdetail["imagewidth"]+"x"+$cartdetail["imagelength"]+"CM -- "+$cartdetail.paper.papertype.name+": "+$cartdetail.paper.name+" "+$cartdetail.paper.color+" "+$cartdetail.paper.gramature+"gsm"+"</div>";$.each($cartdetail.cartdetailfinishing,function($k,$cartdetailfinishing){afterbarcode+='<div class="">'+"- "+$cartdetailfinishing.finishing.name+", "+$cartdetailfinishing.finishingoption.optionname+"</div>"})});afterbarcode+='<hr style="border-top: '+linewidth+'px solid black; margin: 2px 0;">';$totalharga+=subtotal});afterbarcode+='<div class="text-xs-right">'+"Total "+$totalharga.toString().addThousandSeparator()+"</div>";afterbarcode+="<br><br>";afterbarcode+='<hr style="border-top: '+linewidth+'px solid black; margin: 2px 0;">';afterbarcode+='<div class="text-xs-center">Terima kasih telah ';afterbarcode+="berbelanja di Jakartabrosur.com</div>";var htmlPop=scss+'<div class="view-small-invoice">'+prebarcode+'<div class="text-xs-center">'+'\t<svg class="barcode"'+'\t\tjsbarcode-format="upc"'+'\t\tjsbarcode-value="'+barcode+'"'+'\t\tjsbarcode-textmargin="0"'+'\t\tjsbarcode-margintop="5"'+'\t\tjsbarcode-marginright="0"'+'\t\tjsbarcode-marginbottom="2"'+'\t\tjsbarcode-marginleft="0"'+'\t\tjsbarcode-height="25"'+'\t\tjsbarcode-fontsize="10"'+'\t\tjsbarcode-fontoptions="normal">'+"\t</svg>"+"</div>"+afterbarcode+"</div>"+"<script>"+'JsBarcode(".barcode").init();'+"<\/script>";var printWindow=window.open("","PDF",winparams);printWindow.document.write(scss+htmlPop);printWindow.document.close();var intv=setInterval(function(){printWindow.focus();printWindow.print();clearInterval(intv)},200)};$scope.printCard54=function(){$scope.printCardMaster(2)};$scope.printCard80=function(){$scope.printCardMaster(1)}}])}},{}],89:[function(require,module,exports){module.exports=function(app){app.controller("AllaccCartheaderController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.salesdetail=null;$scope.initData=function($input){$scope.salesdetail=JSON.parse($input);$.each($scope.salesdetail.cartheader.cartdetail,function($i,$ii){$ii.jobtypelong=$ii.jobtype=="OF"?"Offset Print":$ii.jobtype=="DG"?"Digital Print":"Not Set Yet"})};$scope.showprogress=function(){$("#print-progress-modal").modal("show")}}])}},{}],90:[function(require,module,exports){module.exports=function(app){app.controller("CreateHeaderController",["$scope","$http","API_URL","$window",function($scope,$http,API_URL,$window){$scope.URL="http://localhost:8000/";$scope.checkout=function(){$window.location.href="order/createheader"}}])}},{}],91:[function(require,module,exports){module.exports=function(app){app.controller("DescriptionController",["$scope","$http","API_URL","$cookies","$window",function($scope,$http,API_URL,$cookies,$window){$scope.selected={jobtitle:"",customernote:""};$scope.initData=function($input){$data=JSON.parse($input);$scope.selected.jobtitle=$data.jobtitle;$scope.selected.customernote=$data.customernote};$scope.initPrice=function($input){$data=JSON.parse($input);$scope.selected.qty=$data.quantity;$scope.productPerRim=$data.perrim;$scope.productPerPcs=$data.perpcs;$scope.productPrice=$data.price};$scope.checkout=function(){$http({method:"POST",url:API_URL+"flyer/description",data:{data:$scope.selected}}).then(function(response){$scope.productPrice=response.price;$scope.productPerRim=response.perrim;$scope.productPerPcs=response.perpcs})};$scope.nextCalled=function(){$scope.checkout()};$scope.addThousandSeparator=function(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};$scope.isTheSame=function(x,y){if(x==y)return true;return false}}])}},{}],92:[function(require,module,exports){module.exports=function(app){app.controller("FloatingcontactController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.faquestionsloading=false;$scope.faquestions=[];$scope.faquestionsmaster=[];$scope.hoverfloatingcontact=function(){$("#floating-link").removeClass("hide")};$scope.leavefloatingcontact=function(){$("#floating-link").addClass("hide")};$scope.openfloatingcontact=function(){$scope.loadfaquestion();$("#floating-panel").modal("show")};$scope.loadfaquestion=function(){if(!$scope.faquestionsloading){$scope.faquestionsloading=true;$http({method:"GET",url:AJAX_URL+"faquestions"}).then(function(response){if(response!=null){if(response.data!=null){$scope.faquestionsmaster=response.data;$.each($scope.faquestionsmaster,function($index,$item){$scope.faquestionsmaster[$index].show=false});$scope.faquestions=$scope.getfavourites($scope.faquestionsmaster);console.log($scope.faquestions);console.log("masuk ques")}else{console.log("The return value is null, not error")}}$scope.faquestionsloading=false},function(error){console.log(error);$scope.faquestionsloading=false})}};$scope.getfavourites=function($master){$temp=[];$.each($master,function($i,$ii){if($ii.favourite==1){$temp.push($ii)}});return $temp};$scope.gettemennya=function($master,$typeid){$temp=[];$.each($master,function($i,$ii){if($ii.favourite==1&&$ii.questiontypeID!=$typeid){$temp.push($ii)}if($ii.questiontypeID==$typeid){$temp.push($ii)}});return $temp};$scope.selecttemennya=function($item){if($item.show==false){$scope.faquestions=$scope.gettemennya($scope.faquestionsmaster,$item.questiontypeID);$scope.hideall();$.each($scope.faquestions,function($i,$ii){if($item.id==$ii.id){$scope.faquestions[$i].show=true}})}else{$scope.hideall()}};$scope.hideall=function(){$.each($scope.faquestions,function($index,$item){$scope.faquestions[$index].show=false})}}])}},{}],93:[function(require,module,exports){module.exports=function(app){app.controller("NavHeaderController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.isOrder=function($input){if($input=="orderlistcustomer")return true;else if($input.startsWith("shop/"))return true;else return false};$scope.isCustTransaksi=function($input){if($input.startsWith("cart"))return true;else if($input.startsWith("sales/all"))return true;else return false};$scope.isEmpMaster=function($input){if($input=="admin/master/pricepaper"||$input=="admin/master/newpaper"||$input=="admin/master/paperdetailstore"||$input=="admin/master/finishings"||$input=="admin/master/customer")return true;else return false};$scope.isEmpTransaksi=function($input){if($input=="admin/allsales"||$input=="admin/pricetext"||$input=="admin/cart"||$input=="admin/master/pendingcompany"||$input=="admin/master/pendingcustomer")return true;else return false};$scope.isEmpJobsubtype=function($input){if($input=="admin/master/shoppricing"||$input=="admin/master/jobactivation"||$input=="admin/master/jobeditor"||$input=="admin/master/jobfinishingeditor"||$input=="admin/master/jobsizeeditor"||$input=="admin/master/jobpapereditor"||$input=="admin/master/jobquantityeditor")return true;else return false};$scope.isAccount=function($input){if($input=="notification"||$input=="profile"||$input=="chpass"||$input.startsWith("login")||$input=="signup")return true;else return false}}])}},{}],94:[function(require,module,exports){module.exports=function(app){app.controller("HandOfGod",["$timeout","$scope","$http","API_URL","BASE_URL","AJAX_URL","$window","$sce",function($timeout,$scope,$http,API_URL,BASE_URL,AJAX_URL,$window,$sce){$scope.godSalesID=0;$scope.app_version="2.06.004";$scope.month_enum={1:"Januari",2:"Februari",3:"Maret",4:"April",5:"Mei",6:"Juni",7:"Juli",8:"Agustus",9:"September",10:"Oktober",11:"November",12:"Desember"};$window.dataLayer=$window.dataLayer||[];$scope.gtag=function(){dataLayer.push(arguments)};$scope.submitGoogleAnalytics=function($ip){if(!$ip.startsWith("192.168")&&$ip!="::1"){$scope.gtag("js",new Date);$scope.gtag("config","UA-144197477-1")}};$scope.showAlertOK=function($title,$detail,$login=false){$scope.alertmessage={title:$title,detail:$detail,login:$login};$("#alert-ok").modal("show")};$scope.reversestatus=function($input){if(typeof $input==="boolean")return!$input};$scope.role=function($role,$custID){if($role!=null){if($role=="customer"){$scope.notifcounting("customer",$custID)}else if($role!="customer"&&$role!=""){$scope.notifcounting("employee",$custID)}}};$scope.notifcount=0;$scope.notifcounting=function($role,$custID){$scope.notifcount=0;$http({method:"POST",url:API_URL+"notifications/"+$role+"/"+$custID+"/count"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){$scope.notifcount=parseInt(response.data)}else{console.log("error")}}})};$scope.timecount=0;var interval=setInterval(function(){$scope.timecount=0;console.log("COUNTER: "+$scope.timecount);$scope.timecount++},10);$(document).ready(function(){$("#preloader-wrapper").hide();clearInterval(interval);$("#content-wrapper").fadeIn();try{if($("#landingpage").exists()){$("#landingpage").modal("show")}}catch(e){console.log("Landing page error - runtime error")}});$scope.singkatText=function($text,$totalhuruf,$simbolakhir){$hasil="";if($text==null||$totalhuruf==null||$simbolakhir==null)return"-";if($simbolakhir==""){$hasil=$scope.singkatText0($text,$totalhuruf)}else{if($text.length>$totalhuruf){$indexSimbol=$text.lastIndexOf($simbolakhir)-2;$panjangAkhir=$text.length-$indexSimbol;$panjangDepan=$totalhuruf-$panjangAkhir<5?5:$totalhuruf-$panjangAkhir;$depan=$text.substring(0,$panjangDepan);$belakang=$text.substring($indexSimbol);$hasil=$depan+"..."+$belakang}else{$hasil=$text}}if($hasil.length>$totalhuruf+3){$hasil=$scope.singkatText0($text,$totalhuruf)}return $hasil};String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})};$scope.togglerClicked=function(){$timeout(function(){if($(".navbar-toggler").attr("aria-expanded")==="true"){$(".navbar-toggler .fa").addClass("rotate");$(".navbar-toggler .glyphicon").addClass("rotate")}else if($(".navbar-toggler").attr("aria-expanded")==="false"){$(".navbar-toggler .fa").removeClass("rotate");$(".navbar-toggler .glyphicon").removeClass("rotate")}})};$scope.scrollTo=function($id,$plus=0){$("html, body").animate({scrollTop:$($id).offset().top+$plus},1e3)};$scope.singkatText0=function($text,$totalhuruf){if($text==null)return"-";if($text.length>$totalhuruf){$depan=$text.substring(0,$totalhuruf);return $depan+"..."}else{return $text}};$scope.clone=function($obj){return jQuery.extend(true,{},$obj)};$scope.isNum=function($input){return!isNaN($input)};$scope.zeroFill=function(number,width){if(number==null)return"null";width-=number.toString().length;if(width>0){return new Array(width+(/\./.test(number)?2:1)).join("0")+number}return number+""};$scope.makeDate=function($input){if($input==null)return null;if($input=="null")return null;$temp=$input.split(" ")[0];$temp=$temp.split("-");return new Date($temp[0],$temp[1]-1,$temp[2])};$scope.makeDateTime=function($input){if($input==null)return null;if($input=="null")return null;if($input=="")return null;$temp=$input.split(" ")[0];$temp=$temp.split("-");$temp2=$input.split(" ")[1];$temp2=$temp2.split(":");return new Date($temp[0],$temp[1]-1,$temp[2],$temp2[0],$temp2[1],$temp2[2])};Date.prototype.getDateOnly=function(){var local=new Date(this);local.setMinutes(this.getMinutes()-this.getTimezoneOffset());return local.toJSON().slice(0,10)};$scope.num_validation=function($value,$min,$max,$step){if($value>$max){$value=$max}else if($value<$min){$value=$min}else{$a=1/$step;$b=$value*$a;$c=parseInt($b);if($b!=$c){$value=$c/$a}}return $value};$scope.print_r=function(o){return JSON.stringify(o,null,"\t")};$scope.fillPapers=function(){$http({method:"GET",url:API_URL+"papers"}).then(function(response){if(response.data!=null)if(response.data.length>0)$scope.papers=response.data})};$scope.fillCities=function(){$http({method:"GET",url:API_URL+"cities"}).then(function(response){if(response.data!=null)if(response.data.length>0)$scope.cities=response.data},function(error){console.log("cannot get city data");console.log(error)})};$scope.fillCompanyBankAccs=function(whendone){$http({method:"GET",url:AJAX_URL+"compaccs"}).then(function(response){if(response.data!=null){if(response.data.length>0){if(whendone instanceof Function){whendone(response.data)}}}else{console.log("Null return when calling company bank accounts - Godhands")}},function(error){console.log("Error when calling company bank accounts - Godhands")})};$scope.fillCustomerBankAccs=function(whendone){$http({method:"GET",url:AJAX_URL+"custaccs"}).then(function(response){if(response.data!=null){if(response.data.length>0){$scope.custaccs=response.data;if(whendone instanceof Function){whendone()}}}else{console.log("Null return when calling customer bank accounts - Godhands")}},function(error){console.log("Error when calling customer bank accounts - Godhands")})};$scope.copyToClipboard=async function(containerid){if(document.selection){var range=document.body.createTextRange();range.moveToElementText(document.getElementById(containerid));range.select().createTextRange();document.execCommand("copy")}else if(window.getSelection){try{var range=document.createRange();range.selectNode(document.getElementById(containerid));window.getSelection().addRange(range);document.execCommand("copy")}catch(err1){try{await navigator.clipboard.writeText(containerid)}catch(err){console.error("Failed to copy: ",err)}}}};$scope.validateEmail=function(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)};$scope.tooltip=function($value){$scope.statictooltipvalue=$value};$scope.updateCompAcc=function($accid){$http({method:"GET",url:"https://api.ipify.org"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){$http({method:"POST",url:API_URL+"admin/compaccs/"+$accid+"/bca/refresh",data:response.data}).then(function(response2){if(response2.data!=null){$.each(response2.data,function($index,$item){$item.mutationDate=$scope.makeDate($item.mutationDate)});$scope.klikbca=response2.data}}).catch(function(data){$scope.klikbca=data.data.message})}else{$scope.klikbca=null}}else{$scope.klikbca=null}})};$scope.recfindinside=function($text,$letter){if($letter==null)return true;if($letter.length==0){return true}else if($text.length==0){return false}$index=$text.indexOf($letter.charAt(0));if($index==-1)return false;else{$find=$letter.substring(1);$sisa=$text.substring($index+1);return $scope.recfindinside($sisa,$find)}};String.prototype.findInside=function($letter){if(this==null)return false;else if(this.length==0)return false;else return $scope.recfindinside(this,$letter)};String.prototype.replaceAll=function(search,replacement){var target=this;return target.replace(new RegExp(search,"g"),replacement)};$scope.trustAsHtml=function($input){return $sce.trustAsHtml($input).$$unwrapTrustedValue().replaceAll(/\?/g,"'")};$scope.isURL=function(value){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value)};$scope.trustAsUrl=function($input){return $sce.trustAsResourceUrl($input)};$scope.stripTagsWA=function($input){$hasil=$input.replace(/<br\s*\/?>/gi,"%0A");$hasil=$hasil.replace(/<hr[^>]*>/gi,"%0A%0A");$hasil=$hasil.replace(/<b[^>]*>|<\/b>/gi,"*");$hasil=$hasil.replace(/[ \t]/gi,"%20");$hasil=$hasil.replace(/&sup2;/gi,"2");$hasil=$hasil.replace(/(<([^>]+)>)/gi,"");return $hasil};$scope.DateDiff={inDays:function(d1,d2){var t2=d2.getTime();var t1=d1.getTime();return parseInt((t2-t1)/(24*3600*1e3))},inWeeks:function(d1,d2){var t2=d2.getTime();var t1=d1.getTime();return parseInt((t2-t1)/(24*3600*1e3*7))},inMonths:function(d1,d2){var d1Y=d1.getFullYear();var d2Y=d2.getFullYear();var d1M=d1.getMonth();var d2M=d2.getMonth();return d2M+12*d2Y-(d1M+12*d1Y)},inDays:function(d1,d2){var d1Y=d1.getFullYear();var d2Y=d2.getFullYear();return d2Y-d1Y}};$scope.ceil=function($input){return Math.ceil($input)};$scope.floor=function($input){return Math.floor($input)};$scope.round=function($input){return Math.round($input)};$scope.total2kg=function($total,$gram,$w,$l){$result=$total*2e4/$gram/$w/$l;return Math.round($result/100)*100};$scope.total2unit=function($total,$totalpcs){$result=$total/$totalpcs;return Math.ceil($result)};$scope.kg2total=function($kg,$gram,$w,$l){$result=$kg*$gram*$w*$l/2e4;return Math.ceil($result/1e3)*1e3};$scope.kg2unit=function($kg,$gram,$w,$l){$result=$kg*$gram*$w*$l/2e4/500;return Math.ceil($result)};$scope.unit2total=function($unit,$totalpcs){$result=$unit*$totalpcs;return $result};$scope.unit2kg=function($unit,$totalpcs,$gram,$w,$l){$total=$unit*$totalpcs;$result=$total*2e4/$gram/$w/$l;return Math.round($result/100)*100};$scope.filteremptyindex=function($arr){return $arr.filter(value=>Object.keys(value).length!==0)};String.prototype.addThousandSeparator=function(){return this.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};$scope.phonemask=function(e){if(e!=null){var hasil=e;var x;if(!e.startsWith("08")){x=e.replace(/\D/g,"").match(/(\d{3})(\d{3})(\d{4})/);if(x!=null)hasil="("+x[1]+") "+x[2]+"-"+x[3]}else{if(e.length==10){x=e.replace(/\D/g,"").match(/(\d{4})(\d{3})(\d{3})/);if(x!=null)hasil=x[1]+"-"+x[2]+"-"+x[3]}else if(e.length==11){x=e.replace(/\D/g,"").match(/(\d{4})(\d{3})(\d{4})/);if(x!=null)hasil=x[1]+"-"+x[2]+"-"+x[3]}else if(e.length==12){x=e.replace(/\D/g,"").match(/(\d{4})(\d{4})(\d{4})/);if(x!=null)hasil=x[1]+"-"+x[2]+"-"+x[3]}else if(e.length==13){x=e.replace(/\D/g,"").match(/(\d{4})(\d{4})(\d{4})(\d{4})/);if(x!=null)hasil=x[1]+"-"+x[2]+"-"+x[3]+"-"+x[4]}}return hasil}else return""};$scope.val_ext=function($type,$ext){if($type=="upload-file"){if($ext=="cdr"||$ext=="zip"||$ext=="rar"||$ext=="ai"||$ext=="xls"||$ext=="xlsx"||$ext=="doc"||$ext=="docx"||$ext=="tiff"||$ext=="tif"||$ext=="pdf"||$ext=="jpg"||$ext=="jpeg"||$ext=="psd"||$ext=="7z"||$ext=="txt"||$ext=="indd"){return true}else{return false}}};$scope.val_size=function($size,$max=100*1024*1024){if($size<=$max){return true}else{return false}};Number.prototype.toFixedFloat=function(dp){return+parseFloat(this).toFixed(dp)};$scope.size_minimize=function($size){if($size<1024){return parseFloat($size).toFixedFloat(2)+""}else if($size<1024*1024){return(parseFloat($size)/1024).toFixedFloat(2)+" KB"}else if($size<1024*1024*1024){return(parseFloat($size)/1024/1024).toFixedFloat(2)+" MB"}else if($size<1024*1024*1024*1024){return(parseFloat($size)/1024/1024/1024).toFixedFloat(2)+" GB"}else if($size<1024*1024*1024*1024*1024){return(parseFloat($size)/1024/1024/1024/1024).toFixedFloat(2)+" TB"}return"HUGE"};$scope.uploadprogress=function(type,data,url,whendone,whenfailed){$.ajax({url:url,type:type,data:data,cache:false,contentType:false,processData:false,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity,xhr:function(){var myXhr=$.ajaxSettings.xhr();if(myXhr.upload){myXhr.upload.addEventListener("progress",function(e){if(e.lengthComputable){$(".progress-bar").css("width",e.loaded/e.total*100+"%");var value=e.loaded/e.total*100}},false);myXhr.upload.addEventListener("loadend",function(e){$scope.filesize=e.total;$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.errormessage=""},false)}return myXhr}}).done(function(response){if(whendone instanceof Function)whendone(response);$scope.$apply(function(){})}).fail(function(response){if(whenfailed instanceof Function)whenfailed(response);$scope.$apply(function(){})})}}])}},{}],95:[function(require,module,exports){module.exports=function(app){app.controller("HomePageController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.customers=[];$scope.initData=function($customers){$scope.customers=JSON.parse($customers);$.each($scope.customers,function($index,$item){$scope.customers[$index].updated_at=$scope.makeDateTime($item.updated_at);$scope.customers[$index].created_at=$scope.makeDateTime($item.created_at)});if($scope.customers!=null)$scope.getActiveCustomer()};$scope.getActiveCustomer=function(){$scope.totalloggedweek=0;$scope.totalsignedweek=0;$today=new Date;$.each($scope.customers,function($index,$item){if($item.created_at!=null){if($scope.DateDiff.inWeeks($item.created_at,$today)<7){$scope.totalsignedweek++}}if($item.updated_at!=null){if($scope.DateDiff.inWeeks($item.updated_at,$today)<7){$scope.totalloggedweek++}}})}}])}},{}],96:[function(require,module,exports){module.exports=function(app){app.controller("CompaccShowController",["$timeout","$scope","$http","API_URL","BASE_URL","$window",function($timeout,$scope,$http,API_URL,BASE_URL,$window){$scope.showcompacc=function(item){$scope.showncompacc=item}}])}},{}],97:[function(require,module,exports){module.exports=function(app){app.controller("SubnavigationController",["$timeout","$scope","$http","API_URL","BASE_URL","AJAX_URL","$window",function($timeout,$scope,$http,API_URL,BASE_URL,AJAX_URL,$window){$scope.subnavs=[{link:BASE_URL+"orderlistcustomer",route:["orderlistcustomer"],label:"Order List",glyphicon:"fa-th",login:"false"},{link:BASE_URL+"orderlistcustomer",route:["shop","shop/{pages}"],label:"Selection",glyphicon:"fa-analytics",login:"false"},{link:BASE_URL+"cart",route:["cart","cart/{cart}"],label:"Keranjang Belanja",glyphicon:"fa-shopping-basket",login:"true"},{link:BASE_URL+"sales/all",route:["sales/all","payment","payment/{payment}","payment/confirm","payment/confirm/{id}","addresses","addresses/{addresses}","sales/cartheader/{cartid}"],label:"Proses & Pembayaran",glyphicon:"fa-shopping-bag",login:"true"}];$scope.globalSubnav=function($current,$idlogin){if($idlogin!=""){$.each($scope.subnavs,function($index,$item){$scope.subnavs[$index].login="false"})}$scope.subnavbefore=[];$scope.subnavafter=[];$scope.subnavcurrent=null;$after=false;$.each($scope.subnavs,function($index,$item){if(!$scope.isInside($current,$item.route)){if($after==false){$scope.subnavbefore.push($item)}else{$scope.subnavafter.push($item)}}else{$after=true;$scope.subnavcurrent=$item}})};$scope.isInside=function($current,$arr){$result=false;$.each($arr,function($index,$item){if($current==$item){$result=true;return false}});return $result}}])}},{}],98:[function(require,module,exports){module.exports=function(app){$(function(){try{$('[data-toggle="tooltip"]').tooltip()}catch(e){console.log("tooltip disabled - runtime error")}})}},{}],99:[function(require,module,exports){module.exports=function(app){app.controller("OrderCartController",["$timeout","$scope","$http","API_URL","BASE_URL","AJAX_URL","$window",function($timeout,$scope,$http,API_URL,BASE_URL,AJAX_URL,$window){$scope.URL="http://localhost:8000/";$scope.selected=[];$scope.selectedPrice=0;$scope.totalSelected=0;$scope.jobtypes=["flyer"];$scope.error="";$scope.second=0;$scope.deliveries=[];$scope.selectedCart=[];$scope.selectedCartDelete=[];$scope.cartdeleteloading=false;$scope.cartduplicateloading=false;$scope.cartedittitleloading=false;$scope.newtitle="";$scope.selectedFile=[];$scope.selectedFileindex=-1;$scope.allchecked;$scope.stateupload="";$scope.uploadwaiting=false;$scope.errormessage="";$scope.settips=function(){console.log($(".cart-list-wrapper:first .title-wrapper .check .custom-checkbox .checkmark"));$temp=$(".cart-list-wrapper:first .title-wrapper .check .custom-checkbox .checkmark");$top=$temp.offset().top-100;console.log($top);$("html, body").animate({scrollTop:$top},50,function(){console.log("TEST");$(".tips").css("display","block")});return false};$(window).ready(function(){$(window).scroll(function(){if($(".tips").css("display")=="block"){var doc=document.documentElement;var sleft=(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0);var stop=(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0);$temp=$(".cart-list-wrapper:first .title-wrapper .check .custom-checkbox .checkmark");$diff=12;$top=$temp.offset().top-$diff-stop;$left=$temp.offset().left-$diff-sleft;$right=$temp.offset().left+$temp[0].offsetWidth+$diff-sleft;$bottom=$temp.offset().top+$temp[0].offsetHeight+$diff-stop;console.log("TEST");window.setTimeout(function(){$temp=$(".tips svg");$arrowwidth=40;$arrowheight=45;$newtop=$top-20-$arrowheight;$newleft=($left+$right)/2-$arrowwidth/2;$(".tips svg").css("top",$newtop);$(".tips svg").css("left",$newleft);$(".tips").css("clip-path","polygon(0% 0%, 100% 0%, 100% 100%, "+$right+"px 100%, "+$right+"px "+$top+"px, "+$left+"px "+$top+"px, "+$left+"px "+$bottom+"px, "+$right+"px "+$bottom+"px, "+$right+"px 100%, 20px 100%, 0 100%)")},50)}})});$scope.hidetips=function(){$(".tips").css("display","none")};$scope.initData=function($carts,$deliveries,$custaddresses){$scope.carts=JSON.parse($carts);$scope.deliveries=JSON.parse($deliveries);$scope.custaddresses=JSON.parse($custaddresses);$.each($scope.carts,function($c,$cc){$.each($scope.custaddresses,function($i,$ii){if($ii.addressID==$cc.deliveryaddressID){$cc.deliveryaddress=$ii.address}})});$scope.allchecked=true;$scope.checkAll();$.each($scope.carts,function($i,$ii){if($i==0){$scope.carts[$i].showdetail=true;$scope.selectedCart=$scope.carts[$i]}$scope.carts[$i].showinfo=true;$scope.carts[$i].showfile=false;$scope.carts[$i].showdelivery=false;if($ii.created_at!=null)$scope.carts[$i].created_at=$scope.makeDateTime($ii.created_at);if($ii.updated_at!=null)$scope.carts[$i].updated_at=$scope.makeDateTime($ii.updated_at);$.each($ii.cartdetail,function($j,$jj){$jj.jobtypelong=$jj.jobtype=="OF"?"Offset Print":$jj.jobtype=="DG"?"Digital Print":$jj.jobtype=="PL"?"Large Format":"Others"});$.each($ii.cartfile,function($j,$jj){if($jj.file.created_at!=null)$scope.carts[$i].cartfile[$j].file.created_at=$scope.makeDateTime($jj.file.created_at);if($jj.file.updated_at!=null)$scope.carts[$i].cartfile[$j].file.updated_at=$scope.makeDateTime($jj.file.updated_at)});$.each($scope.deliveries,function($j,$jj){if($jj.id==$ii.deliveryID){$ii.delivery=$jj}})})};$scope.tick=function(){$scope.second=parseInt(Date.now()/1e3);$timeout($scope.tick,1e3)};$timeout($scope.tick,1e3);$scope.initSelectedID=function($id){if($id!=0){$.each($scope.carts,function($i,$ii){if($ii.id==$id){if(!$ii.showdetail)$scope.showingdetail($ii,$i)}})}};$scope.initSelectedDetail=function($stat){if($stat!=""){$.each($scope.carts,function($i,$ii){if($ii.showdetail){if($stat=="fl"&&!$ii.showfile){$ii.showinfo=false;$ii.showfile=true;$ii.showdelivery=false}else if($stat=="dl"&&!$ii.showdelivery){$ii.showinfo=false;$ii.showfile=false;$ii.showdelivery=true}else if($stat=="in"&&!$ii.showinfo){$ii.showinfo=true;$ii.showfile=false;$ii.showdelivery=false}}})}};$scope.showeditfile=function($cart,$file){$scope.selectedCart=$cart;$scope.selectedFile=$file;$scope.stateupload="revisi";$("#changeFileModal").modal("show")};$scope.changeTitle=function($item){$("#changeTitleModal").modal("show");$scope.setSelectedItem($item)};$scope.changeSpec=function($item){$("#changeSpecModal").modal("show");$scope.setSelectedItem($item)};$scope.getwidth=function($input){return $input.substring(0,$input.indexOf("x"))};$scope.getlength=function($input){return $input.substring($input.indexOf("x")+1,$input.indexOf("cm"))};$scope.qtyIncr=function(){if($scope.edit.quantity<100)$scope.edit.quantity++;$scope.updatePrice()};$scope.qtyDecr=function(){if($scope.edit.quantity>1)$scope.edit.quantity--;$scope.updatePrice()};$scope.countSelectedPrice=function(){$scope.selectedPrice=0;$scope.totalSelected=0;$.each($scope.carts,function($i,$ii){if($ii.checked){$scope.selectedPrice+=parseFloat($ii.printprice)+parseFloat($ii.deliveryprice)-parseFloat($ii.discount);$scope.totalSelected++}});if($scope.totalSelected==$scope.carts.length){$scope.allchecked=true}else{$scope.allchecked=false}};$scope.checkAll=function(){if($scope.allchecked==true){$.each($scope.carts,function($index,$item){$scope.carts[$index].checked=false})}else{$.each($scope.carts,function($index,$item){$scope.carts[$index].checked=true})}$.each($scope.carts,function($index,$item){$item.showdetail=false});$scope.countSelectedPrice()};$scope.checkChanged=function($item){$scope.countSelectedPrice();if($scope.totalSelected>0){$scope.hidetips()}if($scope.totalSelected==$scope.carts.length){if($scope.allchecked==false)$scope.allchecked=true}else{if($scope.allchecked==true)$scope.allchecked=false}};$scope.showingdetail=function($cart,$index){if($cart.showdetail==true){$scope.selectedcartindex=-1;$cart.showdetail=false}else{$scope.hideall();$scope.selectedcartindex=$index;$scope.selectedCart=$cart;$cart.showdetail=true;$scope.showinfo($cart)}};$scope.showinfo=function($cart){$cart.showinfo=true;$cart.showfile=false;$cart.showdelivery=false};$scope.showdelivery=function($cart){$cart.showinfo=false;$cart.showfile=false;$cart.showdelivery=true};$scope.showfile=function($cart){$cart.showinfo=false;$cart.showfile=true;$cart.showdelivery=false};$scope.hideall=function(){$.each($scope.carts,function($i,$ii){$scope.carts[$i].showdetail=false})};$scope.setPapersize=function($width,$length){$scope.edit.width=parseFloat($width);$scope.edit.length=parseFloat($length)};$scope.addnewfile=function(){if(!$scope.loadingunbindfiles){$scope.unbindedfiles=[];$scope.loadingunbindfiles=true;$http({method:"GET",url:API_URL+"files/unbinded"}).then(function(response){$scope.unbindedfiles=response.data;$scope.loadingunbindfiles=false},function(error){if(error!=null){if(error.status=="403"){$window.location.reload()}}})}$scope.stateupload="addnew";$("#addFileModal").modal("show")};$scope.warningdelete=function($selectedcartdelete){$scope.selectedCartDelete=$selectedcartdelete;$("#warningcartdelete").modal("show")};$scope.cartdelete=function(){if($scope.selectedCartDelete!=null){if(!$scope.cartdeleteloading){$scope.cartdeleteloading=true;$http({method:"POST",url:AJAX_URL+"cart/delete",data:$scope.selectedCartDelete.id}).then(function(response){if(response!=null){if(response.data!=null){$scope.carts=response.data;$("#warningcartdelete").modal("hide");$scope.checkAll()}}else console.log("response = null");$scope.cartdeleteloading=false},function(error){if(error!=null){if(error.status==403){$window.location.reload()}}$scope.cartdeleteloading=false})}}};$scope.cartduplicate=function($cartid){if(!$scope.cartduplicateloading){$scope.cartduplicateloading=true;$http({method:"POST",url:AJAX_URL+"cart/duplicate",data:$cartid}).then(function(response){if(response!=null){if(response.data!=null){$scope.carts=response.data;$("#warningcartdelete").modal("hide");$scope.checkAll()}}else console.log("response = null");$scope.cartduplicateloading=false},function(error){if(error!=null){if(error.status==403){$window.location.reload()}}$scope.cartduplicateloading=false})}};$scope.edititem=function($item){$tmps=$scope.clone($item);delete $tmps.cartfile;$tmps.deliveryID=$tmps.delivery.id;delete $tmps.delivery;if($tmps.deliveryID==0){$tmps.deliverylocked=true}else{$tmps.deliverylocked=false}$tmps.pagename=$tmps.jobsubtype.link;delete $tmps.jobsubtype;delete $tmps.buyprice;delete $tmps.checked;delete $tmps.created_at;delete $tmps.updated_at;delete $tmps.customerID;delete $tmps.deliveryprice;delete $tmps.deliverytime;delete $tmps.discount;delete $tmps.filestatus;delete $tmps.printprice;delete $tmps.processtime;delete $tmps.quantitytypename;delete $tmps.showdelivery;delete $tmps.showdetail;delete $tmps.showfile;delete $tmps.showinfo;delete $tmps.totalweight;delete $tmps.totalpackage;if($tmps.cartdetail.length==1){$cd=$tmps.cartdetail[0];$tmps.paperID=$cd.paperID;$tmps.printerID=$cd.printerID;if($cd.side2>0){$tmps.sideprint="2"}else{$tmps.sideprint="1"}$tmps.finishings=[];$.each($cd.cartdetailfinishing,function($i,$ii){$temp={finishingID:$ii.id,optionID:$ii.optionID};$tmps.finishings.push($temp)});$tmps.printtype=$cd.jobtype}$tmps.cartID=$tmps.id;delete $tmps.id;delete $tmps.cartdetail;$addurl=JSON.stringify($tmps);$goto=BASE_URL+"shop/"+$tmps.pagename+"?ss="+$addurl;$window.location.href=$goto};$scope.showedittitle=function($cart){$scope.selectedCartTitle=$cart;$scope.newtitle=$scope.selectedCartTitle.jobtitle;$("#editcarttitle").modal("show");$("#editcarttitle").on("shown.bs.modal",function(){$("#editcart-newtitle").focus();$("#editcart-newtitle").keypress(function(event){var keycode=event.keyCode?event.keyCode:event.which;if(keycode=="13"){$scope.edittitle()}})})};$scope.edittitle=function(){if($scope.selectedCartTitle!=null&&$scope.selectedCartTitle.jobtitle!=$scope.newtitle){if(!$scope.cartedittitleloading){$scope.cartedittitleloading=true;$http({method:"POST",url:AJAX_URL+"cart/edittitle",data:{0:$scope.selectedCartTitle.id,1:$scope.newtitle}}).then(function(response){if(response!=null){if(response.data!=null){$scope.carts=response.data;$("#editcarttitle").modal("hide");$scope.checkAll()}}else console.log("response = null");$scope.cartedittitleloading=false},function(error){if(error!=null){if(error.status==403){$window.location.reload()}}$scope.cartedittitleloading=false})}}};$scope.infodeliveryshow=function(){$("#infodelivery").modal("show")};$scope.review=function(){if($scope.totalSelected==0){$scope.settips()}else{$scope.selected=[];$.each($scope.carts,function($i,$ii){if($ii.checked)$scope.selected.push($ii)});$scope.countSelectedPrice();$("#reviewCartModal").modal("show")}};$scope.checkout=function(){$http({method:"POST",url:AJAX_URL+"sales/create",data:$scope.selected}).then(function(response){if(response==null){console.log("return null, data kiriman juga null")}else{$window.location.href=BASE_URL+"sales/all"}})};$scope.fillPapers=function(){$http({method:"GET",url:API_URL+"papers/OF"}).then(function(response){$scope.papers=response.data})};$scope.fillPapers();$scope.fillPapersizes=function(){$http({method:"GET",url:API_URL+"papersizes"}).then(function(response){$scope.papersizes=response.data})};$scope.fillPapersizes();$scope.showfiles=function($cart,$cartid){$scope.loadingcartfiles=false;if($cart!=null)if($cart.cartfile!=null)if($cart.cartfile.length>0)$scope.setFilePreview($cart.cartfile[0].file);$scope.loadingcartfiles=false;$("#changeFileModal").modal("show")};$scope.fillCartfiles=function($cartid){if(!$scope.loadingcartfiles){$scope.loadingcartfiles=true;$http({method:"GET",url:API_URL+"cartfiles/"+$cartid}).then(function(response){$scope.tempcart.cartfile=response.data;if(typeof response=="object"){if(response.data.length>0){$scope.setFilePreview($scope.tempcart.cartfile[0])}}$scope.loadingcartfiles=false})}};$scope.setFilePreview=function($item){$scope.selectedfile=$item};$scope.updateTitle=function($id){$http({method:"POST",url:API_URL+"cartdetails/title/update",data:{cartID:$scope.edit.id,jobtitle:$scope.edit.jobtitle,jobtype:$scope.edit.jobtype,customernote:$scope.edit.customernote}}).then(function(response){if(typeof response=="object"){$scope.updateCartrow($scope.edit.id,response[0]);$("#changeTitleModal").modal("hide")}})};$scope.updateCartrow=function($id,$data){$.each($scope.carts,function($index,$item){if($item.id==$id){$scope.carts[0]=$data}})};$(function(){var token=$('input[name="_token"]').val();$(document).ajaxSend(function(e,xhr,options){console.log("ajax token!!!");xhr.setRequestHeader("X-CSRF-Token",token)})});$("#is-uploader").on("change",function(e){e.preventDefault();e.stopPropagation();if($(this)[0]["file"].files){if($(this)[0]["file"].files.length>0){$scope.upload($(this)[0]["file"].files)}}return false});$scope.choosefileclicked=function(){$("#btn-choose-file").click()};$scope.upload=function(files){var data=new FormData;$scope.errormessage="";$scope.uploadwaiting=true;$scope.loadingfiles=true;$counterror=0;$scope.$apply(function(){});angular.forEach(files,function(value){$ext=value.name.substring(value.name.lastIndexOf(".")+1);if(!$scope.val_ext("upload-file",$ext)){$scope.errormessage=value.name+" : tidak bisa upload dengan file format "+$ext+".";$counterror++}else if(!$scope.val_size(value.size)){$scope.errormessage=value.name+"( "+value.size/1024/1024+" MB ): file terlalu besar.";$counterror++}else{$scope.errormessage="";data.append("files[]",value)}$scope.$apply(function(){});if($scope.errormessage!=""){console.log($scope.errormessage);try{$http({method:"GET",url:BASE_URL,data:data,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity}).then(function(response){},function(error){console.log(error)})}catch(error){}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.$apply(function(){})}else{$url="";if($scope.stateupload=="revisi"){$url=AJAX_URL+"cartfiles/"+$scope.selectedCart.id+"/revision/"+$scope.selectedFile.id}else if($scope.stateupload=="addnew"){$url=AJAX_URL+"cartfiles/"+$scope.selectedCart.id+"/upload"}$scope.uploadprogress("POST",data,$url,function(response){if(response!=null){console.log(response.constructor);if(response.constructor===Array){$scope.selectedCart.cartfile=[];$scope.selectedCart.cartfile=response;$.each($scope.selectedCart.cartfile,function($i,$ii){if($ii.file.id==$scope.selectedFile.id){$scope.selectedFile=$ii.file}});if($scope.stateupload=="revisi"){$scope.errormessage="file berhasil diganti.."}else if($scope.stateupload=="addnew"){$scope.errormessage="berhasil tambah file.."}}else if(response.constructor===String){$scope.errormessage=response.constructor;$scope.uploadedfiles=[]}else{$scope.errormessage="Error, tidak dapat terima data yang sudah di upload (empty).";$scope.uploadedfiles=[]}}else{$scope.errormessage="Error, tidak dapat terima data yang sudah di upload (null).";$scope.uploadedfiles=[]}$scope.loadingfiles=false;$scope.uploadwaiting=false},function(response){console.log(response);if(response.status==419){$scope.errormessage="Unknown Status: May be the Session is over, please re-login to upload"}else{$scope.errormessage=response.statusText}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.uploadsuccess=false})}})}}])}},{}],100:[function(require,module,exports){module.exports=function(app){app.controller("CartAddfileController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.createcartfile=function($file){if(!$scope.loadingcartfiles){$data={cartID:$scope.selectedCart.id,fileID:$file.id};$scope.loadingcartfiles=true;$http({method:"POST",url:API_URL+"cartfiles/create",data:$data}).then(function(response){if(response!=null){$scope.selectedCart.cartfile=response.data;$scope.addnewfile()}else console.log("error when send data - create cartfile");$scope.loadingcartfiles=false})}}}])}},{}],101:[function(require,module,exports){module.exports=function(app){app.controller("CartChangefileController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.savechangeloading=false;$scope.savedetailclicked=function(){$scope.savechangefile(function($result){console.log($result);if($result==null){$scope.errormessage="ERROR - check console"}else if($result.code==200){}else{$scope.errormessage=$result.message;console.log($result.code+" - "+$result.message)}})};$scope.savechangefile=function(whendone){if($scope.savechangeloading==false){$scope.errormessage="";$scope.savechangeloading=true;$http({method:"POST",url:AJAX_URL+"carts/changefile/save",data:$scope.selectedFile}).then(function(response){if(response!=null){if(response.data!=null){$result=response.data;if(response.data.constructor===Object){$scope.errormessage=$result.message;$scope.savechangeloading=false}}}$scope.savechangeloading=false;if(whendone instanceof Function){whendone(response.data)}},function(error){$scope.errormessage="Error message cannot be displayed. See Console for further message.";console.log(error);$scope.savechangeloading=false;if(whendone instanceof Function){whendone(null)}})}};$scope.saveandclose=function(){$scope.savechangefile(function($result){if($result==null){$scope.errormessage="ERROR - check console"}else if($result.code==200){$("#changeFileModal").modal("hide")}else{$scope.errormessage=$result.message;console.log($result.code+" - "+$result.message)}})};$scope.removecartfile=function(){if(!$scope.loadingcartfiles){$scope.loadingcartfiles=true;$http({method:"GET",url:API_URL+"cartfiles/"+$scope.selectedFile.id+"/delete"}).then(function(response){$scope.selectedCart.cartfile=response.data;$scope.loadingcartfiles=false;$("#changeFileModal").modal("hide")},function(error){$scope.loadingcartfiles=false})}}}])}},{}],102:[function(require,module,exports){module.exports=function(app){app.controller("SalesCommitController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.initData=function($datas){$scope.salesdetail=JSON.parse($datas);console.log($scope.salesdetail);$scope.salesdetail.created_at=$scope.makeDateTime($scope.salesdetail.created_at);$scope.salesdetail.cartheader.created_at=$scope.makeDateTime($scope.salesdetail.cartheader.created_at);$.each($scope.salesdetail.cartheader.cartfile,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at);$item.file.created_at=$scope.makeDateTime($item.file.created_at)});$.each($scope.salesdetail.cartheader.cartpreview,function($index,$item){$item.waiting=false;$item.created_at=$scope.makeDateTime($item.created_at);$item.file.created_at=$scope.makeDateTime($item.file.created_at)})};$scope.acceptFile=function($item){$item.waiting=true;if($item.waiting){$http({method:"POST",url:API_URL+"commit/cartpreview/"+$item.id+"/accept"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$item.commit=1}}}if($item.commit==0){$window.location.reload()}$item.waiting=false},function(error){$window.location.reload();$item.waiting=false})}};$scope.rejectFile=function($item){$item.waiting=true;if($item.waiting){$http({method:"POST",url:API_URL+"commit/cartpreview/"+$item.id+"/reject"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$item.commit=-1}}}if($item.commit==0){$window.location.reload()}$item.waiting=false},function(error){$window.location.reload();$item.waiting=false})}};$scope.canbecommit=function(){$ready=true;$.each($scope.salesdetail.cartheader.cartpreview,function($index,$item){if($item.commit!=1)$ready=false});return $ready};$scope.commit=function(){$scope.commitloading=true;if($scope.commitloading){$http({method:"POST",url:API_URL+"commit/salesdetail/"+$scope.salesdetail.id}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$scope.salesdetail.commited=1}}}if($scope.salesdetail.commited==0){$window.location.reload()}$scope.commitloading=false},function(error){$window.location.reload();$scope.commitloading=false})}};$scope.undocommit=function(){$scope.commitloading=true;if($scope.commitloading){$http({method:"POST",url:API_URL+"commit/salesdetail/"+$scope.salesdetail.id+"/undo"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$scope.salesdetail.commited=0}}}if($scope.salesdetail.commited==1){$window.location.reload()}$scope.commitloading=false},function(error){$window.location.reload();$scope.commitloading=false})}};$scope.undoFile=function($item){$item.waiting=true;if($item.waiting){$http({method:"POST",url:API_URL+"commit/cartpreview/"+$item.id+"/undo"}).then(function(response){if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$item.commit=0}}}if($item.commit==1||$item.commit==-1){$window.location.reload()}$item.waiting=false},function(error){$window.location.reload();$item.waiting=false})}};$scope.preview=function($name,$url){$scope.filename=$name;$("#previewfile").attr("src",BASE_URL+$url);$("#previewfileModal").modal("show")}}])}},{}],103:[function(require,module,exports){module.exports=function(app){app.controller("HistoryController",["$scope","$http","API_URL",function($scope,$http,API_URL){$scope.initHeader=function($headers){$scope.headers=JSON.parse($headers);$.each($scope.headers,function($index,$item){$item.price=0;$.each($item.salesdetail,function($index,$item2){if($item2.cartheader!=null){$item2.cartheader.printprice=parseInt($item2.cartheader.printprice);$item2.cartheader.deliveryprice=parseInt($item2.cartheader.deliveryprice);$item2.cartheader.discount=parseInt($item2.cartheader.discount);$item.price+=$item2.cartheader.printprice+$item2.cartheader.deliveryprice-$item2.cartheader.discount}})})};$scope.initAllSales=function($input){$scope.sales=JSON.parse($input);$.each($scope.sales,function($index,$item){$item.created_at=$scope.makeDateTime($item.created_at)})};$scope.makeDateTime=function($input){if($input=="null")return null;$temp=$input.split(" ")[0];$temp=$temp.split("-");$temp2=$input.split(" ")[1];$temp2=$temp2.split(":");return new Date($temp[0],$temp[1]-1,$temp[2],$temp2[0],$temp2[1],$temp2[2])};$scope.zeroFill=function(number,width){width-=number.toString().length;if(width>0){return new Array(width+(/\./.test(number)?2:1)).join("0")+number}return number+""};$scope.isLunas=function($item){if($item.status=="LUNAS")return true;else return false}}])}},{}],104:[function(require,module,exports){module.exports=function(app){app.controller("AllSalesController",["$scope","$http","BASE_URL","AJAX_URL","API_URL","$window",function($scope,$http,BASE_URL,AJAX_URL,API_URL,$window){$scope.konfirmasi={newcustacc:{accno:"",accname:"",bankid:""},inputnew:true};$scope.searchbankinput="";$scope.URL="http://localhost:8000/";$scope.selectedfilter=null;$scope.filters=[{name:"Semua",icon:"fa-filter",link:"semua"},{name:"Belum Bayar",icon:"fa-wallet",link:"belumbayar"},{name:"Diproses",icon:"fa-tasks",link:"diproses"},{name:"Dikirim",icon:"fa-truck-loading",link:"dikirim"},{name:"Selesai",icon:"fa-box-check",link:"selesai"}];$scope.loadingsavecustacc=false;$scope.salesloading=false;$scope.uploadwaiting=false;$scope.errormessage="";$scope.ondeleteprocess=false;$scope.setselectedfilter=function($input,$refresh){if($scope.salesloading==false){$scope.salesloading=true;$scope.selectedfilter=$input;if($input=="")$scope.selectedfilter="semua";if($refresh){$http({method:"GET",url:AJAX_URL+"allsales/filterorder/"+$input}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){console.log("HASILNYA STRING, error")}else{$scope.sales=response.data;$scope.afterinitsales()}}else{console.log("The return value is null, not error")}}$scope.salesloading=false},function(error){console.log(error);$scope.salesloading=false})}else{$scope.salesloading=false}}};$scope.setSelectedSalesID=function($salesID){$scope.selectedSales=null;$.each($scope.sales,function($index,$item){if($item!=null){if($item.id==$salesID){$item.showdetail=true;$item.showinfo=true}$scope.selectedSales=$item}})};$scope.setSelectedAction=function($action,$actionID){if($scope.selectedSales!=null){if($action=="proof"){if($actionID!=null){$.each($scope.selectedSales.salesdetail,function($i,$ii){if($ii!=null){$found=false;$.each($ii.cartheader.cartpreview,function($j,$jj){if($jj.id==$actionID){$ii.showsubinfo=true;$(window).on("load",function(){$scope.showcartpreview($jj.file,$jj);$scope.$apply(function(){})})}})}})}}}};$scope.initAllSales=function($input){$scope.sales=JSON.parse($input);$scope.afterinitsales()};$scope.afterinitsales=function(){$.each($scope.sales,function($index,$item){if($item!=null){$scope.loadingfilter=false;$item.created_at=$scope.makeDateTime($item.created_at);$item.showpayment=false;$item.showdelivery=false;$item.showinfo=false;$item.showdetail=false;$item.totalprice=0;$.each($item.salesdetail,function($index2,$item2){$item2.cartheader.printprice=parseInt($item2.cartheader.printprice);$item2.cartheader.deliveryprice=parseInt($item2.cartheader.deliveryprice);$item2.cartheader.discount=parseInt($item2.cartheader.discount);$item2.cartheader.buyprice=parseInt($item2.cartheader.buyprice);$.each($item2.cartheader.cartdetail,function($j,$jj){$jj.jobtypelong=$jj.jobtype=="OF"?"Offset Print":$jj.jobtype=="DG"?"Digital Print":"Not Set"});if($item2.updated_at!=null)$item2.updated_at=$scope.makeDateTime($item2.updated_at+"");$item.totalprice+=$item2.cartheader.printprice+$item2.cartheader.deliveryprice-$item2.cartheader.discount;$item2.totalkirim=0;$item2.totalhargakirim=0;$.each($item2.salesdeliverydetail,function($j,$jj){$item2.totalkirim+=parseInt($jj.quantity);$item2.totalhargakirim+=parseFloat($jj.actualprice);if($jj.salesdelivery!=null){$jj.salesdelivery.created_at=$scope.makeDateTime($jj.salesdelivery.created_at);$jj.salesdelivery.arrivedtime=$scope.makeDateTime($jj.salesdelivery.arrivedtime)}})});$item.totalpay=0;$item.tungguverif=false;$.each($item.salespayment,function($index,$item2){$item.totalpay+=$item2.ammount;if($item2.salespaymentverif==null)$item.tungguverif=true});if($item.totalpay>$item.totalprice)$item.paymentdetail="LEBIH BAYAR. Kelebihan pembayaran akan ditransfer kerekening Anda keesokan hari.";else if($item.totalpay==$item.totalprice){if($item.tungguverif==true)$item.paymentdetail="Sedang menunggu proses verifikasi pembayaran. Hubungi kami u/ mempercepat.";else $item.paymentdetail="LUNAS"}else{if($item.totalpay==0)$item.paymentdetail="Belum ada pembayaran, silahkan lakukan pembayaran.";else $item.paymentdetail="Anda kurang bayar."}}else{$scope.loadingfilter=true}})};$scope.makeDateTime=function($input){if($input=="null")return null;$temp=$input.split(" ")[0];$temp=$temp.split("-");$temp2=$input.split(" ")[1];$temp2=$temp2.split(":");return new Date($temp[0],$temp[1]-1,$temp[2],$temp2[0],$temp2[1],$temp2[2])};$scope.isLunas=function($item){if($item.status=="LUNAS")return true;else return false};$scope.fillCustomerBankAccs(function(){if($scope.custaccs!=null)if($scope.custaccs.length>0){$scope.selectbanksender($scope.custaccs[0])}});$scope.selectbanksender=function(custacc){$scope.konfirmasi.custacc=custacc};$scope.fillCompanyBankAccs(function(response){$scope.compaccs=response;if($scope.compaccs!=null)if($scope.compaccs.length>0)$scope.selectbanktrf($scope.compaccs[0])});$scope.selectbanktrf=function(compacc){$scope.konfirmasi.compacc=$scope.clone(compacc)};$scope.commit=function($item){$http({method:"POST",url:AJAX_URL+"sales/"+$item.id+"/commit"}).then(function(response){if(response.data!=null){console.log(response.data);if(response.data.constructor===String){if(response.data=="success"){$item.commited=1;$item.commiterror=""}else{$item.commiterror=response.data}}else{$item.commiterror="Return not string.."}}else{$item.commiterror="Tidak ada return.."}},function(error){$item.commiterror=error.message})};$scope.linkmakepayment=function(item){$scope.showpayment(item);$scope.showpaymentconfirm(item)};$scope.hidealldetail=function(){$.each($scope.sales,function($index,$item){$item.showinfo=false;$item.showdelivery=false;$item.showpayment=false;$item.showtracking=false;$.each($item.salesdetail,function($j,$jj){$jj.showsubinfo=false});$item.showpaymentconfirm=false;$item.showpaymentinfo=false})};$scope.hideallsubpayment=function(){$.each($scope.sales,function($index,$item){$item.showpaymentconfirm=false;$item.showpaymentinfo=false})};$scope.hideallsubinfo=function(){$.each($scope.sales,function($index,$item){$.each($item.salesdetail,function($j,$jj){$jj.showsubinfo=false})})};$scope.showpreview=function($item){$scope.onpreview=true;$scope.previewfile=$item};$scope.showprogress=function($salesdetail){$scope.salesdetail=$salesdetail;$("#print-progress-modal").modal("show")};$scope.showconfirmmodal=function($salesheader){$scope.konfirmasi.paymentammount=$salesheader.totalprice-$salesheader.totalpay;$scope.konfirmasi.salesID=$salesheader.id;$scope.selectedSalesheader=$salesheader;$("#ordersales-payment-confirm").modal("show")};$scope.showselectbank=function(){$("#ordersales-customer-selectbank").on("shown.bs.modal",function(){$("#input-banksearch").focus();$("#input-banksearch").val("")});$("#ordersales-customer-selectbank").modal("show")};$scope.showselectedfile=function($file,$cart,$salesdetail){$scope.selectedFile=$file;$scope.selectedCart=$cart;$scope.selectedSalesdetail=$salesdetail;$("#changeFileModal").modal("show")};$scope.showcartpreview=function($file,$preview){$scope.selectedFile=$file;$scope.selectedCartpreview=$preview;$("#viewcartpreview-modal").modal("show")};$scope.showdelivery=function($item){$show=$item.showdelivery;$scope.hidealldetail();$item.showdelivery=true};$scope.showpayment=function($item){$show=$item.showpayment;$scope.hidealldetail();$item.showpayment=true};$scope.showdetail=function($item){$show=$item.showdetail;if(!$item.showinfo&&!$item.showdelivery&&!$item.showpayment){$item.showinfo=true}if(!$show)$item.showdetail=true;else $item.showdetail=false};$scope.showpaymentconfirm=function($item){$show=$item.showpaymentconfirm;$scope.hideallsubpayment();if(!$show)$item.showpaymentconfirm=true;else $item.showpaymentconfirm=false};$scope.showpaymentinfo=function($item){$show=$item.showpaymentinfo;$scope.hideallsubpayment();if(!$show)$item.showpaymentinfo=true;else $item.showpaymentinfo=false};$scope.showinfo=function($item){$show=$item.showinfo;$scope.hidealldetail();$item.showinfo=true};$scope.showsubinfo=function($item){$show=$item.showsubinfo;$scope.hideallsubinfo();if(!$show)$item.showsubinfo=true;else $item.showsubinfo=false};$scope.showtracking=function($item){$show=$item.showtracking;$scope.hidealldetail();if(!$show)$item.showtracking=true;else $item.showtracking=false};$scope.showfiles=function($item){$http({method:"GET",url:API_URL+"cartfiles/"+$item["cartID"]}).then(function(response){if(response!=null){$scope.selecteddetail=$item;$scope.files=response.data;$scope.onpreview=false;$.each($scope.files,function($index,$item){if($item.file.updated_at!=null)$item.file.updated_at=$scope.makeDateTime($item.file.updated_at);else $item.file.updated_at=""});$("#filesModal").modal("show")}},function(error){console.log(response)})};$scope.savecustbankacc=function(){if($scope.konfirmasi.newcustacc.bank==null){$scope.errorsavecustacc="Anda wajib pilih akun bank Anda."}else if($scope.konfirmasi.newcustacc.accname==""){$scope.errorsavecustacc="Nama Pemilik Akun wajib diisi."}else{if(!$scope.loadingsavecustacc){$scope.loadingsavecustacc=true;$http({method:"POST",url:AJAX_URL+"custbankaccs/save",data:$scope.konfirmasi.newcustacc}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="object"){$scope.custaccs=response.data[1];console.log($scope.custaccs.length+" -> "+response.data[1].length);$.each($scope.custaccs,function($index,$item){if($item.id==response.data[0]){$scope.konfirmasi.custacc=$item}});$scope.konfirmasi.newcustacc={};$scope.konfirmasi.inputnew=false}}else{console.log("The return value is null, not error")}}$scope.loadingsavecustacc=false},function(error){console.log(error);$scope.loadingsavecustacc=false})}}};$scope.deletecartfile=function($item,$index){$http({method:"GET",url:API_URL+"cartfiles/"+$item.id+"/delete"}).then(function(response){$item.ondelete=false;$scope.files.splice($index,1);$("#changeFileModal").modal("hide")},function(error){$item.ondelete=false;alert("tidak bisa delete - cartfiles")})};$scope.setdelete=function(){$scope.ondeleteprocess=true};$scope.unsetdelete=function(){$scope.ondeleteprocess=false};$scope.showupdatefile=function($item){$item.onupdate=true};$(function(){var token=$('input[name="_token"]').val();$(document).ajaxSend(function(e,xhr,options){console.log("ajax token!!!");xhr.setRequestHeader("X-CSRF-Token",token)})});$(window).ready(function(){$("#is-uploader").on("change",function(e){e.preventDefault();e.stopPropagation();if($(this)[0]["file"].files){if($(this)[0]["file"].files.length>0){$scope.upload($(this)[0]["file"].files)}}return false})});$scope.choosefileclicked=function(){$scope.stateupload="revisi";$("#btn-choose-file2").click()};$scope.upload=function(files){var data=new FormData;$scope.errormessage="";$scope.uploadwaiting=true;$scope.loadingfiles=true;$counterror=0;$scope.$apply(function(){});angular.forEach(files,function(value){$ext=value.name.substring(value.name.lastIndexOf(".")+1);if(!$scope.val_ext("upload-file",$ext)){$scope.errormessage=value.name+" : tidak bisa upload dengan file format "+$ext+".";$counterror++}else if(!$scope.val_size(value.size)){$scope.errormessage=value.name+"( "+value.size/1024/1024+" MB ): file terlalu besar.";$counterror++}else{$scope.errormessage="";data.append("files[]",value)}$scope.$apply(function(){});if($scope.errormessage!=""){console.log($scope.errormessage);try{$http({method:"GET",url:BASE_URL,data:data,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity}).then(function(response){},function(error){console.log(error)})}catch(error){}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.$apply(function(){})}else{$url="";if($scope.stateupload=="revisi"){$url=AJAX_URL+"cartfiles/"+$scope.selectedCart.id+"/revision/"+$scope.selectedFile.id}else if($scope.stateupload=="addnew"){$url=AJAX_URL+"cartfiles/"+$scope.selectedCart.id+"/upload"}console.log($url);$scope.uploadprogress("POST",data,$url,function(response){if(response!=null){console.log(response.constructor);if(response.constructor===Array){$scope.selectedCart.cartfile=[];$scope.selectedCart.cartfile=response;$.each($scope.selectedCart.cartfile,function($i,$ii){if($ii.file.id==$scope.selectedFile.id){$scope.selectedFile=$ii.file}});if($scope.stateupload=="revisi"){$scope.errormessage="file berhasil diganti.."}else if($scope.stateupload=="addnew"){$scope.errormessage="berhasil tambah file.."}}else if(response.constructor===String){$scope.errormessage=response.constructor;$scope.uploadedfiles=[]}else{$scope.errormessage="Error, tidak dapat terima data yang sudah di upload (empty).";$scope.uploadedfiles=[]}}else{$scope.errormessage="Error, tidak dapat terima data yang sudah di upload (null).";$scope.uploadedfiles=[]}$scope.loadingfiles=false;$scope.uploadwaiting=false},function(response){console.log(response);if(response.status==419){$scope.errormessage="Unknown Status: May be the Session is over, please re-login to upload"}else{$scope.errormessage=response.statusText}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.uploadsuccess=false})}})}}])}},{}],105:[function(require,module,exports){module.exports=function(app){app.controller("SalesChangefileController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.savechangeloading=false;$scope.savechangefile=function(whendone){if($scope.savechangeloading==false){$scope.errormessage="";$scope.savechangeloading=true;$http({method:"POST",url:AJAX_URL+"carts/changefile/save",data:$scope.selectedFile}).then(function(response){if(response!=null){if(response.data!=null){if(response.data.constructor===Object){$result=response.data;$scope.errormessage=$result.message;console.log($result.code+" - "+$result.message);$scope.savechangeloading=false}else{$scope.errormessage="Error message cannot be displayed."}}else{$scope.errormessage="Error message cannot be displayed."}}$scope.savechangeloading=false;if(whendone instanceof Function)whendone(response.data)},function(error){$scope.errormessage="Error message cannot be displayed. See Console for further message.";console.log(error);$scope.savechangeloading=false;whendone(null)})}};$scope.removecartfile=function(){if(!$scope.loadingcartfiles){$scope.loadingcartfiles=true;$http({method:"GET",url:API_URL+"cartfiles/"+$scope.selectedFile.id+"/delete"}).then(function(response){$scope.selectedCart.cartfile=response.data;$scope.loadingcartfiles=false;$("#changeFileModal").modal("hide")},function(error){$scope.loadingcartfiles=false})}}}])}},{}],106:[function(require,module,exports){module.exports=function(app){app.controller("OrdersalesPaymentconfirmController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.doconfirm=function(){$http({method:"POST",url:AJAX_URL+"salespayment/insert",data:$scope.konfirmasi}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="object"){$scope.selectedSalesheader.salespayment=response.data;$scope.selectedSalesheader.totalpay=0;$.each($scope.selectedSalesheader.salespayment,function($index,$item){$scope.selectedSalesheader.totalpay+=$item.ammount});if($scope.selectedSalesheader.totalpay>$scope.selectedSalesheader.totalprice)$scope.selectedSalesheader.paymentdetail="LEBIH BAYAR. Kelebihan pembayaran akan ditransfer kerekening Anda keesokan hari.";else if($scope.selectedSalesheader.totalpay==$scope.selectedSalesheader.totalprice){if($scope.selectedSalesheader.tungguverif==true)$scope.selectedSalesheader.paymentdetail="Sedang menunggu proses verifikasi pembayaran. Hubungi kami u/ mempercepat.";else $scope.selectedSalesheader.paymentdetail="LUNAS"}else{if($scope.selectedSalesheader.totalpay==0)$scope.selectedSalesheader.paymentdetail="Belum ada pembayaran, silahkan lakukan pembayaran.";else $scope.selectedSalesheader.paymentdetail="Anda kurang bayar."}$scope.afterpayment()}}else{console.log("tidak berhasil save ke db")}}},function(error){console.log(error)})};$scope.afterpayment=function(){$("#ordersales-payment-confirm").modal("hide");$scope.showpaymentinfo($scope.selectedSalesheader);var maxTime=5e3,startTime=Date.now();var interval=setInterval(function(){if($("#payment-detail-"+$scope.selectedSalesheader.id).is(":visible")){$scope.scrollTo("#payment-detail-"+$scope.selectedSalesheader.id,-10);clearInterval(interval)}else{if(Date.now()-startTime>maxTime){clearInterval(interval)}}},100)}}])}},{}],107:[function(require,module,exports){module.exports=function(app){app.controller("OrdersalesSelectbankController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){var a="BANK INDONESIA";var b="AAA";console.log(a.findInside(b));$scope.banks=[];$scope.searchbankinput="";$scope.fillbanks=function(whendone){$http({method:"GET",url:API_URL+"banks"}).then(function(response){if(response.data!=null){if(response.data.length>0){$scope.banks=response.data;if(whendone instanceof Function){whendone()}}}else{console.log("Null return when calling banks - order.sales.modal.cust-selectbank")}},function(error){console.log("Error when calling banks - order.sales.modal.cust-selectbank")})};$scope.searchbank=function(){if($scope.searchbankinput==""){$.each($scope.banks,function($index,$item){$item.show=true})}else{$.each($scope.banks,function($index,$item){if($item.alias.toLowerCase().findInside($scope.searchbankinput.toLowerCase())||$item.bankname.toLowerCase().findInside($scope.searchbankinput.toLowerCase())){$item.show=true}else{$item.show=false}})}};$scope.fillbanks(function(){$scope.searchbank()});$scope.setcustbankconf=function($bank){$scope.konfirmasi.newcustacc.bank=$scope.clone($bank);$("#ordersales-customer-selectbank").modal("hide")}}])}},{}],108:[function(require,module,exports){module.exports=function(app){app.controller("SalesShowpreviewController",["$scope","$http","API_URL","AJAX_URL","BASE_URL","$cookies","$window",function($scope,$http,API_URL,AJAX_URL,BASE_URL,$cookies,$window){$scope.commitpreview=function(){$http({method:"POST",url:AJAX_URL+""}).then(function(response){if(response.data!=null){if(response.data.constructor===String){}}})}}])}},{}],109:[function(require,module,exports){module.exports=function(app){app.controller("OrderShopCalculationController",["$timeout","$scope","$http","AJAX_URL","API_URL","BASE_URL","$window",function($timeout,$scope,$http,AJAX_URL,API_URL,BASE_URL,$window){$scope.selected={paper:0,size:0,printtype:"DG",sideprint:1,processtime:"std",reseller:"std",perbungkus:"1000",imagewidth:"21",imagelength:"29.7",jobsubtypeID:-1,jobtitle:"",customernote:"",itemdescription:"",customernote:"",resellerphone:"",resellername:"",reselleraddress:"",files:[],finishings:[],deliveryaddress:""};$scope.newaddress={name:"",note:"",location:"",city:[]};$scope.selectedTab="";$scope.texttoread="";$scope.textcombination="";$finishchanging=false;$scope.counter=0;$scope.underconstruction=false;$scope.uploadwaiting=false;$scope.uploadsuccess=false;$scope.customsize=false;$scope.result={total:{price:0,deliv:0,stdest:"-",expest:"-",weight:0}};$scope.userid=null;$scope.role=null;$scope.uploadedfiles=[];$scope.error={files:"",savecart:"",savecartval:"",savebtnval:"",description:"",upload:""};$scope.total=[];$scope.uploadmaxfilesize=26214400;$scope.newfiledetail="";$scope.setInputFilter=function(textbox,inputFilter){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(event){textbox.oldValue="";textbox.addEventListener(event,function(){if(inputFilter(this.value)){this.oldValue=this.value;this.oldSelectionStart=this.selectionStart;this.oldSelectionEnd=this.selectionEnd}else if(this.hasOwnProperty("oldValue")){this.value=this.oldValue;this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)}})})};$scope.setInputFilter(document.getElementById("quantity"),function(value){return/^\d*$/.test(value)});$scope.setInputFilter(document.getElementById("customwidth"),function(value){return/^\d*\.?\d*$/.test(value)});$scope.setInputFilter(document.getElementById("customlength"),function(value){return/^\d*\.?\d*$/.test(value)});$(document).ready(function(){$scope.selectTab("calculation");var url=document.location.toString();if(url.match("#")){var temp=url.split("#")[2];if(temp=="calculation"||temp=="description"||temp=="file"){$scope.selectTab(temp)}}});$scope.selectTab=function($tab){if($scope.selected.cartID!=null&&$tab=="file"){$scope.selectedTab="calculation"}else{$scope.selectedTab=$tab}};$scope.setUserLogin=function($role,$userid){if($userid!=null){$scope.userid=$userid}if($role==null){$scope.role=null;$scope.restrictNotLogined()}else if($role==""){$scope.role=null;$scope.restrictNotLogined()}else if($role!="customer"){$scope.role="employee";$scope.restrictNotCustomer()}else{$scope.role="customer";$scope.allowed()}};$scope.checkIfMin=function($input,$min){if($input==null)return 0;else if($input=="")return $min;else if($input<$min)return $min;else return $input;$scope.getPrice()};$scope.setSelectedByURL=function($input){$tmps=JSON.parse($input);$finclone=$scope.clone($scope.selected.finishings);$scope.selected=Object.assign($scope.selected,$tmps);$scope.datas=$scope.splitMaster($scope.master,$scope.selected.printtype);$scope.setFinishingRole();$scope.selected.finishings=$tmps.finishings;$.each($scope.datas.jobsubtypesize,function($i,$ii){if($ii.size.id==$scope.selected.sizeID){$scope.selected.size=$ii.size}});$.each($scope.datas.jobsubtypepaper,function($i,$ii){if($ii.paper.id==$scope.selected.paperID){$scope.selected.paper=$ii.paper}});$.each($scope.datas.jobsubtypefinishing,function($i,$ii){$tidakadadiurl=true;$.each($scope.selected.finishings,function($s,$ss){if($ss.finishingID==$ii.finishing.id){$tidakadadiurl=false;$tidakadasama=true;$.each($ii.finishing.finishingoption,function($j,$jj){if($jj.id==$ss.optionID){$scope.selected.finishings[$s]=$scope.clone($jj);$tidakadasama=false}});if($tidakadasama==true){$scope.selected.finishings[$s]=$scope.clone($finclone[$s])}}});if($tidakadadiurl==true){$scope.selected.finishings[$i]=$scope.clone($finclone[$i])}});$dlvfound=false;$.each($scope.deliveries,function($i,$ii){if($ii.id==$scope.selected.deliveryID){$scope.selected.delivery=$ii;$dlvfound=true;if($ii.id!=0){$scope.fillCities()}}});if($dlvfound){$.each($scope.customeraddresses,function($i,$ii){if($ii.addressID==$scope.selected.deliveryaddressID){if($ii.id!=0)$scope.selected.deliveryaddress=$ii;else{$scope.selected.deliveryaddress=""}}})}else{$scope.selected.deliveryaddress=""}if($scope.customeraddresses!=null){if($scope.selected.deliveryaddress==""){if($scope.customeraddresses.length>0){$scope.selected.deliveryaddress=$scope.customeraddresses[0]}}}$("#file-headtab").parent().hide();$scope.getPrice()};$scope.sendUrl=function(){window.open("https://api.whatsapp.com/send?text=Silahkan di cek di%0A%0A"+encodeURIComponent($scope.getCurrentURL()),"_blank")};$scope.getCurrentURL=function(){$tmps=$scope.clone($scope.selected);$tmpfl=[];$.each($tmps.files,function($i,$ii){$temp={fileID:$ii.id};$tmpfl.push($temp)});delete $tmps.files;$tmps.files=$tmpfl;$tmpsf=[];$.each($tmps.finishings,function($i,$ii){$temp={finishingID:$ii.finishingID,optionID:$ii.id};$tmpsf.push($temp)});delete $tmps.finishings;$tmps.finishings=$tmpsf;$tmps.deliveryaddressID=$tmps.deliveryaddress.addressID;delete $tmps.deliveryaddress;$tmps.sizeID=$tmps.size.id;delete $tmps.size;$tmps.deliveryID=$tmps.delivery.id;delete $tmps.delivery;$tmps.paperID=$tmps.paper.id;delete $tmps.paper;$link=$tmps.jobsubtypelink;delete $tmps.jobsubtypelink;if($tmps.resellername==""){delete $tmps.resellername;delete $tmps.resellerphone;delete $tmps.reselleraddress}$addurl=JSON.stringify($tmps);$base=BASE_URL=="/jakartabrosur/public/"?"localhost"+BASE_URL:"www.jakartabrosur.com/";$addurl=$base+"shop/"+$link+"?ss="+$addurl;$scope.copyToClipboard($addurl);return $addurl};$scope.restrictNotLogined=function(){$scope.error.message="Anda harus login untuk upload file!"};$scope.restrictNotCustomer=function(){$scope.error.message="Login Sebagai Customer Untuk Pesan!"};$scope.allowed=function(){$scope.error.message=""};$scope.changeDetailName=function($datas){$datas.jobsubtypedetail=[];$.each($datas.jobsubtypedetail,function($index,$item){$datas.jobsubtypedetail[$index]=$scope.changeFinishingDetailName($item);$datas.jobsubtypedetail[$index]=$scope.changePaperDetailName($item)});delete $datas.jobsubtypedetail;return $datas};$scope.changeFinishingDetailName=function($detail){$detail.jobsubtypedetailfinishing=$detail.jobsubtypedetailfinishingshop;delete $detail.jobsubtypedetailfinishingshop;$.each($detail.jobsubtypedetailfinishing,function($index,$item){$detail.jobsubtypedetailfinishing[$index].finishing=$item.finishingshop;delete $item.finishingshop;$detail.jobsubtypedetailfinishing[$index].finishing.finishingoption=$detail.jobsubtypedetailfinishing[$index].finishing.finishingoptionshop;delete $detail.jobsubtypedetailfinishing[$index].finishing.finishingoptionshop});return $detail};$scope.changePaperDetailName=function($detail){$detail.jobsubtypedetailpaper=$detail.jobsubtypedetailpapershop;delete $detail.jobsubtypedetailpapershop;$.each($detail.jobsubtypedetailpaper,function($index,$item){$detail.jobsubtypedetailpaper[$index].paper=$item.papershop;delete $item.papershop;$detail.jobsubtypedetailpaper[$index].paper.paperoption=$detail.jobsubtypedetailpaper[$index].paper.paperoptionshop;delete $detail.jobsubtypedetailpaper[$index].paper.paperoptionshop});return $detail};$scope.changeFinishingName=function($datas){$datas.jobsubtypefinishing=$datas.jobsubtypefinishingshop;delete $datas.jobsubtypefinishingshop;$.each($datas.jobsubtypefinishing,function($index,$item){$datas.jobsubtypefinishing[$index].finishing=$item.finishingshop;delete $item.finishingshop;$datas.jobsubtypefinishing[$index].finishing.finishingoption=$datas.jobsubtypefinishing[$index].finishing.finishingoptionshop;delete $datas.jobsubtypefinishing[$index].finishing.finishingoptionshop});return $datas};$scope.changePaperName=function($datas){$datas.jobsubtypepaper=$datas.jobsubtypepapershop;delete $datas.jobsubtypepapershop;$.each($datas.jobsubtypepaper,function($index,$item){$datas.jobsubtypepaper[$index].paper=$item.papershop;delete $item.papershop});return $datas};$scope.deleteUnused=function(){delete $scope.selected.imagewidth;delete $scope.selected.imagelength;delete $scope.datas.active};$scope.addtambahbaruaddress=function(){$scope.customeraddresses.push({id:"0",address:{name:"Add address",address:"Tambah alamat baru.."}})};$scope.setData=function($datas){if($datas.user!=null){$scope.customeraddresses=[];if($datas.user.customeraddress.length>0){$scope.customeraddresses=$datas.user.customeraddress;$scope.selected.deliveryaddress=$scope.customeraddresses[$scope.customeraddresses.length-1]}else{$scope.selected.deliveryaddress=""}$scope.addtambahbaruaddress();$scope.getMaxFilesize();$scope.refreshUploadedImage()}$.each($datas.jobsubtypepaper,function($i,$jobpaper){if($jobpaper.paper.paperdetail.length==0){console.log("#"+$jobpaper.id+" "+$jobpaper.paper.name+", was deleted");delete $datas.jobsubtypepaper[$i]}});$datas.jobsubtypepaper=$scope.filteremptyindex($datas.jobsubtypepaper);$.each($datas.jobsubtypesize,function($index,$item){$datas.jobsubtypesize[$index].size.width=parseFloat($item.size.width);$datas.jobsubtypesize[$index].size.length=parseFloat($item.size.length)});if($datas.digitaloffset==0||$datas.digitaloffset==1)$scope.selected.printtype="OF";else if($datas.digitaloffset==2)$scope.selected.printtype="DG";if($datas.jobsubtypedetailshop!=null){$datas=$scope.changeDetailName($datas)}$scope.setselecteddata($datas);$scope.refreshOfDg();$scope.checkStandardSize();$scope.deleteUnused()};$scope.setFinishingData=function($datas){$.each($datas.jobsubtypefinishing,function($index,$item){$item=$scope.setFinishingZeroIndex($item,$item.finishing.name,$item.id);$.each($item.finishing.finishingoption,function($j,$jj){$jj.finishingname=$item.finishing.name})});$scope.selectFinishingZeroIndex($datas.jobsubtypefinishing);return $scope.clone($datas.jobsubtypefinishing)};$scope.setFinishingZeroIndex=function($item,$name,$id){var zero={id:0,optionname:"Tanpa "+$name,processdays:0,info:"Tanpa "+$name,finishingID:$id};$item.finishing.finishingoption.splice(0,0,zero);return $item};$scope.selectFinishingZeroIndex=function($jobsubtypefinishings){$.each($jobsubtypefinishings,function($index,$item){if($item.finishing.finishingoption[0].id=="0"){$scope.selected.finishings[$index]=$item.finishing.finishingoption[0]}$.each($item.finishing.finishingoption,function($j,$jj){if($jj.defaultoption==true){$scope.selected.finishings[$index]=$item.finishing.finishingoption[$j];$scope.finishingchanged($item.finishing.name,$scope.selected.finishings[$index])}})})};$scope.ofdgRemove=function($items,$key){for($i=$items.length-1;$i>=0;$i--){if($items[$i].ofdg==$key){$items.splice($i,1)}}return $items};$scope.removeDetail=function($index){$scope.datas.jobsubtypedetail.splice($index,1);$scope.selected.jobsubtypedetail.splice($index,1)};$scope.addNewDetail=function(){$i=$scope.selected.jobsubtypedetail.length-1+1;$obj=$scope.blankjobsubtypedetailselect;$detail=$scope.clone($scope.blankjobsubtypedetail);if($scope.selected.printtype=="OF"){$detail.jobsubtypedetailpaper=$scope.ofdgRemove($detail.jobsubtypedetailpaper,2)}else if($scope.selected.printtype=="DG"){$detail.jobsubtypedetailpaper=$scope.ofdgRemove($detail.jobsubtypedetailpaper,1)}$scope.datas.jobsubtypedetail.push($detail);if($detail.jobsubtypedetailpaper.length>0)$obj.paper=$detail.jobsubtypedetailpaper[0].paper;$obj.finishing=[];$.each($detail.jobsubtypedetailfinishing,function($j,$jj){$jj=$scope.setFinishingZeroIndex($jj,$jj.finishing.name,$jj.id);$obj.finishing[$j]=$jj.finishing.finishingoption[0]});$scope.selected.jobsubtypedetail.push($obj)};$scope.splitMaster=function($datas,$type){$result=null;$result=$scope.clone($datas);if($result.jobsubtypedetail!=null){$scope.selected.jobsubtypedetail=[];$.each($result.jobsubtypedetail,function($i,$ii){$obj=new Object;$obj.detailname=$ii.detailname;$obj.multip=$ii.defaultmultip;$obj.disabled=$ii.lockdetailmultip==1?true:false;$obj.max=$ii.maxmultip;$obj.min=$ii.minmultip;$obj.step=$ii.stepmultip;$obj.sideprint=$ii.sideprint==2?"2":"1";if($obj.detailname.length>0)$obj.temporary=false;else $obj.temporary=true;if($obj.detailname.length>0){if($type=="OF"){$result.jobsubtypedetail[$i].jobsubtypedetailpaper=$scope.ofdgRemove($ii.jobsubtypedetailpaper,2);$result.jobsubtypedetail[$i].jobsubtypedetailfinishing=$scope.ofdgRemove($ii.jobsubtypedetailfinishing,2)}else if($type=="DG"){$result.jobsubtypedetail[$i].jobsubtypedetailpaper=$scope.ofdgRemove($ii.jobsubtypedetailpaper,1);$result.jobsubtypedetail[$i].jobsubtypedetailfinishing=$scope.ofdgRemove($ii.jobsubtypedetailfinishing,1)}if($ii.jobsubtypedetailpaper.length>0)$obj.paper=$ii.jobsubtypedetailpaper[0].paper;$obj.finishing=[];$.each($ii.jobsubtypedetailfinishing,function($j,$jj){$jj=$scope.setFinishingZeroIndex($jj,$jj.finishing.name,$jj.id);$obj.finishing[$j]=$jj.finishing.finishingoption[0]});$scope.selected.jobsubtypedetail.push($obj)}else{$scope.blankjobsubtypedetailselect=$obj;$scope.blankjobsubtypedetail=$scope.clone($ii);delete $result.jobsubtypedetail.splice($i,1)}})}else{if($scope.selected.jobsubtypedetail!=null)delete $scope.selected.jobsubtypedetail}if($type=="OF"){$result.minqty=parseInt($result.minoffset);$result.maxqty=parseInt($result.maxoffset);$result.stepqty=parseInt($result.stepoffset);$result.defaultqty=parseInt($result.defaultoffset);$result.jobsubtypequantity=$scope.ofdgRemove($result.jobsubtypequantity,2);$result.jobsubtypefinishing=$scope.ofdgRemove($result.jobsubtypefinishing,2);$result.jobsubtypepaper=$scope.ofdgRemove($result.jobsubtypepaper,2);$result.jobsubtypesize=$scope.ofdgRemove($result.jobsubtypesize,2);$result.jobsubtypetemplate=$scope.ofdgRemove($result.jobsubtypetemplate,2);$scope.selected.printerID=$result.printeroffset.id}else if($type=="DG"){$result.minqty=parseInt($result.mindigital);$result.maxqty=parseInt($result.maxdigital);$result.stepqty=parseInt($result.stepdigital);$result.defaultqty=parseInt($result.defaultdigital);$result.jobsubtypequantity=$scope.ofdgRemove($result.jobsubtypequantity,1);$result.jobsubtypefinishing=$scope.ofdgRemove($result.jobsubtypefinishing,1);$result.jobsubtypepaper=$scope.ofdgRemove($result.jobsubtypepaper,1);$result.jobsubtypesize=$scope.ofdgRemove($result.jobsubtypesize,1);$result.jobsubtypetemplate=$scope.ofdgRemove($result.jobsubtypetemplate,1);$scope.selected.printerID=$result.printerdigital.id}$.each($result.sizes,function($index,$item){$item.imagewidth=parseFloat($item.imagewidth);$item.imagelength=parseFloat($item.imagelength)});return $result};$scope.setFinishingRole=function(){if($scope.selected.finishings!=null)if($scope.selected.finishings.length>0)$scope.selected.finishings=[];$scope.finishings=$scope.setFinishingData($scope.datas);$.each($scope.finishings,function($index,$item){$.each($item.finishing.finishingoption,function($index2,$item2){$scope.datas.jobsubtypefinishing[$index].finishing.finishingoption[$index2].disabled=false})});$.each($scope.datas.jobsubtypefinishing,function($i,$ii){if($ii.mustdo){$ii.finishing.finishingoption[0].disabled=true;if($scope.selected.finishings[$i].id==0){$scope.selected.finishings[$i]=$scope.finishings[$i].finishing.finishingoption[1];$scope.finishingchanged($scope.finishings[$i].finishing.name,$scope.selected.finishings[$i])}}})};$scope.refreshOfDg=function(){$finishchanging=false;$scope.datas=$scope.splitMaster($scope.master,$scope.selected.printtype);if($scope.datas.jobsubtypepaper!=null)if($scope.datas.jobsubtypepaper.length>0)$scope.selected.paper=$scope.datas.jobsubtypepaper[0].paper;$scope.selected.quantity=$scope.datas.defaultqty;$scope.selected.sideprint=$scope.datas.sisicetak=="2"?"2":"1";if($scope.selected.finishings!=null)if($scope.selected.finishings.length>0)$scope.selected.finishings=[];$scope.setFinishingRole();if($scope.datas.sizetype==2){$obj=$scope.setCustomSize();if($scope.datas.id==11||$scope.datas.id==12){$obj.size.width=100;$obj.size.length=200}$scope.selected.size=$obj.size}else if($scope.datas.sizetype==0){$obj=$scope.setCustomSize();$scope.selected.size=$scope.datas.jobsubtypesize[0].size}if($scope.datas.sizetype!=2)$scope.selected.size=$scope.datas.jobsubtypesize[0].size;if($scope.selected.size!=null)$scope.sizeChanged($scope.selected.size);if($scope.selected.paper!=null)$scope.matChanged($scope.selected.paper);$finishchanging=true;$scope.getPrice()};$scope.checkStandardSize=function(){$scope.standardsize=false;$.each($scope.datas.jobsubtypesize,function($index,$item){if($item.sizeID!=0){$scope.standardsize=true}});if($scope.result.sizetype==2){$scope.standardsize=false}};$scope.setCustomSize=function(){$size=new Object;$size.id=0;$size.width=10;$size.length=15;$size.name="Custom Size";$size.shortname="Custom";if($scope.datas.jobsubtypesize.length>0){$size.width=$scope.datas.jobsubtypesize[0].size.width;$size.length=$scope.datas.jobsubtypesize[0].size.length}$obj=new Object;$obj.id=0;$obj.jobsubtypeID=$result.id;$obj.ofdg=0;$obj.sizeID=0;$obj.favourite=0;$obj.size=$size;$result.jobsubtypesize.push($obj);return $obj};$scope.increment=function($step){if(parseInt($scope.selected.quantity)+parseInt($step)<=$scope.datas["maxqty"]){$scope.selected.quantity=parseInt($scope.selected.quantity)+parseInt($step);$scope.getPrice()}};$scope.decrement=function($step){if(parseInt($scope.selected.quantity)-parseInt($step)>=$scope.datas["minqty"]){$scope.selected.quantity=parseInt($scope.selected.quantity)-parseInt($step);$scope.getPrice()}};$scope.incrementModel=function($index){if($scope.selected.jobsubtypedetail[$index].multip+$scope.selected.jobsubtypedetail[$index].step<=$scope.selected.jobsubtypedetail[$index].max){$scope.selected.jobsubtypedetail[$index].multip+=$scope.selected.jobsubtypedetail[$index].step;$scope.getPrice()}};$scope.decrementModel=function($index){if($scope.selected.jobsubtypedetail[$index].multip-$scope.selected.jobsubtypedetail[$index].step>=$scope.selected.jobsubtypedetail[$index].min){$scope.selected.jobsubtypedetail[$index].multip-=$scope.selected.jobsubtypedetail[$index].step;$scope.getPrice()}};$scope.setQty=function($qty){$maxqty=$scope.datas["maxqty"];$minqty=$scope.datas["minqty"];if($qty<=$maxqty&&$qty>=$minqty){$scope.selected.quantity=parseInt($qty);$scope.getPrice()}};$scope.setprinttype=function($printtype){if($printtype!=$scope.selected.printtype){$scope.selected.printtype=$printtype;$scope.refreshOfDg()}};$scope.getPrice=function(){if($finishchanging==true){$post=$scope.clone($scope.selected);$post.paperID=$scope.selected.paper.id;delete $post.paper;$post.deliveryID=$scope.selected.delivery.id;delete $post.delivery;delete $post.deliverylocked;delete $post.pagename;delete $post.jobsubtypelink;if(!$scope.customsize){$post.sizeID=$scope.selected.size.id;if($post.sizeID!=0)delete $post.size}else{$post.sizeID=0;$post.size=$scope.selected.size;$post.size.name="Custom Size"}$.each($post.finishings,function($i,$ii){if($ii.id==0)delete $post.finishings[$i];else{delete $ii.created_at;delete $ii.updated_at;delete $ii.info;$ii["optionID"]=$scope.selected.finishings[$i].id;delete $ii.id;delete $ii.optionname;delete $ii.processdays}});$scope.counter++;$scope.waitingprice=true;$post.counter=$scope.counter;$http({method:"POST",url:AJAX_URL+"cekharga",data:$post}).then(function(response){if(typeof response.data=="string"){if(response.data.length>999){$scope.error.savecartval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan.."}else{$scope.error.savecartval="Error: "+response.data}$scope.total.price=0;$scope.total.deliv=0;$scope.total.disc=0;$scope.total.price=0;$scope.waitingprice=false}else{$scope.total=response.data.total;$scope.key=response.data.key;$scope.texttoread=response.data.texttoread;$scope.textcombination=response.data.textcombination;if(typeof $scope.total==="undefined"){$scope.waitingprice=false}else{if($scope.isNum($scope.total.price))$scope.total.price=parseInt($scope.total.price);else $scope.total.price=0;$.each($scope.finishings,function($index,$item){if($scope.isNum($item.totalprice)){$item.totalprice=parseInt($item.totalprice);$scope.total.price+=$item.totalprice}});$scope.total.deliv=parseInt($scope.total.deliv);if($scope.total.counter==$scope.counter)$scope.waitingprice=false}$scope.checkerrorstatus()}},function(error){$scope.waitingprice=false;$scope.total.price=0;$scope.total.deliv=0;$scope.total.disc=0;$scope.total.price=0;$scope.error.savecartval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan.."})}};$scope.saveData=function(){if($scope.total.price==0)$scope.error.savebtnval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan..";else if($scope.selected.jobtitle=="")$scope.error.savebtnval="Belum ada judul cetakan!";else if($scope.selected.jobtitle.length<8)$scope.error.savebtnval="Judul Cetakan, kurang spesifik!";else if($scope.selected.cartID==null){$http({method:"POST",url:AJAX_URL+"shop/storecart",data:{selected:$scope.selected,key:$scope.key,total:$scope.total}}).then(function(response){$scope.error.savebtnval="";if(response.data!=null){if(response.data.constructor===String){if(response.data=="success")$window.location.href=BASE_URL+"cart"}}else{alert("Ada error dari server, untuk pemesanan bisa langsung WA / telp ke 0813 1551 9889")}})}else if($scope.selected.cartID!=null){$http({method:"POST",url:AJAX_URL+"shop/updatecart",data:{selected:$scope.selected,key:$scope.key,total:$scope.total}}).then(function(response){$scope.error.savebtnval="";if(response.data!=null){if(response.data.constructor===String){if(response.data=="success")$window.location.href=BASE_URL+"cart?c="+$scope.selected.cartID+"d=in"}}else{alert("Ada error dari server, untuk pemesanan bisa langsung WA / telp ke 0813 1551 9889")}})}};$scope.addresschanged=function(){if($scope.selected.deliveryaddress.id==0){$scope.newaddress.name="";$scope.newaddress.location="";$scope.newaddress.note="";if($scope.cities.length>0){$scope.newaddress.city=$scope.cities[0];$.each($scope.cities,function($index,$item){if($item.name=="Jakarta"){$scope.newaddress.city=$scope.cities[$index]}})}}};$scope.changedelivery=function(delivery){$pickupadd="----------";if(delivery.locked==1){$scope.selected.deliverylocked=true;$scope.selected.deliveryaddress=""}else{$scope.selected.deliverylocked=false;if($scope.selected.deliveryaddress!=$pickupadd){if($scope.customeraddresses.length>1)$scope.selected.deliveryaddress=$scope.customeraddresses[0];else $scope.selected.deliveryaddress="";if($scope.cities==null){$scope.fillCities()}else if($scope.cities.length>0){$scope.fillCities()}}}$scope.getPrice()};$scope.showuploadfile=function(){$scope.renewuploadmodal();$("#uploadfileModal").modal("show")};$scope.showuploadurl=function(){$scope.renewuploadmodal();$("#uploadurlModal").modal("show")};$scope.checkuploadurl=function(){return $scope.isURL($scope.uploadinputurl)||$scope.isURL("https://"+$scope.uploadinputurl)};$scope.saveuploadurl=function(){if($scope.isURL($scope.uploadinputurl)||$scope.isURL("https://"+$scope.uploadinputurl)){if($scope.uploadinputurl.indexOf("http")!=0){$scope.uploadinputurl="https://"+$scope.uploadinputurl}$scope.error.upload="";$scope.saveuploadurltodb()}else{$scope.error.upload="Your inputed URL is not valid. Please try to check and reinput the right one."}};$scope.saveuploadurltodb=function(){$http({method:"POST",url:AJAX_URL+"files/saveurl",data:{url:$scope.uploadinputurl}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$scope.error.upload="wrong response type, error in server";$scope.uploadsuccess=false}else{$scope.uploadedfiles=response.data;$scope.uploadsuccess=true}}else{$scope.error.upload="URL cannot be process, something error";$scope.uploadsuccess=false}}else{$scope.error.upload="URL cannot be process, something error";$scope.uploadsuccess=false}},function(error){console.log(error);$scope.uploadsuccess=false})};$scope.savefiledetail=function($id){if($scope.newfiledetail.length<=500){$http({method:"POST",url:AJAX_URL+"files/savedetail",data:{detail:$scope.newfiledetail,fileID:$id}}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$scope.error.upload="Error - upload detail files"}else{$scope.uploadedfiles=response.data}}else{$scope.error.upload="Error - server ga bisa cari data file"}}},function(error){$scope.error.upload="Error - passing data not successful"})}else{$scope.error.upload="Detail > 500 huruf (Prohibited)"}};$scope.showitemdescription=function(){$("#itemdescriptionModal").modal("show")};$scope.setselecteddata=function($datas){$scope.master=$datas;$scope.selected.jobsubtypeID=$datas.id;$scope.selected.jobsubtypelink=$datas.link;$scope.selected.pagename=$datas.name;$scope.selected.satuan=$datas.satuan;$scope.deliveries=$datas.deliveries;$scope.setdelivery0()};$scope.setdelivery0=function(){$scope.selected.delivery=$scope.deliveries[0];$scope.changedelivery($scope.deliveries[0])};$scope.showsavedialog=function(){if($scope.role=="customer"){$scope.getPrice();$scope.setFinishingName();if($scope.checkerrorstatus())$("#savedialogModal").modal("show")}else{$scope.showAlertOK("Anda harus login untuk melakukan pemesanan","You need to Log-IN to order..",true)}};$scope.checkerrorstatus=function(){if($scope.role=="customer"){if($scope.total.price==0)$scope.error.savecartval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan..";else if($scope.selected.jobtitle=="")$scope.error.savecartval="Belum ada judul cetakan!";else if($scope.selected.jobtitle.length<8)$scope.error.savecartval="Judul Cetakan, kurang spesifik!";else if($scope.selected.deliveryaddress.length<10&&!$scope.selected.deliverylocked)$scope.error.savecartval="Buat alamat pengiriman yang lengkap";else{$scope.error.savecartval="";return true}}else{$scope.error.savecartval="Anda harus LOG-IN untuk pesan"}return false};$scope.showeasyaccess=function(){$("#easyaccess").modal("show")};$scope.sizeChanged=function($item){if($item.id!=0){if($item.id==16){$scope.finOnly("standing banner","60x160")}else if($item.id==17){$scope.finOnly("standing banner","80x180")}else if($item.id==18){$scope.finOnly("standing banner","85x200")}$scope.selected.size=$item;$scope.getPrice()}else{$scope.customsize=true;$scope.selected.size=$item}};$scope.showSize=function($id,$name,$width,$length){if($id!=0)return $name+" [ "+$width+" x "+$length+" cm ]";else return $name};$scope.changeToIntSize=function(){$scope.customsize=false;$scope.selected.size=$scope.datas.jobsubtypesize[0].size};$scope.matChanged=function($item,$finishingfield){if($item.papertypeID==1||$item.papertypeID==2){if($item.gramature<150)$scope.finStat("laminasi",false,$finishingfield);else $scope.finStat("laminasi",true,$finishingfield);if($item.gramature<120)$scope.finStat("varnish",false,$finishingfield);else $scope.finStat("varnish",true,$finishingfield)}else if($item.papertypeID==9){if($item.paperID==28)$scope.finStat("laminasi",true,$finishingfield);else $scope.finStat("laminasi",false,$finishingfield)}else if($item.papertypeID==7){$scope.finStat("laminasi",false,$finishingfield)}else if($item.papertypeID==10){$scope.selected.sideprint="1"}else{$scope.finStat("laminasi",false,$finishingfield);$scope.finStat("varnish",false,$finishingfield)}if($item.gramature>170)$scope.finStat("lipat",false,$finishingfield);else $scope.finStat("lipat",true,$finishingfield);if($item.gramature<80)$scope.finStat("perforasi",false,$finishingfield);else $scope.finStat("perforasi",true,$finishingfield);if($scope.selected.paper.bothsideprint==2){$scope.datas.sisicetak=2;$scope.selected.sideprint="2";$scope.materialvariable="Akan dicetak pada kedua sisi / bolak balik."}else if($scope.selected.paper.bothsideprint==1){$scope.datas.sisicetak=1;$scope.selected.sideprint="1";$scope.materialvariable="Bahan ini hanya dapat dicetak pada 1 sisi."}else if($scope.selected.paper.bothsideprint==0){$scope.datas.sisicetak=0;$scope.materialvariable=""}$scope.getPrice()};$scope.showMaterialName=function($name,$gramature){if($gramature!=0)$result=$name+" "+$gramature+" gsm";else $result=$name;return $result};$scope.finishingchanged=function($name,$selected,$finishingfield=null){if($name=="Laminasi"){if($selected.id>0)$scope.finSelect("varnish",0,$finishingfield);if($selected.optionname.toLowerCase().indexOf("matte")!=-1)$scope.finStat("spot varnish",true,$finishingfield);else if($selected.optionname.toLowerCase().indexOf("gloss")!=-1)$scope.finStat("spot varnish",false,$finishingfield)}else if($name=="Varnish"){if($selected.id>0){$scope.finStat("spot varnish",false,$finishingfield);$scope.finSelect("laminasi",0,$finishingfield)}else $scope.finStat("spot varnish",true,$finishingfield)}else if($name=="Cutting"){if($selected.optionname.toLowerCase().indexOf("die cut")!=-1){$selected.warningmessage="Untuk potongan Die Cut, harap cantumkan keterangan potong pada file. Harga diatas (belum fix) akan disesuaikan setelah data kami terima, dan akan diberitahukan melalui telepon."}}else if($name=="Standing"){if($selected.optionname.toLowerCase().indexOf("x banner")!=-1){$selected.warningmessage="Agar lebih kuat, silahkan buat design dengan ukuran 60x155 cm, agar kokoh pada tiang penyangga."}}$scope.getPrice()};$scope.selectFinIndex=function($text,$finishingfield){$index=-1;$.each($finishingfield,function($i,$item){if($item.finishing.name.toLowerCase()==$text){$index=$i}});return $index};$scope.finSelect=function($text,$select,$finishingfield){$index=$scope.selectFinIndex($text,$finishingfield);if($index==-1)return 0;if($scope.finishings[$index].finishing.finishingoption.length>$select){if($select>=0){$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[$select]}}};$scope.finOnly=function($text,$keyoptions,$finishingfield){$index=$scope.selectFinIndex($text,$finishingfield);if($index==-1)return 0;for($i=1;$i<$scope.finishings[$index].finishing.finishingoption.length;$i++){if($scope.finishings[$index].finishing.finishingoption[$i].optionname.indexOf($keyoptions)!=-1)$scope.finishings[$index].finishing.finishingoption[$i].disabled=false;else $scope.finishings[$index].finishing.finishingoption[$i].disabled=true}for($i=1;$i<$scope.finishings[$index].finishing.finishingoption.length;$i++){if(!$scope.finishings[$index].finishing.finishingoption[$i].disabled){$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[$i]}}};$scope.finStat=function($text,$enable,$finishingfield){$index=$scope.selectFinIndex($text,$finishingfield);if($index==-1)return 0;if($scope.finishings[$index].finishing.finishingoption.length>1)for($i=1;$i<$scope.finishings[$index].finishing.finishingoption.length;$i++){if($scope.finishings[$index].finishing.finishingoption[$i].optionID==$scope.selected.finishings[$index].optionID)$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[0];$scope.finishings[$index].finishing.finishingoption[$i].disabled=!$enable}};$scope.finStat0=function($text,$enable,$finishingfield){$index=$scope.selectFinIndex($text,$finishingfield);if($index==-1)return 0;else{if($scope.finishings[$index].finishing.finishingoption.length>1){$scope.finishings[$index].finishing.finishingoption[0].disabled=!$enable;$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[1]}}};$scope.setFinishingName=function($id){$.each($scope.finishings,function($i,$ii){$.each($scope.selected.finishings,function($j,$jj){if($ii.id==$jj.finishingID&&$jj!=0){$jj.finishingname=$ii.finishing.name}})})};$scope.addnewaddress=function($custid){console.log($custid);if(!$scope.waitingaddnewadds){$scope.waitingaddnewadds=true;$scope.errornewaddress=false;if($custid!=null){$http({method:"POST",url:AJAX_URL+"custadds/store/"+$custid,data:$scope.newaddress}).then(function(response){if(response.data!=null){if(response.data.constructor===Array){$scope.customeraddresses=response.data;$scope.selected.deliveryaddress=$scope.customeraddresses[$scope.customeraddresses.length-1];$scope.addtambahbaruaddress();$scope.errornewaddress=false}else{$scope.errornewaddress=true}}else{$scope.errornewaddress=true}$scope.waitingaddnewadds=false},function(error){$scope.errornewaddress=true;$scope.waitingaddnewadds=false})}}};$scope.removeSelectedFiles=function($file){if($scope.loadingfiles==false){$scope.loadingfiles=true;$http({method:"POST",url:API_URL+"upload/delete",data:$file["id"]}).then(function(response){if(response!=null){if(response.data.constructor===Array){$scope.uploadedfiles=response.data;if($scope.uploadedfiles.length>0)$scope.tableshow=true}else{$scope.uploadedfiles=[]}}else{$scope.tableshow=false;$scope.uploadedfiles=[]}$scope.loadingfiles=false;$scope.allowed()},function(error){if(code==403){$scope.restrictNotLogined()}})}};$scope.checkSelectedFiles=function(){$scope.selected.files=[];$.each($scope.uploadedfiles,function($index,$item){if($item.checked){$scope.selected.files.push($item)}})};$scope.refreshUploadedImage=function(){if(!$scope.loadingfiles){$scope.loadingfiles=true;$http({method:"GET",url:API_URL+"pendimg"}).then(function(response){if(response.data!=null){if(response.data.constructor===Array){$scope.uploadedfiles=response.data;if($scope.uploadedfiles.length>0){$scope.tableshow=true;$filclone=$scope.clone($scope.selected.files);$scope.selected.files=[];$.each($scope.uploadedfiles,function($i,$ii){$.each($filclone,function($s,$ss){if($ii.id==$ss.fileID){$ii.checked=true;$scope.selected.files.push($ii)}})})}$scope.allowed()}else{$scope.uploadedfiles=[]}}else{$scope.uploadedfiles=[]}$scope.loadingfiles=false},function(error){$scope.uploadedfiles=[];if(error.code==403){$scope.restrictNotLogined()}$scope.loadingfiles=false})}};$scope.showcombinations=function(){$("#combinations").modal("show")};$scope.saveTexttoread=function(){if($scope.texttoread!=null){if($scope.texttoread.length>1){if($scope.role==null){$custID=null;$empID=null}else{if($scope.role=="employee"){$custID=null;$empID=$scope.userid}else{$custID=$scope.userid;$empID=null}}$data={pricetext:$scope.texttoread,customerID:$custID,employeeID:$empID,jobsubtypeID:$scope.selected.jobsubtypeID,totalprice:$scope.total.price};$http({method:"POST",url:API_URL+"pricetext/save",data:$data}).then(function(response){if(response.data!=null){if(typeof response.data=="string"){if(response.data=="success"){$scope.savepricetextresult=response.data}}}else{alert("error saving")}})}else{console.log("Text to read length < 1")}}else{console.log("Text to read null")}};$scope.selecttemplate=function(item){$finishchanging=false;$.each($scope.datas.jobsubtypesize,function($i,$ii){if($ii.size.id==item.size.id){$ii.size.length=parseInt($ii.size.length);$ii.size.width=parseInt($ii.size.width);$scope.sizeChanged($ii.size)}});$.each($scope.datas.jobsubtypepaper,function($i,$ii){if($ii.paper.id==item.paper.id){$scope.selected.paper=$ii.paper;$scope.matChanged($ii.paper)}});$scope.selected.sideprint=item.sideprint+"";$.each($scope.datas.jobsubtypefinishing,function($i,$ii){$.each(item.jobsubtypetemplatefinishing,function($j,$jj){if($ii.finishing.id==$jj.finishingID){$scope.selected.finishings[$i]=$jj.finishingoption;$scope.finishingchanged()}})});$("#input-jobtitle").focus();$finishchanging=true;$scope.getPrice()};var upload=function(files){var data=new FormData;$scope.error.upload="";$scope.uploadwaiting=true;$scope.loadingfiles=true;$counterror=0;$scope.$apply(function(){});angular.forEach(files,function(value){$ext=value.name.substring(value.name.lastIndexOf(".")+1);if($ext!="cdr"&&$ext!="zip"&&$ext!="rar"&&$ext!="ai"&&$ext!="xls"&&$ext!="xlsx"&&$ext!="doc"&&$ext!="docx"&&$ext!="tiff"&&$ext!="tif"&&$ext!="pdf"&&$ext!="jpg"&&$ext!="jpeg"&&$ext!="psd"&&$ext!="7z"&&$ext!="txt"&&$ext!="indd"){$scope.error.upload=value.name+" : tidak bisa upload dengan file format "+$ext+".";$counterror++}else if(value.size>50*1024*1024){$scope.error.upload=value.name+" : file terlalu besar.";$counterror++}else{$scope.error.upload="";data.append("files[]",value)}if($scope.error.upload!=""){try{$http({method:"POST",url:BASE_URL,data:data,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity}).then(function(response){},function(error){console.log(error)})}catch(error){}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.refreshUploadedImage();return null}$scope.uploadpost(data)})};$(function(){var token=$('input[name="_token"]').val();$(document).ajaxSend(function(e,xhr,options){xhr.setRequestHeader("X-CSRF-Token",token)})});$scope.uploadpost=function(data){$.ajax({url:API_URL+"upload",type:"POST",data:data,cache:false,contentType:false,processData:false,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity,xhr:function(){var myXhr=$.ajaxSettings.xhr();if(myXhr.upload){myXhr.upload.addEventListener("progress",function(e){if(e.lengthComputable){$(".progress-bar").css("width",e.loaded/e.total*100+"%");var value=e.loaded/e.total*100}},false);myXhr.upload.addEventListener("loadend",function(e){$scope.filesize=e.total;$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.allowed()},false)}return myXhr}}).done(function(response){$jumlahsebelomupload=-1;if(response!=null){if(response.constructor===Array){$jumlahsebelomupload=$scope.uploadedfiles.length;$scope.uploadedfiles=[];$scope.uploadedfiles=response;if($scope.uploadedfiles.length>0)$scope.tableshow=true;if($jumlahsebelomupload<$scope.uploadedfiles.length){$scope.uploadsuccess=true;$scope.error.upload=""}else{$scope.error.upload="Tidak berhasil ditambahkan"}$scope.$apply(function(){})}else if(response.constructor===String){$scope.error.upload=response.constructor;$scope.uploadedfiles=[]}else{$scope.error.upload="Error, tidak dapat terima data yang sudah di upload (empty).";$scope.uploadedfiles=[]}}else{$scope.error.upload="Error, tidak dapat terima data yang sudah di upload (null).";$scope.uploadedfiles=[]}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.allowed();$scope.$apply(function(){})}).fail(function(response){if(response.status==419){$scope.error.upload="Session is over, please re-login to upload"}else{$scope.error.upload=response.statusText}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.uploadsuccess=false;$scope.$apply(function(){})})};$scope.renewuploadmodal=function(){$scope.refreshUploadedImage();$scope.error.upload="";$scope.uploadsuccess=false};$scope.getMaxFilesize=function(){$http({method:"GET",url:API_URL+"file/maxfilesize"}).then(function(response){if(response!=null){if(response.data!=null){if(typeof response.data=="string"){$scope.uploadmaxfilesize=response.data}}else{console.log("The return value is null, not error")}}},function(error){console.log(error)})};$scope.clearFileInput=function(id){var oldInput=document.getElementById(id);var newInput=document.createElement("input");newInput.type="file";newInput.id=oldInput.id;newInput.name=oldInput.name;newInput.className=oldInput.className;newInput.style.cssText=oldInput.style.cssText;oldInput.parentNode.replaceChild(newInput,oldInput)};$scope.descheadtabclick=function(){var body=$("html, body");var top=$("#desc-headtab").offset().top-10;body.stop().animate({scrollTop:top},500,"swing",function(){$("#desc-headtab").tab("show")})};$scope.cetakpenawaran=function(){$("#offerintext").modal("show")};$scope.calcheadtabclick=function(){var body=$("html, body");var top=$("#calc-headtab").offset().top-10;body.stop().animate({scrollTop:top},500,"swing",function(){$("#calc-headtab").tab("show")})};$scope.fileis=function(){if($scope.uploadedfiles!=null){if($scope.uploadedfiles.length>0){$ext=$scope.uploadedfiles[$scope.uploadedfiles.length-1].path.substring($scope.uploadedfiles[$scope.uploadedfiles.length-1].path.lastIndexOf(".")+1);if($ext=="zip"||$ext=="rar"){return"pdf"}}else{return"-"}}else{return""}};$scope.choosefileclicked=function(){$("#btn-choose-file").click()};$("#real-dropzonew").on("change",function(e){e.preventDefault();e.stopPropagation();if($(this)[0]["file"].files){if($(this)[0]["file"].files.length>0){upload($(this)[0]["file"].files)}}return false});$scope.showpickup=function(){$("#showpickup").modal("show")}}])}},{}],110:[function(require,module,exports){module.exports=function(app){app.controller("CreateOrderController",["$timeout","$scope","$http","API_URL","BASE_URL","$window",function($timeout,$scope,$http,API_URL,BASE_URL,$window){$scope.selected={paper:0,size:0,printtype:"DG",sideprint:1,processtime:"std",reseller:"std",perbungkus:"1000",imagewidth:"21",imagelength:"29.7",jobsubtypeID:-1,jobtitle:"Test 1 2 3 4 5 6 6 7777...",customernote:"",itemdescription:"",customernote:"",resellerphone:"",resellername:"",reselleraddress:"",files:[],finishings:[]};$finishchanging=false;$scope.counter=0;$scope.underconstruction=false;$scope.uploaderror="";$scope.uploadwaiting=false;$scope.customsize=false;$scope.result={total:{price:0,deliv:0,stdest:"-",expest:"-",weight:0}};$scope.uploadedfiles=[];$scope.error={files:"",savecart:"",savecartval:"",savebtnval:"",description:""};$scope.total=[];$scope.setUserLogin=function($role){if($role==null){$scope.restrictNotLogined()}else if($role!="customer"){$scope.restrictNotCustomer()}else{$scope.allowed()}};$scope.restrictNotLogined=function(){$scope.error.message="Anda harus login untuk upload file!"};$scope.restrictNotCustomer=function(){$scope.error.message="Login Sebagai Customer Untuk Pesan!"};$scope.allowed=function(){$scope.error.message=""};$scope.changeDetailName=function($datas){$datas.jobsubtypedetail=[];$.each($datas.jobsubtypedetailshop,function($index,$item){$datas.jobsubtypedetail[$index]=$scope.changeFinishingDetailName($item);$datas.jobsubtypedetail[$index]=$scope.changePaperDetailName($item)});delete $datas.jobsubtypedetailshop;return $datas};$scope.changeFinishingDetailName=function($detail){$detail.jobsubtypedetailfinishing=$detail.jobsubtypedetailfinishingshop;delete $detail.jobsubtypedetailfinishingshop;$.each($detail.jobsubtypedetailfinishing,function($index,$item){$detail.jobsubtypedetailfinishing[$index].finishing=$item.finishingshop;delete $item.finishingshop;$detail.jobsubtypedetailfinishing[$index].finishing.finishingoption=$detail.jobsubtypedetailfinishing[$index].finishing.finishingoptionshop;delete $detail.jobsubtypedetailfinishing[$index].finishing.finishingoptionshop});return $detail};$scope.changePaperDetailName=function($detail){$detail.jobsubtypedetailpaper=$detail.jobsubtypedetailpapershop;delete $detail.jobsubtypedetailpapershop;$.each($detail.jobsubtypedetailpaper,function($index,$item){$detail.jobsubtypedetailpaper[$index].paper=$item.papershop;delete $item.papershop;$detail.jobsubtypedetailpaper[$index].paper.paperoption=$detail.jobsubtypedetailpaper[$index].paper.paperoptionshop;delete $detail.jobsubtypedetailpaper[$index].paper.paperoptionshop});return $detail};$scope.changeFinishingName=function($datas){$datas.jobsubtypefinishing=$datas.jobsubtypefinishingshop;delete $datas.jobsubtypefinishingshop;$.each($datas.jobsubtypefinishing,function($index,$item){$datas.jobsubtypefinishing[$index].finishing=$item.finishingshop;delete $item.finishingshop;$datas.jobsubtypefinishing[$index].finishing.finishingoption=$datas.jobsubtypefinishing[$index].finishing.finishingoptionshop;delete $datas.jobsubtypefinishing[$index].finishing.finishingoptionshop});return $datas};$scope.changePaperName=function($datas){$datas.jobsubtypepaper=$datas.jobsubtypepapershop;delete $datas.jobsubtypepapershop;$.each($datas.jobsubtypepaper,function($index,$item){$datas.jobsubtypepaper[$index].paper=$item.papershop;delete $item.papershop});return $datas};$scope.deleteUnused=function(){delete $scope.selected.imagewidth;delete $scope.selected.imagelength;delete $scope.datas.active};$scope.setData=function($jobsubtypes){$scope.jobsubtypes=$jobsubtypes};$scope.getTemplate=function($link){$http({method:"GET",url:API_URL+"jobsubtype/"+$link}).then(function(response){$scope.template=response.data;console.log($scope.template)})};$scope.setFinishingData=function($datas){$.each($datas.jobsubtypefinishing,function($index,$item){$item=$scope.setFinishingZeroIndex($item,$item.finishing.name,$item.id)});$scope.selectFinishingZeroIndex($datas.jobsubtypefinishing);return $scope.clone($datas.jobsubtypefinishing)};$scope.setFinishingZeroIndex=function($item,$name,$id){var zero={id:0,optionname:"Tanpa "+$name,processdays:0,info:"Tanpa "+$name,finishingID:$id};$item.finishing.finishingoption.splice(0,0,zero);return $item};$scope.selectFinishingZeroIndex=function($jobsubtypefinishings){$.each($jobsubtypefinishings,function($index,$item){if($item.finishing.finishingoption[0].id=="0"){$scope.selected.finishings[$index]=$item.finishing.finishingoption[0]}})};$scope.ofdgRemove=function($items,$key){for($i=$items.length-1;$i>=0;$i--){if($items[$i].ofdg==$key){$items.splice($i,1)}}return $items};$scope.removeDetail=function($index){$scope.datas.jobsubtypedetail.splice($index,1);$scope.selected.jobsubtypedetail.splice($index,1)};$scope.addNewDetail=function(){$i=$scope.selected.jobsubtypedetail.length-1+1;$obj=$scope.blankjobsubtypedetailselect;$detail=$scope.clone($scope.blankjobsubtypedetail);if($scope.selected.printtype=="OF"){$detail.jobsubtypedetailpaper=$scope.ofdgRemove($detail.jobsubtypedetailpaper,2)}else if($scope.selected.printtype=="DG"){$detail.jobsubtypedetailpaper=$scope.ofdgRemove($detail.jobsubtypedetailpaper,1)}$scope.datas.jobsubtypedetail.push($detail);if($detail.jobsubtypedetailpaper.length>0)$obj.paper=$detail.jobsubtypedetailpaper[0].paper;$obj.finishing=[];$.each($detail.jobsubtypedetailfinishing,function($j,$jj){$jj=$scope.setFinishingZeroIndex($jj,$jj.finishing.name,$jj.id);$obj.finishing[$j]=$jj.finishing.finishingoption[0]});$scope.selected.jobsubtypedetail.push($obj)};$scope.splitMaster=function($datas,$type){$result=null;$result=$scope.clone($datas);if($result.jobsubtypedetail!=null){$scope.selected.jobsubtypedetail=[];$.each($result.jobsubtypedetail,function($i,$ii){$obj=new Object;$obj.detailname=$ii.detailname;$obj.multip=$ii.defaultmultip;$obj.disabled=$ii.lockdetailmultip==1?true:false;$obj.max=$ii.maxmultip;$obj.min=$ii.minmultip;$obj.step=$ii.stepmultip;$obj.sideprint=$ii.sideprint==2?"2":"1";if($obj.detailname.length>0)$obj.temporary=false;else $obj.temporary=true;if($obj.detailname.length>0){if($type=="OF"){$result.jobsubtypedetail[$i].jobsubtypedetailpaper=$scope.ofdgRemove($ii.jobsubtypedetailpaper,2);$result.jobsubtypedetail[$i].jobsubtypedetailfinishing=$scope.ofdgRemove($ii.jobsubtypedetailfinishing,2)}else if($type=="DG"){$result.jobsubtypedetail[$i].jobsubtypedetailpaper=$scope.ofdgRemove($ii.jobsubtypedetailpaper,1);$result.jobsubtypedetail[$i].jobsubtypedetailfinishing=$scope.ofdgRemove($ii.jobsubtypedetailfinishing,1)}if($ii.jobsubtypedetailpaper.length>0)$obj.paper=$ii.jobsubtypedetailpaper[0].paper;$obj.finishing=[];$.each($ii.jobsubtypedetailfinishing,function($j,$jj){$jj=$scope.setFinishingZeroIndex($jj,$jj.finishing.name,$jj.id);$obj.finishing[$j]=$jj.finishing.finishingoption[0]});$scope.selected.jobsubtypedetail.push($obj)}else{$scope.blankjobsubtypedetailselect=$obj;$scope.blankjobsubtypedetail=$scope.clone($ii);delete $result.jobsubtypedetail.splice($i,1)}})}else{if($scope.selected.jobsubtypedetail!=null)delete $scope.selected.jobsubtypedetail}if($type=="OF"){$result.minqty=parseInt($result.minoffset);$result.maxqty=parseInt($result.maxoffset);$result.stepqty=parseInt($result.stepoffset);$result.defaultqty=parseInt($result.defaultoffset);$result.jobsubtypequantity=$scope.ofdgRemove($result.jobsubtypequantity,2);$result.jobsubtypefinishing=$scope.ofdgRemove($result.jobsubtypefinishing,2);$result.jobsubtypepaper=$scope.ofdgRemove($result.jobsubtypepaper,2);$result.jobsubtypesize=$scope.ofdgRemove($result.jobsubtypesize,2);$result.jobsubtypetemplate=$scope.ofdgRemove($result.jobsubtypetemplate,2);$scope.selected.printerID=$result.printeroffset.id}else if($type=="DG"){$result.minqty=parseInt($result.mindigital);$result.maxqty=parseInt($result.maxdigital);$result.stepqty=parseInt($result.stepdigital);$result.defaultqty=parseInt($result.defaultdigital);$result.jobsubtypequantity=$scope.ofdgRemove($result.jobsubtypequantity,1);$result.jobsubtypefinishing=$scope.ofdgRemove($result.jobsubtypefinishing,1);$result.jobsubtypepaper=$scope.ofdgRemove($result.jobsubtypepaper,1);$result.jobsubtypesize=$scope.ofdgRemove($result.jobsubtypesize,1);$result.jobsubtypetemplate=$scope.ofdgRemove($result.jobsubtypetemplate,1);$scope.selected.printerID=$result.printerdigital.id}$.each($result.sizes,function($index,$item){$item.imagewidth=parseFloat($item.imagewidth);$item.imagelength=parseFloat($item.imagelength)});return $result};$scope.refreshOfDg=function(){$finishchanging=false;$scope.datas=$scope.splitMaster($scope.master,$scope.selected.printtype);if($scope.datas.jobsubtypepaper!=null)if($scope.datas.jobsubtypepaper.length>0)$scope.selected.paper=$scope.datas.jobsubtypepaper[0].paper;$scope.selected.quantity=$scope.datas.defaultqty;$scope.selected.sideprint=$scope.datas.sisicetak=="2"?"2":"1";if($scope.selected.finishings!=null)if($scope.selected.finishings.length>0)$scope.selected.finishings=[];$scope.finishings=$scope.setFinishingData($scope.datas);$.each($scope.finishings,function($index,$item){$.each($item.finishing.finishingoption,function($index2,$item2){$scope.datas.jobsubtypefinishing[$index].finishing.finishingoption[$index2].disabled=false})});if($scope.selected.jobsubtypeID==1){if($scope.selected.printtype=="OF"){$scope.finStat0("potong",false)}else if($scope.selected.printtype=="DG"){$scope.finStat0("potong",true)}}if($scope.datas.sizetype==2){$obj=$scope.setCustomSize();$scope.selected.size=$obj.size}else if($scope.datas.sizetype==0){$obj=$scope.setCustomSize();$scope.selected.size=$scope.datas.jobsubtypesize[0].size}if($scope.datas.sizetype!=2)$scope.selected.size=$scope.datas.jobsubtypesize[0].size;if($scope.selected.size!=null)$scope.sizeChanged($scope.selected.size);if($scope.selected.paper!=null)$scope.matChanged($scope.selected.paper);$scope.selectpickerrefresh($timeout);$finishchanging=true;$scope.getPrice()};$scope.checkStandardSize=function(){$scope.standardsize=false;$.each($scope.datas.jobsubtypesize,function($index,$item){if($item.sizeID!=0){$scope.standardsize=true}});if($scope.result.sizetype==2){$scope.standardsize=false}};$scope.setCustomSize=function(){$size=new Object;$size.id=0;$size.width=10;$size.length=15;$size.name="Custom Size";$size.shortname="Custom";if($scope.datas.jobsubtypesize.length>0){$size.width=$scope.datas.jobsubtypesize[0].size.width;$size.length=$scope.datas.jobsubtypesize[0].size.length}$obj=new Object;$obj.id=0;$obj.jobsubtypeID=$result.id;$obj.ofdg=0;$obj.sizeID=0;$obj.favourite=0;$obj.size=$size;$result.jobsubtypesize.push($obj);return $obj};$scope.increment=function($step){if($scope.selected.quantity+$step<=$scope.datas["maxqty"]){$scope.selected.quantity+=$step;$scope.getPrice()}};$scope.decrement=function($step){if($scope.selected.quantity-$step>=$scope.datas["minqty"]){$scope.selected.quantity-=$step;$scope.getPrice()}};$scope.incrementModel=function($index){if($scope.selected.jobsubtypedetail[$index].multip+$scope.selected.jobsubtypedetail[$index].step<=$scope.selected.jobsubtypedetail[$index].max){$scope.selected.jobsubtypedetail[$index].multip+=$scope.selected.jobsubtypedetail[$index].step;$scope.getPrice()}};$scope.decrementModel=function($index){if($scope.selected.jobsubtypedetail[$index].multip-$scope.selected.jobsubtypedetail[$index].step>=$scope.selected.jobsubtypedetail[$index].min){$scope.selected.jobsubtypedetail[$index].multip-=$scope.selected.jobsubtypedetail[$index].step;$scope.getPrice()}};$scope.setQty=function($qty){$maxqty=$scope.datas["maxqty"];$minqty=$scope.datas["minqty"];if($qty<=$maxqty&&$qty>=$minqty){$scope.selected.quantity=parseInt($qty);$scope.getPrice()}};$scope.setprinttype=function($printtype){if($printtype!=$scope.selected.printtype){$scope.selected.printtype=$printtype;$scope.refreshOfDg()}};$scope.getPrice=function(){if($finishchanging==true){$scope.counter++;$scope.waitingprice=true;$scope.selected.counter=$scope.counter;$http({method:"POST",url:API_URL+"cekharga",data:$scope.selected}).then(function(response){$scope.total=response.data.total;$scope.key=response.data.key;if(typeof $scope.total==="undefined"){$scope.waitingprice=false}else{if($scope.isNum($scope.total.price))$scope.total.price=parseInt($scope.total.price);else $scope.total.price=0;$.each($scope.finishings,function($index,$item){if($scope.isNum($item.totalprice)){$item.totalprice=parseInt($item.totalprice);$scope.total.price+=$item.totalprice}});$scope.total.deliv=parseInt($scope.total.deliv);if($scope.total.counter==$scope.counter)$scope.waitingprice=false}$scope.checkerrorstatus()},function(error){$scope.waitingprice=false;$scope.total.price=0;$scope.total.deliv=0;$scope.total.disc=0;$scope.total.price=0;$scope.error.savecartval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan.."})}};$scope.saveData=function(){if($scope.total.price==0)$scope.error.savebtnval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan..";else if($scope.selected.jobtitle=="")$scope.error.savebtnval="Belum ada judul cetakan!";else if($scope.selected.jobtitle.length<8)$scope.error.savebtnval="Judul Cetakan, kurang spesifik!";else if($scope.selected.files.length==0)$scope.error.savebtnval="File belum ada!";else{$http({method:"POST",url:API_URL+"storecartdetail",data:{selected:$scope.selected,calculation:$scope.key,total:$scope.total}}).then(function(response){$scope.error.savebtnval="";if(response.data.constructor===String){$window.location.href=BASE_URL+"cart"}})}};$scope.changedelivery=function(delivery){$pickupadd="----------";if(delivery.locked==1){$scope.selected.deliverylocked=true;$scope.selected.deliveryaddress=$pickupadd}else{$scope.selected.deliverylocked=false;if($scope.selected.deliveryaddress==$pickupadd)$scope.selected.deliveryaddress=""}$scope.getPrice()};$scope.showuploadfile=function(){$scope.refreshUploadedImage();$scope.uploaderror="";$("#uploadfileModal").modal("show")};$scope.showitemdescription=function(){$("#itemdescriptionModal").modal("show")};$scope.setdelivery0=function(){$scope.selected.delivery=$scope.deliveries[0];$scope.changedelivery($scope.deliveries[0])};$scope.showsavedialog=function(){$scope.getPrice();$scope.setFinishingName();if($scope.checkerrorstatus())$("#savedialogModal").modal("show")};$scope.checkerrorstatus=function(){if($scope.total.price==0)$scope.error.savecartval="Error - Menu '"+$scope.datas.name+"' belum bisa digunakan..";else if($scope.selected.jobtitle=="")$scope.error.savecartval="Belum ada judul cetakan!";else if($scope.selected.jobtitle.length<8)$scope.error.savecartval="Judul Cetakan, kurang spesifik!";else if($scope.selected.files.length==0)$scope.error.savecartval="File belum ada!";else if($scope.selected.deliveryaddress.length<10)$scope.error.savecartval="Buat alamat pengiriman yang lengkap";else{$scope.error.savecartval="";return true}return false};$scope.showeasyaccess=function(){$("#easyaccess").modal("show")};$scope.showdelivery=function(){$http({method:"POST",url:API_URL+"delivery"}).then(function(response){if(response!=null){if(response.data.length>0){$("#deliveryModal").modal("show");$scope.deliveries=response.data;if($scope.selected.delivery!=null){$adadioption=false;$.each($scope.deliveries,function($index,$item){if($item.id==$scope.selected.delivery.id){$adadioption=true;$scope.selected.delivery=$item}});if($adadioption==false){$scope.selected.delivery=response[0]}}}}else{$scope.selectpickerrefresh($timeout);$scope.selected.delivery=response[0]}$scope.changedelivery($scope.selected.delivery)},function(error){console.log("ERROR, GA BISA BACA DATA DARI DELIVERIES")})};$scope.sizeChanged=function($item){if($item.id!=0){if($item.id==16){$scope.finOnly("standing banner","60x160")}else if($item.id==17){$scope.finOnly("standing banner","80x180")}else if($item.id==18){$scope.finOnly("standing banner","85x200")}$scope.selected.size=$item;$scope.getPrice()}else{$scope.customsize=true;$scope.selected.size=$item}};$scope.showSize=function($id,$name,$width,$length){if($id!=0)return $name+" [ "+$width+" x "+$length+" cm ]";else return $name};$scope.changeToIntSize=function(){$scope.customsize=false;$scope.selectpickerrefresh($timeout);$scope.selected.size=$scope.datas.jobsubtypesize[0].size};$scope.matChanged=function($item){if($item.papertypeID==1||$item.papertypeID==2){if($item.gramature<150)$scope.finStat("laminasi",false);else $scope.finStat("laminasi",true);if($item.gramature<120)$scope.finStat("varnish",false);else $scope.finStat("varnish",true)}else if($item.papertypeID==9){if($item.paperID==28)$scope.finStat("laminasi",true);else $scope.finStat("laminasi",false)}else if($item.papertypeID==7){$scope.finStat("laminasi",false)}else if($item.papertypeID==10){$scope.selected.sideprint="1"}else{$scope.finStat("laminasi",false);$scope.finStat("varnish",false)}if($item.gramature>170)$scope.finStat("lipat",false);else $scope.finStat("lipat",true);if($item.gramature<80)$scope.finStat("perforasi",false);else $scope.finStat("perforasi",true);$scope.getPrice()};$scope.showMaterialName=function($name,$gramature){if($gramature!=0)$result=$name+" "+$gramature+" gsm";else $result=$name;return $result};$scope.finishingchanged=function($name,$selected){if($name=="Laminasi"){if($selected.id>0)$scope.finSelect("varnish",0);if($selected.optionname.toLowerCase().indexOf("matte")!=-1)$scope.finStat("spot varnish",true);else if($selected.optionname.toLowerCase().indexOf("gloss")!=-1)$scope.finStat("spot varnish",false)}else if($name=="Varnish"){if($selected.id>0){$scope.finStat("spot varnish",false);$scope.finSelect("laminasi",0)}else $scope.finStat("spot varnish",true)}$scope.getPrice()};$scope.selectFinIndex=function($text){$index=-1;$.each($scope.finishings,function($i,$item){if($item.finishing.name.toLowerCase()==$text){$index=$i}});return $index};$scope.finSelect=function($text,$select){$index=$scope.selectFinIndex($text);if($index==-1)return 0;if($scope.finishings[$index].finishing.finishingoption.length>$select){if($select>=0){$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[$select]}}};$scope.finOnly=function($text,$keyoptions){$index=$scope.selectFinIndex($text);if($index==-1)return 0;for($i=1;$i<$scope.finishings[$index].finishing.finishingoption.length;$i++){if($scope.finishings[$index].finishing.finishingoption[$i].optionname.indexOf($keyoptions)!=-1)$scope.finishings[$index].finishing.finishingoption[$i].disabled=false;else $scope.finishings[$index].finishing.finishingoption[$i].disabled=true}for($i=1;$i<$scope.finishings[$index].finishing.finishingoption.length;$i++){if(!$scope.finishings[$index].finishing.finishingoption[$i].disabled){$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[$i]}}};$scope.finStat=function($text,$enable){$index=$scope.selectFinIndex($text);if($index==-1)return 0;if($scope.finishings[$index].finishing.finishingoption.length>1)for($i=1;$i<$scope.finishings[$index].finishing.finishingoption.length;$i++){if($scope.finishings[$index].finishing.finishingoption[$i].optionID==$scope.selected.finishings[$index].optionID)$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[0];$scope.finishings[$index].finishing.finishingoption[$i].disabled=!$enable}};$scope.finStat0=function($text,$enable){$index=$scope.selectFinIndex($text);if($index==-1)return 0;else{if($scope.finishings[$index].finishing.finishingoption.length>1){$scope.finishings[$index].finishing.finishingoption[0].disabled=!$enable;$scope.selected.finishings[$index]=$scope.finishings[$index].finishing.finishingoption[1]}}};$scope.setFinishingName=function($id){$.each($scope.finishings,function($i,$ii){$.each($scope.selected.finishings,function($j,$jj){if($ii.id==$jj.finishingID&&$jj!=0){$jj.finishingname=$ii.finishing.name}})})};$scope.removeSelectedFiles=function($file){if($scope.loadingfiles==false){$scope.loadingfiles=true;$http({method:"POST",url:API_URL+"upload/delete",data:$file["id"]}).then(function(response){if(response!=null){if(response.data.constructor===Array){$scope.uploadedfiles=response.data;if($scope.uploadedfiles.length>0)$scope.tableshow=true}else{$scope.uploadedfiles=[]}}else{$scope.tableshow=false;$scope.uploadedfiles=[]}$scope.loadingfiles=false;$scope.allowed()},function(error){if(code==403){$scope.restrictNotLogined()}})}};$scope.addSelectedFiles=function($file){$duplicated=false;$.each($scope.selected.files,function($index,$item){if($item.id==$file.id){$duplicated=true}});if($duplicated==false)$scope.selected.files.push($file)};$scope.remSelectedFiles=function($file){$selectedindex=-1;$.each($scope.selected.files,function($index,$item){if($item.id==$file.id){$selectedindex=$index}});if($selectedindex!=-1){$scope.selected.files.splice($selectedindex,1)}};$scope.refreshUploadedImage=function(){if(!$scope.loadingfiles){$scope.loadingfiles=true;$http({method:"GET",url:API_URL+"pendimg"}).then(function(response){if(response!=null){if(response.data.constructor===Array){$scope.uploadedfiles=response.data;if($scope.uploadedfiles.length>0)$scope.tableshow=true;$scope.allowed()}else{$scope.uploadedfiles=[]}}else{$scope.uploadedfiles=[]}$scope.loadingfiles=false}).error(function(response,code){if(code==403){$scope.restrictNotLogined()}})}};$scope.selecttemplate=function(item){$finishchanging=false;$.each($scope.datas.jobsubtypesize,function($i,$ii){if($ii.size.id==item.size.id){$ii.size.length=parseInt($ii.size.length);$ii.size.width=parseInt($ii.size.width);$scope.sizeChanged($ii.size)}});$.each($scope.datas.jobsubtypepaper,function($i,$ii){if($ii.paper.id==item.paper.id){$scope.selected.paper=$ii.paper;$scope.matChanged($ii.paper)}});$scope.selected.sideprint=item.sideprint+"";$.each($scope.datas.jobsubtypefinishing,function($i,$ii){$.each(item.jobsubtypetemplatefinishing,function($j,$jj){if($ii.finishing.id==$jj.finishingID){$scope.selected.finishings[$i]=$jj.finishingoption;$scope.finishingchanged()}})});$("#input-jobtitle").focus();$finishchanging=true;$scope.getPrice()};var upload=function(files){var data=new FormData;$scope.uploaderror="";$scope.uploadwaiting=true;$scope.loadingfiles=true;angular.forEach(files,function(value){$ext=value.name.substring(value.name.lastIndexOf(".")+1);if($ext!="cdr"&&$ext!="zip"&&$ext!="rar"&&$ext!="ai"&&$ext!="xls"&&$ext!="xlsx"&&$ext!="doc"&&$ext!="docx"&&$ext!="tiff"&&$ext!="tif"&&$ext!="pdf"&&$ext!="jpg"&&$ext!="jpeg"&&$ext!="psd"&&$ext!="7z"&&$ext!="indd"){$scope.uploaderror=value.name+" : tidak bisa upload dengan file format "+$ext+"."}else if(value.size>50*1024*1024){$scope.uploaderror=value.name+" : file terlalu besar."}else{$scope.uploaderror="";data.append("files[]",value)}});$http({method:"POST",url:API_URL+"upload",data:data,withCredentials:true,headers:{"Content-Type":undefined},transformRequest:angular.identity}).then(function(response){if(response!=null){if(response.data.constructor===Array){$scope.uploadedfiles=response.data;if($scope.uploadedfiles.length>0)$scope.tableshow=true}else{$scope.uploadedfiles=[]}}else{$scope.uploadedfiles=[]}$scope.loadingfiles=false;$scope.uploadwaiting=false;$scope.allowed()}).error(function(response,code){if(code==403){$scope.restrictNotLogined()}else{$scope.error.files="Error file (error not detected), call customer service for this error"}$scope.uploadwaiting=false});$scope.clearFileInput("file")};$scope.clearFileInput=function(id){var oldInput=document.getElementById(id);var newInput=document.createElement("input");newInput.type="file";newInput.id=oldInput.id;newInput.name=oldInput.name;newInput.className=oldInput.className;newInput.style.cssText=oldInput.style.cssText;oldInput.parentNode.replaceChild(newInput,oldInput)};$("#real-dropzonew").on("change",function(e){e.preventDefault();e.stopPropagation();if($(this)[0]["file"].files){if($(this)[0]["file"].files.length>0){upload($(this)[0]["file"].files)}}return false})}])}},{}],111:[function(require,module,exports){module.exports=function(app){app.controller("OrderListCustomerController",["$scope","$http","API_URL","BASE_URL","$window",function($scope,$http,API_URL,BASE_URL,$window){$scope.initData=function($input){$scope.jobtypes=JSON.parse($input);$.each($scope.jobtypes,function($index,$item){$totalsub=0;$.each($item.jobsubtype,function($j,$jj){$totalsub++});if($totalsub==0)$item.active=false;else{$item.active=true}})};$scope.linkclicked=function($link,$active){if($active){if($link!=null){$window.location.href=BASE_URL+"shop/"+$link}}else{return false}}}])}},{}],112:[function(require,module,exports){module.exports=function(app){app.controller("RoleController",["$scope","$http","API_URL",function($scope,$http,API_URL){$scope.rolelists=[{label:"Sale",value:"sale",bool1:"Allow",bool2:"No Allow",selected:0},{label:"Purchase",value:"purchase",bool1:"Allow",bool2:"No Allow",selected:0},{label:"Delivery",value:"delivery",bool1:"Allow",bool2:"No Allow",selected:0},{label:"Work Order",value:"workorder",bool1:"Allow",bool2:"No Allow",selected:0},{label:"Customer",value:"customer",bool1:"Allow",bool2:"No Allow",selected:0},{label:"Report",value:"report",bool1:"Allow",bool2:"No Allow",selected:0}];$scope.URL="http://localhost:8000/";$scope.setFormValue=function($item){$scope.selected=$item.name;if($item.sale=="0")$scope.rolelists[0].selected=0;else $scope.rolelists[0].selected=1;if($item.purchase=="0")$scope.rolelists[1].selected=0;else $scope.rolelists[1].selected=1;if($item.delivery=="0")$scope.rolelists[2].selected=0;else $scope.rolelists[2].selected=1;if($item.workorder=="0")$scope.rolelists[3].selected=0;else $scope.rolelists[3].selected=1;if($item.customer=="0")$scope.rolelists[4].selected=0;else $scope.rolelists[4].selected=1;if($item.report=="0")$scope.rolelists[5].selected=0;else $scope.rolelists[5].selected=1;$("#btn-add").attr("hidden","hidden");$("#btn-cancel").removeAttr("hidden");$("#btn-update").removeClass("btn-secondary").addClass("btn-primary").removeAttr("disabled");$("#form-open").attr("action",$scope.URL+"roles/"+$item.id);$("#form-method").val("PUT");$("#form-id").val($item.id)};$scope.cancelUpdate=function(){$("#btn-cancel").attr("hidden","hidden");$("#btn-add").removeAttr("hidden");$("#btn-update").removeClass("btn-primary").addClass("btn-second").attr("disabled","disabled");$("#form-open").attr("action",$scope.URL+"roles");$("#form-method").val("POST")}}])}},{}],113:[function(require,module,exports){module.exports=function(app){app.controller("PaymentConfirmController",["$scope","$http","BASE_URL","API_URL","AJAX_URL","$window",function($scope,$http,BASE_URL,API_URL,AJAX_URL,$window){$scope.URL="http://localhost:8000/";$scope.selected={};$scope.initData=function($input){$scope.salesheader=JSON.parse($input);$scope.salesheader.totalprice=0;$.each($scope.salesheader.salesdetail,function($index,$item){$scope.salesheader.totalprice+=parseFloat($item.cartheader.printprice)+parseFloat($item.cartheader.deliveryprice)-parseFloat($item.cartheader.discount)});$scope.salesheader.totalpayment=0;$.each($scope.salesheader.salespayment,function($index,$item){$scope.salesheader.totalpayment+=parseFloat($item.ammount)});$dt=new Date(Date.now());$dt.setHours(0);$dt.setMinutes(0);$dt.setSeconds(0);$scope.selected.paydate=$dt;$scope.selected.totaltransfer=0;$scope.selected.compacc=1;$scope.selected.confirmnote="";$scope.selected.salesID=$scope.salesheader.id};$scope.zeroFill=function(number,width){if(number!=null){width-=number.toString().length;if(width>0){return new Array(width+(/\./.test(number)?2:1)).join("0")+number}return number+""}};$scope.searchingkey="";$scope.modal={bankID:5,accno:"",accname:"",acclocation:""};$scope.selectBank=function($id){$scope.modal.bankID=$id};$scope.searchOnBanks=function(){if($scope.searchingkey=="")$scope.searchedbanks=$scope.banks;else{$scope.searchedbanks=[];for($i=0;$i<$scope.banks.length;$i++){console.log($scope.banks[$i]["bankname"]);if($scope.isContained($scope.banks[$i]["bankname"],$scope.searchingkey)||$scope.isContained($scope.banks[$i]["alias"],$scope.searchingkey))$scope.searchedbanks.push($scope.banks[$i])}}};$scope.isContained=function($string,$key){if($string.toLowerCase().indexOf($key.toLowerCase())!=-1)return true;else return false};$scope.fillBanks=function(){$http({method:"GET",url:API_URL+"banks"}).then(function(response){$scope.banks=response.data;$scope.searchOnBanks()})};$scope.fillBanks.call();$scope.fillCustAccs=function($customerID){$http({method:"GET",url:AJAX_URL+"custaccs"}).then(function(response){$scope.custaccs=response.data;if($scope.custaccs!=null)$scope.selected.custacc=$scope.custaccs[0].id})};$scope.fillCustAccs.call();$scope.fillCompanyBankAccs.call();$scope.storeAccs=function($customerID){$http({method:"POST",url:AJAX_URL+"custaccs/store",data:$scope.modal}).then(function(response){if(response.data==null){console.log("error")}else{$scope.custaccs=response.data;if($scope.custaccs!=null)$scope.selected.custacc=$scope.custaccs[$scope.custaccs.length-1].id}})};$scope.confirmPayment=function(){$http({method:"POST",url:API_URL+"payment/confirm",data:$scope.selected}).then(function(response){$done=false;if(response.data!=null){if(response.data.constructor===String){if(response.data=="success"){$done=true}}}if($done==true)$window.location.href=BASE_URL+"sales/all"})};$scope.showNoRek=function(){$("#compaccnoModal").modal("show")}}])}},{}],114:[function(require,module,exports){module.exports=function(app){app.controller("PaymentController",["$scope","$http","API_URL","$window",function($scope,$http,API_URL,$window){$scope.URL="http://localhost:8000/";$scope.bates=new Date(2016,1,1);$scope.initSales=function($input){$scope.allsales=JSON.parse($input);$scope.allsales.created_at=$scope.makeDateTime($scope.allsales.created_at+"");$scope.allsales.estdate=$scope.makeDate($scope.allsales.estdate+"");for($i=0;$i<$scope.allsales.delivery.length;$i++){$scope.allsales.delivery[$i].arrivedtime=$scope.makeDateTime($scope.allsales.delivery[$i].arrivedtime+"");$scope.allsales.delivery[$i].updated_at=$scope.makeDateTime($scope.allsales.delivery[$i].updated_at+"")}$scope.countTotal()};$scope.countTotal=function(){$scope.totalprice=0;for($i=0;$i<$scope.allsales.details.length;$i++)$scope.totalprice+=parseFloat($scope.allsales.details[$i].totalprice);if($scope.allsales.delivery.length==1)$scope.totalprice+=parseFloat($scope.allsales.delivery[0].price)};$scope.zeroFill=function(number,width){if(number!=null){width-=number.toString().length;if(width>0){return new Array(width+(/\./.test(number)?2:1)).join("0")+number}return number+""}};$scope.makeDate=function($input){if($input==null)return null;if($input=="null")return null;$temp=$input.split(" ")[0];$temp=$temp.split("-");return new Date($temp[0],$temp[1]-1,$temp[2])};$scope.makeDateTime=function($input){if($input=="null")return null;$temp=$input.split(" ")[0];$temp=$temp.split("-");$temp2=$input.split(" ")[1];$temp2=$temp2.split(":");return new Date($temp[0],$temp[1]-1,$temp[2],$temp2[0],$temp2[1],$temp2[2])}}])}},{}],115:[function(require,module,exports){module.exports=function(app){app.controller("TrackingController",["$scope","$http","API_URL",function($scope,$http,API_URL){$scope.URL="http://localhost:8000/";$scope.cartfileShow=false;$scope.initData=function($input){$scope.carts=JSON.parse($input);for($i=0;$i<$scope.carts.length;$i++){$scope.carts[$i].process="Error!";if($scope.carts[$i].statusfile==1)$scope.carts[$i].process="File Sudah Ok!";if($scope.carts[$i].statusctp==1)$scope.carts[$i].process="Kami siap mencetak";if($scope.carts[$i].statusprint==1)$scope.carts[$i].process="Kami selesai mencetak";if($scope.carts[$i].statuspacking==1)$scope.carts[$i].process="Pesanan sudah dipersiapkan";if($scope.carts[$i].statusdelivery==1)$scope.carts[$i].process="Kami sedang melakukan pengiriman";if($scope.carts[$i].statusdone==1)$scope.carts[$i].process="Pesanan selesai!"}};$scope.getPcImage=function($name,$value){if($value==1)$status="ok";else $status="no";return"image/pc-"+$name+"-"+$status+".png"};$scope.getFilesData=function($cartdetailID){$scope.cartdetailID=$cartdetailID;$http({method:"GET",url:API_URL+"cartfiles/"+$cartdetailID}).then(function(response){$scope.cartfiles=response.data;$scope.cartfileShow=true})}}])}},{}],116:[function(require,module,exports){module.exports=function(app){$(window).on("scroll",function(event){if($(".order-panel-summary").length>0){var scrollValue=$(window).scrollTop();var top=$(".order-panel-summary").offset().top+$(".order-panel-summary").height()+100;var windowH=$(window).height();var toleransi=$(".order-panel-summary").height()+20;if(scrollValue<=top-windowH-toleransi){$(".summary-panel").addClass("fixed")}else if(scrollValue>top-windowH+toleransi){$(".summary-panel").removeClass("fixed")}}})}},{}],117:[function(require,module,exports){module.exports=function(app){app.directive("pageRefresh",function($timeout){return{restrict:"A",link:function($scope,elem,attrs){elem.ready(function(){$scope.$apply(function(){$scope.afterAngular()})})}}})}},{}],118:[function(require,module,exports){module.exports=function(app){app.directive("tooltip",function($timeout){return{restrict:"A",link:function($scope,element,attrs){$(element).hover(function(){$(element).tooltip("show")},function(){$(element).tooltip("hide")})}}})}},{}],119:[function(require,module,exports){module.exports=function(app){var moduleName="angularUtils.directives.dirPagination";var DEFAULT_ID="__default";angular.module(moduleName,[]).directive("dirPaginate",["$compile","$parse","paginationService",dirPaginateDirective]).directive("dirPaginateNoCompile",noCompileDirective).directive("dirPaginationControls",["paginationService","paginationTemplate",dirPaginationControlsDirective]).filter("itemsPerPage",["paginationService",itemsPerPageFilter]).service("paginationService",paginationService).provider("paginationTemplate",paginationTemplateProvider).run(["$templateCache",dirPaginationControlsTemplateInstaller]);function dirPaginateDirective($compile,$parse,paginationService){return{terminal:true,multiElement:true,priority:100,compile:dirPaginationCompileFn};function dirPaginationCompileFn(tElement,tAttrs){var expression=tAttrs.dirPaginate;var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);var filterPattern=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(match[2].match(filterPattern)===null){throw"pagination directive: the 'itemsPerPage' filter must be set."}var itemsPerPageFilterRemoved=match[2].replace(filterPattern,"");var collectionGetter=$parse(itemsPerPageFilterRemoved);addNoCompileAttributes(tElement);var rawId=tAttrs.paginationId||DEFAULT_ID;paginationService.registerInstance(rawId);return function dirPaginationLinkFn(scope,element,attrs){var paginationId=$parse(attrs.paginationId)(scope)||attrs.paginationId||DEFAULT_ID;paginationService.registerInstance(paginationId);var repeatExpression=getRepeatExpression(expression,paginationId);addNgRepeatToElement(element,attrs,repeatExpression);removeTemporaryAttributes(element);var compiled=$compile(element);var currentPageGetter=makeCurrentPageGetterFn(scope,attrs,paginationId);paginationService.setCurrentPageParser(paginationId,currentPageGetter,scope);if(typeof attrs.totalItems!=="undefined"){paginationService.setAsyncModeTrue(paginationId);scope.$watch(function(){return $parse(attrs.totalItems)(scope)},function(result){if(0<=result){paginationService.setCollectionLength(paginationId,result)}})}else{paginationService.setAsyncModeFalse(paginationId);scope.$watchCollection(function(){return collectionGetter(scope)},function(collection){if(collection){var collectionLength=collection instanceof Array?collection.length:Object.keys(collection).length;paginationService.setCollectionLength(paginationId,collectionLength)}})}compiled(scope)}}function getRepeatExpression(expression,paginationId){var repeatExpression,idDefinedInFilter=!!expression.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);if(paginationId!==DEFAULT_ID&&!idDefinedInFilter){repeatExpression=expression.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+paginationId+"'")}else{repeatExpression=expression}return repeatExpression}function addNgRepeatToElement(element,attrs,repeatExpression){if(element[0].hasAttribute("dir-paginate-start")||element[0].hasAttribute("data-dir-paginate-start")){attrs.$set("ngRepeatStart",repeatExpression);element.eq(element.length-1).attr("ng-repeat-end",true)}else{attrs.$set("ngRepeat",repeatExpression)}}function addNoCompileAttributes(tElement){angular.forEach(tElement,function(el){if(el.nodeType===1){angular.element(el).attr("dir-paginate-no-compile",true)}})}function removeTemporaryAttributes(element){angular.forEach(element,function(el){if(el.nodeType===1){angular.element(el).removeAttr("dir-paginate-no-compile")}});element.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate");element.eq(element.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function makeCurrentPageGetterFn(scope,attrs,paginationId){var currentPageGetter;if(attrs.currentPage){currentPageGetter=$parse(attrs.currentPage)}else{var defaultCurrentPage=(paginationId+"__currentPage").replace(/\W/g,"_");scope[defaultCurrentPage]=1;currentPageGetter=$parse(defaultCurrentPage)}return currentPageGetter}}function noCompileDirective(){return{priority:5e3,terminal:true}}function dirPaginationControlsTemplateInstaller($templateCache){$templateCache.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function dirPaginationControlsDirective(paginationService,paginationTemplate){var numberRegex=/^\d+$/;var DDO={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:dirPaginationControlsLinkFn};var templateString=paginationTemplate.getString();if(templateString!==undefined){DDO.template=templateString}else{DDO.templateUrl=function(elem,attrs){return attrs.templateUrl||paginationTemplate.getPath()}}return DDO;function dirPaginationControlsLinkFn(scope,element,attrs){var rawId=attrs.paginationId||DEFAULT_ID;var paginationId=scope.paginationId||attrs.paginationId||DEFAULT_ID;if(!paginationService.isRegistered(paginationId)&&!paginationService.isRegistered(rawId)){var idMessage=paginationId!==DEFAULT_ID?" (id: "+paginationId+") ":" ";if(window.console){console.warn("Pagination directive: the pagination controls"+idMessage+"cannot be used without the corresponding pagination directive, which was not found at link time.")}}if(!scope.maxSize){scope.maxSize=9}scope.autoHide=scope.autoHide===undefined?true:scope.autoHide;scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):true;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):false;var paginationRange=Math.max(scope.maxSize,5);scope.pages=[];scope.pagination={last:1,current:1};scope.range={lower:1,upper:1,total:1};scope.$watch("maxSize",function(val){if(val){paginationRange=Math.max(scope.maxSize,5);generatePagination()}});scope.$watch(function(){if(paginationService.isRegistered(paginationId)){return(paginationService.getCollectionLength(paginationId)+1)*paginationService.getItemsPerPage(paginationId)}},function(length){if(0<length){generatePagination()}});scope.$watch(function(){if(paginationService.isRegistered(paginationId)){return paginationService.getItemsPerPage(paginationId)}},function(current,previous){if(current!=previous&&typeof previous!=="undefined"){goToPage(scope.pagination.current)}});scope.$watch(function(){if(paginationService.isRegistered(paginationId)){return paginationService.getCurrentPage(paginationId)}},function(currentPage,previousPage){if(currentPage!=previousPage){goToPage(currentPage)}});scope.setCurrent=function(num){if(paginationService.isRegistered(paginationId)&&isValidPageNumber(num)){num=parseInt(num,10);paginationService.setCurrentPage(paginationId,num)}};scope.tracker=function(id,index){return id+"_"+index};function goToPage(num){if(paginationService.isRegistered(paginationId)&&isValidPageNumber(num)){var oldPageNumber=scope.pagination.current;scope.pages=generatePagesArray(num,paginationService.getCollectionLength(paginationId),paginationService.getItemsPerPage(paginationId),paginationRange);scope.pagination.current=num;updateRangeValues();if(scope.onPageChange){scope.onPageChange({newPageNumber:num,oldPageNumber:oldPageNumber})}}}function generatePagination(){if(paginationService.isRegistered(paginationId)){var page=parseInt(paginationService.getCurrentPage(paginationId))||1;scope.pages=generatePagesArray(page,paginationService.getCollectionLength(paginationId),paginationService.getItemsPerPage(paginationId),paginationRange);scope.pagination.current=page;scope.pagination.last=scope.pages[scope.pages.length-1];if(scope.pagination.last<scope.pagination.current){scope.setCurrent(scope.pagination.last)}else{updateRangeValues()}}}function updateRangeValues(){if(paginationService.isRegistered(paginationId)){var currentPage=paginationService.getCurrentPage(paginationId),itemsPerPage=paginationService.getItemsPerPage(paginationId),totalItems=paginationService.getCollectionLength(paginationId);scope.range.lower=(currentPage-1)*itemsPerPage+1;scope.range.upper=Math.min(currentPage*itemsPerPage,totalItems);scope.range.total=totalItems}}function isValidPageNumber(num){return numberRegex.test(num)&&(0<num&&num<=scope.pagination.last)}}function generatePagesArray(currentPage,collectionLength,rowsPerPage,paginationRange){var pages=[];var totalPages=Math.ceil(collectionLength/rowsPerPage);var halfWay=Math.ceil(paginationRange/2);var position;if(currentPage<=halfWay){position="start"}else if(totalPages-halfWay<currentPage){position="end"}else{position="middle"}var ellipsesNeeded=paginationRange<totalPages;var i=1;while(i<=totalPages&&i<=paginationRange){var pageNumber=calculatePageNumber(i,currentPage,paginationRange,totalPages);var openingEllipsesNeeded=i===2&&(position==="middle"||position==="end");var closingEllipsesNeeded=i===paginationRange-1&&(position==="middle"||position==="start");if(ellipsesNeeded&&(openingEllipsesNeeded||closingEllipsesNeeded)){pages.push("...")}else{pages.push(pageNumber)}i++}return pages}function calculatePageNumber(i,currentPage,paginationRange,totalPages){var halfWay=Math.ceil(paginationRange/2);if(i===paginationRange){return totalPages}else if(i===1){return i}else if(paginationRange<totalPages){if(totalPages-halfWay<currentPage){return totalPages-paginationRange+i}else if(halfWay<currentPage){return currentPage-halfWay+i}else{return i}}else{return i}}}function itemsPerPageFilter(paginationService){return function(collection,itemsPerPage,paginationId){if(typeof paginationId==="undefined"){paginationId=DEFAULT_ID}if(!paginationService.isRegistered(paginationId)){throw"pagination directive: the itemsPerPage id argument (id: "+paginationId+") does not match a registered pagination-id."}var end;var start;if(angular.isObject(collection)){itemsPerPage=parseInt(itemsPerPage)||9999999999;if(paginationService.isAsyncMode(paginationId)){start=0}else{start=(paginationService.getCurrentPage(paginationId)-1)*itemsPerPage}end=start+itemsPerPage;paginationService.setItemsPerPage(paginationId,itemsPerPage);if(collection instanceof Array){return collection.slice(start,end)}else{var slicedObject={};angular.forEach(keys(collection).slice(start,end),function(key){slicedObject[key]=collection[key]});return slicedObject}}else{return collection}}}function keys(obj){if(!Object.keys){var objKeys=[];for(var i in obj){if(obj.hasOwnProperty(i)){objKeys.push(i)}}return objKeys}else{return Object.keys(obj)}}function paginationService(){var instances={};var lastRegisteredInstance;this.registerInstance=function(instanceId){if(typeof instances[instanceId]==="undefined"){instances[instanceId]={asyncMode:false};lastRegisteredInstance=instanceId}};this.deregisterInstance=function(instanceId){delete instances[instanceId]};this.isRegistered=function(instanceId){return typeof instances[instanceId]!=="undefined"};this.getLastInstanceId=function(){return lastRegisteredInstance};this.setCurrentPageParser=function(instanceId,val,scope){instances[instanceId].currentPageParser=val;instances[instanceId].context=scope};this.setCurrentPage=function(instanceId,val){instances[instanceId].currentPageParser.assign(instances[instanceId].context,val)};this.getCurrentPage=function(instanceId){var parser=instances[instanceId].currentPageParser;return parser?parser(instances[instanceId].context):1};this.setItemsPerPage=function(instanceId,val){instances[instanceId].itemsPerPage=val};this.getItemsPerPage=function(instanceId){return instances[instanceId].itemsPerPage};this.setCollectionLength=function(instanceId,val){instances[instanceId].collectionLength=val};this.getCollectionLength=function(instanceId){return instances[instanceId].collectionLength};this.setAsyncModeTrue=function(instanceId){instances[instanceId].asyncMode=true};this.setAsyncModeFalse=function(instanceId){instances[instanceId].asyncMode=false};this.isAsyncMode=function(instanceId){return instances[instanceId].asyncMode}}function paginationTemplateProvider(){var templatePath="angularUtils.directives.dirPagination.template";var templateString;this.setPath=function(path){templatePath=path};this.setString=function(str){templateString=str};this.$get=function(){return{getPath:function(){return templatePath},getString:function(){return templateString}}}}}},{}],120:[function(require,module,exports){module.exports=angular.module("jakartabrosur",["ngRoute","ngResource","ngCookies","ngSanitize","angularUtils.directives.dirPagination"],function($interpolateProvider){$interpolateProvider.startSymbol("[[");$interpolateProvider.endSymbol("]]")})},{}],121:[function(require,module,exports){(function(window,angular){"use strict";angular.module("ngCookies",["ng"]).info({angularVersion:"1.7.3"}).provider("$cookies",[function $CookiesProvider(){var defaults=this.defaults={};function calcOptions(options){return options?angular.extend({},defaults,options):defaults}this.$get=["$$cookieReader","$$cookieWriter",function($$cookieReader,$$cookieWriter){return{get:function(key){return $$cookieReader()[key]},getObject:function(key){var value=this.get(key);return value?angular.fromJson(value):value},getAll:function(){return $$cookieReader()},put:function(key,value,options){$$cookieWriter(key,value,calcOptions(options))},putObject:function(key,value,options){this.put(key,angular.toJson(value),options)},remove:function(key,options){$$cookieWriter(key,undefined,calcOptions(options))}}}]}]);function $$CookieWriter($document,$log,$browser){var cookiePath=$browser.baseHref();var rawDocument=$document[0];function buildCookieString(name,value,options){var path,expires;options=options||{};expires=options.expires;path=angular.isDefined(options.path)?options.path:cookiePath;if(angular.isUndefined(value)){expires="Thu, 01 Jan 1970 00:00:00 GMT";value=""}if(angular.isString(expires)){expires=new Date(expires)}var str=encodeURIComponent(name)+"="+encodeURIComponent(value);str+=path?";path="+path:"";str+=options.domain?";domain="+options.domain:"";str+=expires?";expires="+expires.toUTCString():"";str+=options.secure?";secure":"";str+=options.samesite?";samesite="+options.samesite:"";var cookieLength=str.length+1;if(cookieLength>4096){$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!")}return str}return function(name,value,options){rawDocument.cookie=buildCookieString(name,value,options)}}$$CookieWriter.$inject=["$document","$log","$browser"];angular.module("ngCookies").provider("$$cookieWriter",function $$CookieWriterProvider(){this.$get=$$CookieWriter})})(window,window.angular)},{}],122:[function(require,module,exports){require("./angular-cookies");module.exports="ngCookies"},{"./angular-cookies":121}],123:[function(require,module,exports){(function(window,angular){"use strict";var $resourceMinErr=angular.$$minErr("$resource");var MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function isValidDottedPath(path){return path!=null&&path!==""&&path!=="hasOwnProperty"&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path)){throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path)}var keys=path.split(".");for(var i=0,ii=keys.length;i<ii&&angular.isDefined(obj);i++){var key=keys[i];obj=obj!==null?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{};angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src){if(src.hasOwnProperty(key)&&!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}return dst}angular.module("ngResource",["ng"]).info({angularVersion:"1.7.3"}).provider("$resource",function ResourceProvider(){var PROTOCOL_AND_IPV6_REGEX=/^https?:\/\/\[[^\]]*][^/]*/;var provider=this;this.defaults={stripTrailingSlashes:true,cancellable:false,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},delete:{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function($http,$log,$q,$timeout){var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isArray=angular.isArray,isDefined=angular.isDefined,isFunction=angular.isFunction,isNumber=angular.isNumber,encodeUriQuery=angular.$$encodeUriQuery,encodeUriSegment=angular.$$encodeUriSegment;function Route(template,defaults){this.template=template;this.defaults=extend({},provider.defaults,defaults);this.urlParams={}}Route.prototype={setUrlParams:function(config,params,actionUrl){var self=this,url=actionUrl||self.template,val,encodedVal,protocolAndIpv6="";var urlParams=self.urlParams=Object.create(null);forEach(url.split(/\W/),function(param){if(param==="hasOwnProperty"){throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.")}if(!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)){urlParams[param]={isQueryParamValue:new RegExp("\\?.*=:"+param+"(?:\\W|$)").test(url)}}});url=url.replace(/\\:/g,":");url=url.replace(PROTOCOL_AND_IPV6_REGEX,function(match){protocolAndIpv6=match;return""});params=params||{};forEach(self.urlParams,function(paramInfo,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam];if(isDefined(val)&&val!==null){if(paramInfo.isQueryParamValue){encodedVal=encodeUriQuery(val,true)}else{encodedVal=encodeUriSegment(val)}url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})}else{url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){if(tail.charAt(0)==="/"){return tail}else{return leadingSlashes+tail}})}});if(self.defaults.stripTrailingSlashes){url=url.replace(/\/+$/,"")||"/"}url=url.replace(/\/\.(?=\w+($|\?))/,".");config.url=protocolAndIpv6+url.replace(/\/(\\|%5C)\./,"/.");forEach(params,function(value,key){if(!self.urlParams[key]){config.params=config.params||{};config.params[key]=value}})}};function resourceFactory(url,paramDefaults,actions,options){var route=new Route(url,options);actions=extend({},provider.defaults.actions,actions);function extractParams(data,actionParams){var ids={};actionParams=extend({},paramDefaults,actionParams);forEach(actionParams,function(value,key){if(isFunction(value)){value=value(data)}ids[key]=value&&value.charAt&&value.charAt(0)==="@"?lookupDottedPath(data,value.substr(1)):value});return ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}Resource.prototype.toJSON=function(){var data=extend({},this);delete data.$promise;delete data.$resolved;delete data.$cancelRequest;return data};forEach(actions,function(action,name){var hasBody=action.hasBody===true||action.hasBody!==false&&/^(POST|PUT|PATCH)$/i.test(action.method);var numericTimeout=action.timeout;var cancellable=isDefined(action.cancellable)?action.cancellable:route.defaults.cancellable;if(numericTimeout&&!isNumber(numericTimeout)){$log.debug("ngResource:\n"+"  Only numeric values are allowed as `timeout`.\n"+"  Promises are not supported in $resource, because the same value would "+"be used for multiple requests. If you are looking for a way to cancel "+"requests, you should use the `cancellable` option.");delete action.timeout;numericTimeout=null}Resource[name]=function(a1,a2,a3,a4){var params={},data,onSuccess,onError;switch(arguments.length){case 4:onError=a4;onSuccess=a3;case 3:case 2:if(isFunction(a2)){if(isFunction(a1)){onSuccess=a1;onError=a2;break}onSuccess=a2;onError=a3}else{params=a1;data=a2;onSuccess=a3;break}case 1:if(isFunction(a1))onSuccess=a1;else if(hasBody)data=a1;else params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var isInstanceCall=this instanceof Resource;var value=isInstanceCall?data:action.isArray?[]:new Resource(data);var httpConfig={};var requestInterceptor=action.interceptor&&action.interceptor.request||undefined;var requestErrorInterceptor=action.interceptor&&action.interceptor.requestError||undefined;var responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor;var responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||$q.reject;var successCallback=onSuccess?function(val){onSuccess(val,response.headers,response.status,response.statusText)}:undefined;var errorCallback=onError||undefined;var timeoutDeferred;var numericTimeoutPromise;var response;forEach(action,function(value,key){switch(key){default:httpConfig[key]=copy(value);break;case"params":case"isArray":case"interceptor":case"cancellable":break}});if(!isInstanceCall&&cancellable){timeoutDeferred=$q.defer();httpConfig.timeout=timeoutDeferred.promise;if(numericTimeout){numericTimeoutPromise=$timeout(timeoutDeferred.resolve,numericTimeout)}}if(hasBody)httpConfig.data=data;route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$q.resolve(httpConfig).then(requestInterceptor).catch(requestErrorInterceptor).then($http);promise=promise.then(function(resp){var data=resp.data;if(data){if(isArray(data)!==!!action.isArray){throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to "+"contain an {1} but got an {2} (Request: {3} {4})",name,action.isArray?"array":"object",isArray(data)?"array":"object",httpConfig.method,httpConfig.url)}if(action.isArray){value.length=0;forEach(data,function(item){if(typeof item==="object"){value.push(new Resource(item))}else{value.push(item)}})}else{var promise=value.$promise;shallowClearAndCopy(data,value);value.$promise=promise}}resp.resource=value;response=resp;return responseInterceptor(resp)},function(rejectionOrResponse){rejectionOrresponse.resource=value;response=rejectionOrResponse;return responseErrorInterceptor(rejectionOrResponse)});promise=promise["finally"](function(){value.$resolved=true;if(!isInstanceCall&&cancellable){value.$cancelRequest=noop;$timeout.cancel(numericTimeoutPromise);timeoutDeferred=numericTimeoutPromise=httpConfig.timeout=null}});promise.then(successCallback,errorCallback);if(!isInstanceCall){value.$promise=promise;value.$resolved=false;if(cancellable)value.$cancelRequest=cancelRequest;return value}return promise;function cancelRequest(value){promise.catch(noop);if(timeoutDeferred!==null){timeoutDeferred.resolve(value)}}};Resource.prototype["$"+name]=function(params,success,error){if(isFunction(params)){error=success;success=params;params={}}var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}});return Resource}return resourceFactory}]})})(window,window.angular)},{}],124:[function(require,module,exports){require("./angular-resource");module.exports="ngResource"},{"./angular-resource":123}],125:[function(require,module,exports){(function(window,angular){"use strict";function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(_,slash,key,option){var optional=option==="?"||option==="*?";var star=option==="*"||option==="*?";keys.push({name:key,optional:optional});slash=slash||"";return(optional?"(?:"+slash:slash+"(?:")+(star?"([^?#]+?)":"([^/?#]+)")+(optional?"?)?":")")}).replace(/([/$*])/g,"\\$1");if(opts.ignoreTrailingSlashes){pattern=pattern.replace(/\/+$/,"")+"/*"}return{originalPath:path,keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.7.3"}).provider("$route",$RouteProvider).run(instantiateRoute);var $routeMinErr=angular.$$minErr("ngRoute");var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl)){routeCopy.reloadOnUrl=true}if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true}if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch}routes[path]=angular.extend(routeCopy,path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=path[path.length-1]==="/"?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({redirectTo:path},routeToRegExp(redirectPath,routeCopy))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params==="string"){params={redirectTo:params}}this.when(null,params);return this};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this}return isEagerInstantiationEnabled};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false}};$rootScope.$evalAsync(function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute()})},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams)}else{throw $routeMinErr("norout","Tried updating route with no current route")}}};$rootScope.$on("$locationChangeStart",prepareRoute);$rootScope.$on("$locationChangeSuccess",commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val}}return params}function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault()}}}}function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast("$routeUpdate",lastRoute)}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount("$route");nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then(function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then(function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams)}$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute)}})}).catch(function(error){if(nextRoute===$route.current){$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}}).finally(function(){$browser.$$completeOutstandingRequest(noop,"$route")})}}function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route){if(route.redirectTo){if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true}else{var oldPath=$location.path();var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}}}else if(route.resolveRedirectTo){return $q.resolve($injector.invoke(route.resolveRedirectTo)).then(function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}return data})}}return data}function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current){keepProcessingRoute=false}else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl){$location.url(newUrl).replace()}else{newUrl=$location.path(data.path).search(data.search).replace().url()}if(newUrl!==oldUrl){keepProcessingRoute=false}}return keepProcessingRoute}function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)});var template=getTemplateFor(route);if(angular.isDefined(template)){locals["$template"]=template}return $q.all(locals)}}function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template)){template=template(route.params)}}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(route.params)}if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl)}}return template}function parseRoute(){var params,match;angular.forEach(routes,function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route}});return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&newRoute.$$route===oldRoute.$$route&&(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&&angular.equals(newRoute.pathParams,oldRoute.pathParams))}function interpolate(string,params){var result=[];angular.forEach((string||"").split(":"),function(segment,i){if(i===0){result.push(segment)}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||"");delete params[key]}});return result.join("")}}]}instantiateRoute.$inject=["$injector"];function instantiateRoute($injector){if(isEagerInstantiationEnabled){$injector.get("$route")}}ngRouteModule.provider("$routeParams",$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{}}}ngRouteModule.directive("ngView",ngViewFactory);ngRouteModule.directive("ngView",ngViewFillContentFactory);ngViewFactory.$inject=["$route","$anchorScroll","$animate"];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done(function(response){if(response!==false)previousLeaveAnimation=null});currentElement=null}}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).done(function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}});cleanupLastView()});currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit("$viewContentLoaded");currentScope.$eval(onloadExp)}else{cleanupLastView()}}}}}ngViewFillContentFactory.$inject=["$compile","$controller","$route"];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller}$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}scope[current.resolveAs||"$resolve"]=locals;link(scope)}}}})(window,window.angular)},{}],126:[function(require,module,exports){require("./angular-route");module.exports="ngRoute"},{"./angular-route":125}],127:[function(require,module,exports){(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements)){elements={htmlElements:elements}}addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated){extend(validAttrs,arrayToMap(attrs,true))}return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length){extend(elementsMap,arrayToMap(newElements))}}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.7.3"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},{}],128:[function(require,module,exports){require("./angular-sanitize");module.exports="ngSanitize"},{"./angular-sanitize":127}],129:[function(require,module,exports){(function(window){"use strict";var minErrConfig={objectMaxDepth:5,urlErrorParamsEnabled:true};function errorHandlingConfig(config){if(isObject(config)){if(isDefined(config.objectMaxDepth)){minErrConfig.objectMaxDepth=isValidObjectMaxDepth(config.objectMaxDepth)?config.objectMaxDepth:NaN}if(isDefined(config.urlErrorParamsEnabled)&&isBoolean(config.urlErrorParamsEnabled)){minErrConfig.urlErrorParamsEnabled=config.urlErrorParamsEnabled}}else{return minErrConfig}}function isValidObjectMaxDepth(maxDepth){return isNumber(maxDepth)&&maxDepth>0}function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;var url="https://errors.angularjs.org/1.7.3/";var regex=url.replace(".","\\.")+"[\\s\\S]*";var errRegExp=new RegExp(regex,"g");return function(){var code=arguments[0],template=arguments[1],message="["+(module?module+":":"")+code+"] ",templateArgs=sliceArgs(arguments,2).map(function(arg){return toDebugString(arg,minErrConfig.objectMaxDepth)}),paramPrefix,i;message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1);if(index<templateArgs.length){return templateArgs[index].replace(errRegExp,"")}return match});message+="\n"+url+(module?module+"/":"")+code;if(minErrConfig.urlErrorParamsEnabled){for(i=0,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&"){message+=paramPrefix+"p"+i+"="+encodeURIComponent(templateArgs[i])}}return new ErrorConstructor(message)}}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/;var VALIDITY_STATE_PROPERTY="validity";var hasOwnProperty=Object.prototype.hasOwnProperty;var lowercase=function(string){return isString(string)?string.toLowerCase():string};var uppercase=function(string){return isString(string)?string.toUpperCase():string};var msie,jqLite,jQuery,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),angularModule,uid=0;msie=window.document.documentMode;function isArrayLike(obj){if(obj==null||isWindow(obj))return false;if(isArray(obj)||isString(obj)||jqLite&&obj instanceof jqLite)return true;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&length-1 in obj||typeof obj.item==="function")}function forEach(obj,iterator,context){var key,length;if(obj){if(isFunction(obj)){for(key in obj){if(key!=="prototype"&&key!=="length"&&key!=="name"&&obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj)}}}else if(isArray(obj)||isArrayLike(obj)){var isPrimitive=typeof obj!=="object";for(key=0,length=obj.length;key<length;key++){if(isPrimitive||key in obj){iterator.call(context,obj[key],key,obj)}}}else if(obj.forEach&&obj.forEach!==forEach){obj.forEach(iterator,context,obj)}else if(isBlankObject(obj)){for(key in obj){iterator.call(context,obj[key],key,obj)}}else if(typeof obj.hasOwnProperty==="function"){for(key in obj){if(obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj)}}}else{for(key in obj){if(hasOwnProperty.call(obj,key)){iterator.call(context,obj[key],key,obj)}}}}return obj}function forEachSorted(obj,iterator,context){var keys=Object.keys(obj).sort();for(var i=0;i<keys.length;i++){iterator.call(context,obj[keys[i]],keys[i])}return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){if(h){obj.$$hashKey=h}else{delete obj.$$hashKey}}function baseExtend(dst,objs,deep){var h=dst.$$hashKey;for(var i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(!isObject(obj)&&!isFunction(obj))continue;var keys=Object.keys(obj);for(var j=0,jj=keys.length;j<jj;j++){var key=keys[j];var src=obj[key];if(deep&&isObject(src)){if(isDate(src)){dst[key]=new Date(src.valueOf())}else if(isRegExp(src)){dst[key]=new RegExp(src)}else if(src.nodeName){dst[key]=src.cloneNode(true)}else if(isElement(src)){dst[key]=src.clone()}else{if(!isObject(dst[key]))dst[key]=isArray(src)?[]:{};baseExtend(dst[key],[src],true)}}else{dst[key]=src}}}setHashKey(dst,h);return dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),false)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),true)}function toInt(str){return parseInt(str,10)}var isNumberNaN=Number.isNaN||function isNumberNaN(num){return num!==num};function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}noop.$inject=[];function identity($){return $}identity.$inject=[];function valueFn(value){return function valueRef(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}function isUndefined(value){return typeof value==="undefined"}function isDefined(value){return typeof value!=="undefined"}function isObject(value){return value!==null&&typeof value==="object"}function isBlankObject(value){return value!==null&&typeof value==="object"&&!getPrototypeOf(value)}function isString(value){return typeof value==="string"}function isNumber(value){return typeof value==="number"}function isDate(value){return toString.call(value)==="[object Date]"}function isArray(arr){return Array.isArray(arr)||arr instanceof Array}function isError(value){var tag=toString.call(value);switch(tag){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return value instanceof Error}}function isFunction(value){return typeof value==="function"}function isRegExp(value){return toString.call(value)==="[object RegExp]"}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return toString.call(obj)==="[object File]"}function isFormData(obj){return toString.call(obj)==="[object FormData]"}function isBlob(obj){return toString.call(obj)==="[object Blob]"}function isBoolean(value){return typeof value==="boolean"}function isPromiseLike(obj){return obj&&isFunction(obj.then)}var TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isArrayBuffer(obj){return toString.call(obj)==="[object ArrayBuffer]"}var trim=function(value){return isString(value)?value.trim():value};var escapeForRegexp=function(s){return s.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function isElement(node){return!!(node&&(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++){obj[items[i]]=true}return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!==-1}function arrayRemove(array,value){var index=array.indexOf(value);if(index>=0){array.splice(index,1)}return index}function copy(source,destination,maxDepth){var stackSource=[];var stackDest=[];maxDepth=isValidObjectMaxDepth(maxDepth)?maxDepth:NaN;if(destination){if(isTypedArray(destination)||isArrayBuffer(destination)){throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(source===destination){throw ngMinErr("cpi","Can't copy! Source and destination are identical.")}if(isArray(destination)){destination.length=0}else{forEach(destination,function(value,key){if(key!=="$$hashKey"){delete destination[key]}})}stackSource.push(source);stackDest.push(destination);return copyRecurse(source,destination,maxDepth)}return copyElement(source,maxDepth);function copyRecurse(source,destination,maxDepth){maxDepth--;if(maxDepth<0){return"..."}var h=destination.$$hashKey;var key;if(isArray(source)){for(var i=0,ii=source.length;i<ii;i++){destination.push(copyElement(source[i],maxDepth))}}else if(isBlankObject(source)){for(key in source){destination[key]=copyElement(source[key],maxDepth)}}else if(source&&typeof source.hasOwnProperty==="function"){for(key in source){if(source.hasOwnProperty(key)){destination[key]=copyElement(source[key],maxDepth)}}}else{for(key in source){if(hasOwnProperty.call(source,key)){destination[key]=copyElement(source[key],maxDepth)}}}setHashKey(destination,h);return destination}function copyElement(source,maxDepth){if(!isObject(source)){return source}var index=stackSource.indexOf(source);if(index!==-1){return stackDest[index]}if(isWindow(source)||isScope(source)){throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var needsRecurse=false;var destination=copyType(source);if(destination===undefined){destination=isArray(source)?[]:Object.create(getPrototypeOf(source));needsRecurse=true}stackSource.push(source);stackDest.push(destination);return needsRecurse?copyRecurse(source,destination,maxDepth):destination}function copyType(source){switch(toString.call(source)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new source.constructor(copyElement(source.buffer),source.byteOffset,source.length);case"[object ArrayBuffer]":if(!source.slice){var copied=new ArrayBuffer(source.byteLength);new Uint8Array(copied).set(new Uint8Array(source));return copied}return source.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new source.constructor(source.valueOf());case"[object RegExp]":var re=new RegExp(source.source,source.toString().match(/[^/]*$/)[0]);re.lastIndex=source.lastIndex;return re;case"[object Blob]":return new source.constructor([source],{type:source.type})}if(isFunction(source.cloneNode)){return source.cloneNode(true)}}}function simpleCompare(a,b){return a===b||a!==a&&b!==b}function equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1,t2=typeof o2,length,key,keySet;if(t1===t2&&t1==="object"){if(isArray(o1)){if(!isArray(o2))return false;if((length=o1.length)===o2.length){for(key=0;key<length;key++){if(!equals(o1[key],o2[key]))return false}return true}}else if(isDate(o1)){if(!isDate(o2))return false;return simpleCompare(o1.getTime(),o2.getTime())}else if(isRegExp(o1)){if(!isRegExp(o2))return false;return o1.toString()===o2.toString()}else{if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return false;keySet=createMap();for(key in o1){if(key.charAt(0)==="$"||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return false;keySet[key]=true}for(key in o2){if(!(key in keySet)&&key.charAt(0)!=="$"&&isDefined(o2[key])&&!isFunction(o2[key]))return false}return true}}return false}var csp=function(){if(!isDefined(csp.rules)){var ngCspElement=window.document.querySelector("[ng-csp]")||window.document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||ngCspAttribute.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!ngCspAttribute||ngCspAttribute.indexOf("no-inline-style")!==-1}}else{csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:false}}}return csp.rules;function noUnsafeEval(){try{new Function("");return false}catch(e){return true}}};var jq=function(){if(isDefined(jq.name_))return jq.name_;var el;var i,ii=ngAttrPrefixes.length,prefix,name;for(i=0;i<ii;++i){prefix=ngAttrPrefixes[i];el=window.document.querySelector("["+prefix.replace(":","\\:")+"jq]");if(el){name=el.getAttribute(prefix+"jq");break}}return jq.name_=name};function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];if(isFunction(fn)&&!(fn instanceof RegExp)){return curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}else{return fn}}function toJsonReplacer(key,value){var val=value;if(typeof key==="string"&&key.charAt(0)==="$"&&key.charAt(1)==="$"){val=undefined}else if(isWindow(value)){val="$WINDOW"}else if(value&&window.document===value){val="$DOCUMENT"}else if(isScope(value)){val="$SCOPE"}return val}function toJson(obj,pretty){if(isUndefined(obj))return undefined;if(!isNumber(pretty)){pretty=pretty?2:null}return JSON.stringify(obj,toJsonReplacer,pretty)}function fromJson(json){return isString(json)?JSON.parse(json):json}var ALL_COLONS=/:/g;function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNumberNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset))}function startingTag(element){element=jqLite(element).clone().empty();var elemHtml=jqLite("<div></div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;if(keyValue){key=keyValue=keyValue.replace(/\+/g,"%20");splitPoint=keyValue.indexOf("=");if(splitPoint!==-1){key=keyValue.substring(0,splitPoint);val=keyValue.substring(splitPoint+1)}key=tryDecodeURIComponent(key);if(isDefined(key)){val=isDefined(val)?tryDecodeURIComponent(val):true;if(!hasOwnProperty.call(obj,key)){obj[key]=val}else if(isArray(obj[key])){obj[key].push(val)}else{obj[key]=[obj[key],val]}}}});return obj}function toKeyValue(obj){var parts=[];forEach(obj,function(value,key){if(isArray(value)){forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,true)+(arrayValue===true?"":"="+encodeUriQuery(arrayValue,true)))})}else{parts.push(encodeUriQuery(key,true)+(value===true?"":"="+encodeUriQuery(value,true)))}});return parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}var ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"];function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.getAttribute(attr))){return attr}}return null}function allowAutoBootstrap(document){var script=document.currentScript;if(!script){return true}if(!(script instanceof window.HTMLScriptElement||script instanceof window.SVGScriptElement)){return false}var attributes=script.attributes;var srcs=[attributes.getNamedItem("src"),attributes.getNamedItem("href"),attributes.getNamedItem("xlink:href")];return srcs.every(function(src){if(!src){return true}if(!src.value){return false}var link=document.createElement("a");link.href=src.value;if(document.location.origin===link.origin){return true}switch(link.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return true;default:return false}})}var isAutoBootstrapAllowed=allowAutoBootstrap(window.document);function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name)}});forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";var candidate;if(!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))){appElement=candidate;module=candidate.getAttribute(name)}});if(appElement){if(!isAutoBootstrapAllowed){try{window.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates "+"an extension, document.location.href does not match.")}catch(e){}return}config.strictDi=getNgAttribute(appElement,"strict-di")!==null;bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){if(!isObject(config))config={};var defaultConfig={strictDi:false};config=extend(defaultConfig,config);var doBootstrap=function(){element=jqLite(element);if(element.injector()){var tag=element[0]===window.document?"document":startingTag(element);throw ngMinErr("btstrpd","App already bootstrapped with this element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[];modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]);if(config.debugInfoEnabled){modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(true)}])}modules.unshift("ng");var injector=createInjector(modules,config.strictDi);injector.invoke(["$rootScope","$rootElement","$compile","$injector",function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector);compile(element)(scope)})}]);return injector};var NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;var NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=true;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")}if(window&&!NG_DEFER_BOOTSTRAP.test(window.name)){return doBootstrap()}window.name=window.name.replace(NG_DEFER_BOOTSTRAP,"");angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)});return doBootstrap()};if(isFunction(angular.resumeDeferredBootstrap)){angular.resumeDeferredBootstrap()}}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name;window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector){throw ngMinErr("test","no injector found for element argument to getTestability")}return injector.get("$$testability")}var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name,separator){separator=separator||"_";return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var bindJQueryFired=false;function bindJQuery(){var originalCleanData;if(bindJQueryFired){return}var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:!jqName?undefined:window[jqName];if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData})}else{jqLite=JQLite}originalCleanData=jqLite.cleanData;jqLite.cleanData=function(elems){var events;for(var i=0,elem;(elem=elems[i])!=null;i++){events=(jqLite._data(elem)||{}).events;if(events&&events.$destroy){jqLite(elem).triggerHandler("$destroy")}}originalCleanData(elems)};angular.element=jqLite;bindJQueryFired=true}function assertArg(arg,name,reason){if(!arg){throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required")}return arg}function assertArgFn(arg,name,acceptArrayAnnotation){if(acceptArrayAnnotation&&isArray(arg)){arg=arg[arg.length-1]}assertArg(isFunction(arg),name,"not a function, got "+(arg&&typeof arg==="object"?arg.constructor.name||"Object":typeof arg));return arg}function assertNotHasOwnProperty(name,context){if(name==="hasOwnProperty"){throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}}function getter(obj,path,bindFnToScope){if(!path)return obj;var keys=path.split(".");var key;var lastInstance=obj;var len=keys.length;for(var i=0;i<len;i++){key=keys[i];if(obj){obj=(lastInstance=obj)[key]}}if(!bindFnToScope&&isFunction(obj)){return bind(lastInstance,obj)}return obj}function getBlockNodes(nodes){var node=nodes[0];var endNode=nodes[nodes.length-1];var blockNodes;for(var i=1;node!==endNode&&(node=node.nextSibling);i++){if(blockNodes||nodes[i]!==node){if(!blockNodes){blockNodes=jqLite(slice.call(nodes,0,i))}blockNodes.push(node)}}return blockNodes||nodes}function createMap(){return Object.create(null)}function stringify(value){if(value==null){return""}switch(typeof value){case"string":break;case"number":value=""+value;break;default:if(hasCustomToString(value)&&!isArray(value)&&!isDate(value)){value=value.toString()}else{value=toJson(value)}}return value}var NODE_TYPE_ELEMENT=1;var NODE_TYPE_ATTRIBUTE=2;var NODE_TYPE_TEXT=3;var NODE_TYPE_COMMENT=8;var NODE_TYPE_DOCUMENT=9;var NODE_TYPE_DOCUMENT_FRAGMENT=11;function setupModuleLoader(window){var $injectorMinErr=minErr("$injector");var ngMinErr=minErr("ng");function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var angular=ensure(window,"angular",Object);angular.$$minErr=angular.$$minErr||minErr;return ensure(angular,"module",function(){var modules={};return function module(name,requires,configFn){var info={};var assertNotHasOwnProperty=function(name,context){if(name==="hasOwnProperty"){throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}};assertNotHasOwnProperty(name,"module");if(requires&&modules.hasOwnProperty(name)){modules[name]=null}return ensure(modules,name,function(){if(!requires){throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",name)}var invokeQueue=[];var configBlocks=[];var runBlocks=[];var config=invokeLater("$injector","invoke","push",configBlocks);var moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,info:function(value){if(isDefined(value)){if(!isObject(value))throw ngMinErr("aobj","Argument '{0}' must be an object","value");info=value;return this}return info},requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",configBlocks),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:config,run:function(block){runBlocks.push(block);return this}};if(configFn){config(configFn)}return moduleInstance;function invokeLater(provider,method,insertMethod,queue){if(!queue)queue=invokeQueue;return function(){queue[insertMethod||"push"]([provider,method,arguments]);return moduleInstance}}function invokeLaterAndSetModuleName(provider,method,queue){if(!queue)queue=invokeQueue;return function(recipeName,factoryFunction){if(factoryFunction&&isFunction(factoryFunction))factoryFunction.$$moduleName=name;queue.push([provider,method,arguments]);return moduleInstance}}})}})}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function serializeObject(obj,maxDepth){var seen=[];if(isValidObjectMaxDepth(maxDepth)){obj=angular.copy(obj,null,maxDepth)}return JSON.stringify(obj,function(key,val){val=toJsonReplacer(key,val);if(isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj,maxDepth){if(typeof obj==="function"){return obj.toString().replace(/ \{[\s\S]*$/,"")}else if(isUndefined(obj)){return"undefined"}else if(typeof obj!=="string"){return serializeObject(obj,maxDepth)}return obj}var version={full:"1.7.3",major:1,minor:7,dot:3,codeName:"eventful-proposal"};function publishExternalAPI(angular){extend(angular,{errorHandlingConfig:errorHandlingConfig,bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,callbacks:{$$counter:0},getTestability:getTestability,reloadWithDebugInfo:reloadWithDebugInfo,$$minErr:minErr,$$csp:csp,$$encodeUriSegment:encodeUriSegment,$$encodeUriQuery:encodeUriQuery,$$lowercase:lowercase,$$stringify:stringify,$$uppercase:uppercase});angularModule=setupModuleLoader(window);angularModule("ng",["ngLocale"],["$provide",function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider});$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRef:ngRefDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$$intervalFactory:$$IntervalFactoryProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:$jsonpCallbacksProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$$taskTrackerFactory:$$TaskTrackerFactoryProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:$$MapProvider,$$cookieReader:$$CookieReaderProvider})}]).info({angularVersion:"1.7.3"})}JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1;JQLite._data=function(node){return this.cache[node[this.expando]]||{}};function jqNextId(){return++jqId}var DASH_LOWERCASE_REGEXP=/-([a-z])/g;var MS_HACK_REGEXP=/^-ms-/;var MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"};var jqLiteMinErr=minErr("jqLite");function cssKebabToCamel(name){return kebabToCamel(name.replace(MS_HACK_REGEXP,"ms-"))}function fnCamelCaseReplace(all,letter){return letter.toUpperCase()}function kebabToCamel(name){return name.replace(DASH_LOWERCASE_REGEXP,fnCamelCaseReplace)}var SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var HTML_REGEXP=/<|&#?\w+;/;var TAG_NAME_REGEXP=/<([\w:-]+)/;var XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339]){return true}return false}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,fragment=context.createDocumentFragment(),nodes=[],i;if(jqLiteIsTextNode(html)){nodes.push(context.createTextNode(html))}else{tmp=fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2];i=wrap[0];while(i--){tmp=tmp.lastChild}nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node)});return fragment}function jqLiteParseHTML(html,context){context=context||window.document;var parsed;if(parsed=SINGLE_TAG_REGEXP.exec(html)){return[context.createElement(parsed[1])]}if(parsed=jqLiteBuildFragment(html,context)){return parsed.childNodes}return[]}function jqLiteWrapNode(node,wrapper){var parent=node.parentNode;if(parent){parent.replaceChild(wrapper,node)}wrapper.appendChild(node)}var jqLiteContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};function JQLite(element){if(element instanceof JQLite){return element}var argIsString;if(isString(element)){element=trim(element);argIsString=true}if(!(this instanceof JQLite)){if(argIsString&&element.charAt(0)!=="<"){throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new JQLite(element)}if(argIsString){jqLiteAddNodes(this,jqLiteParseHTML(element))}else if(isFunction(element)){jqLiteReady(element)}else{jqLiteAddNodes(this,element)}}function jqLiteClone(element){return element.cloneNode(true)}function jqLiteDealoc(element,onlyDescendants){if(!onlyDescendants&&jqLiteAcceptsData(element))jqLite.cleanData([element]);if(element.querySelectorAll){jqLite.cleanData(element.querySelectorAll("*"))}}function isEmptyObject(obj){var name;for(name in obj){return false}return true}function removeIfEmptyData(element){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];var events=expandoStore&&expandoStore.events;var data=expandoStore&&expandoStore.data;if((!data||isEmptyObject(data))&&(!events||isEmptyObject(events))){delete jqCache[expandoId];element.ng339=undefined}}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var handle=expandoStore&&expandoStore.handle;if(!handle)return;if(!type){for(type in events){if(type!=="$destroy"){element.removeEventListener(type,handle)}delete events[type]}}else{var removeHandler=function(type){var listenerFns=events[type];if(isDefined(fn)){arrayRemove(listenerFns||[],fn)}if(!(isDefined(fn)&&listenerFns&&listenerFns.length>0)){element.removeEventListener(type,handle);delete events[type]}};forEach(type.split(" "),function(type){removeHandler(type);if(MOUSE_EVENT_MAP[type]){removeHandler(MOUSE_EVENT_MAP[type])}})}removeIfEmptyData(element)}function jqLiteRemoveData(element,name){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name){delete expandoStore.data[name]}else{expandoStore.data={}}removeIfEmptyData(element)}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=jqNextId();expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}}return expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var prop;var isSimpleSetter=isDefined(value);var isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);var massGetter=!key;var expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);var data=expandoStore&&expandoStore.data;if(isSimpleSetter){data[kebabToCamel(key)]=value}else{if(massGetter){return data}else{if(isSimpleGetter){return data&&data[kebabToCamel(key)]}else{for(prop in key){data[kebabToCamel(prop)]=key[prop]}}}}}}function jqLiteHasClass(element,selector){if(!element.getAttribute)return false;return(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);newClasses=newClasses.replace(" "+cssClass+" "," ")});if(newClasses!==existingClasses){element.setAttribute("class",trim(newClasses))}}}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);if(newClasses.indexOf(" "+cssClass+" ")===-1){newClasses+=cssClass+" "}});if(newClasses!==existingClasses){element.setAttribute("class",trim(newClasses))}}}function jqLiteAddNodes(root,elements){if(elements){if(elements.nodeType){root[root.length++]=elements}else{var length=elements.length;if(typeof length==="number"&&elements.window!==elements){if(length){for(var i=0;i<length;i++){root[root.length++]=elements[i]}}}else{root[root.length++]=elements}}}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){if(element.nodeType===NODE_TYPE_DOCUMENT){element=element.documentElement}var names=isArray(name)?name:[name];while(element){for(var i=0,ii=names.length;i<ii;i++){if(isDefined(value=jqLite.data(element,names[i])))return value}element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){jqLiteDealoc(element,true);while(element.firstChild){element.removeChild(element.firstChild)}}function jqLiteRemove(element,keepData){if(!keepData)jqLiteDealoc(element);var parent=element.parentNode;if(parent)parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window;if(win.document.readyState==="complete"){win.setTimeout(action)}else{jqLite(win).on("load",action)}}function jqLiteReady(fn){function trigger(){window.document.removeEventListener("DOMContentLoaded",trigger);window.removeEventListener("load",trigger);fn()}if(window.document.readyState==="complete"){window.setTimeout(fn)}else{window.document.addEventListener("DOMContentLoaded",trigger);window.addEventListener("load",trigger)}}var JQLitePrototype=JQLite.prototype={ready:jqLiteReady,toString:function(){var value=[];forEach(this,function(e){value.push(""+e)});return"["+value.join(", ")+"]"},eq:function(index){return index>=0?jqLite(this[index]):jqLite(this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice};var BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=true});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:function jqLiteCleanData(nodes){for(var i=0,ii=nodes.length;i<ii;i++){jqLiteRemoveData(nodes[i]);jqLiteOff(nodes[i])}}},function(fn,name){JQLite[name]=fn});forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){name=cssKebabToCamel(name);if(isDefined(value)){element.style[name]=value}else{return element.style[name]}},attr:function(element,name,value){var ret;var nodeType=element.nodeType;if(nodeType===NODE_TYPE_TEXT||nodeType===NODE_TYPE_ATTRIBUTE||nodeType===NODE_TYPE_COMMENT||!element.getAttribute){return}var lowercasedName=lowercase(name);var isBooleanAttr=BOOLEAN_ATTR[lowercasedName];if(isDefined(value)){if(value===null||value===false&&isBooleanAttr){element.removeAttribute(name)}else{element.setAttribute(name,isBooleanAttr?lowercasedName:value)}}else{ret=element.getAttribute(name);if(isBooleanAttr&&ret!==null){ret=lowercasedName}return ret===null?undefined:ret}},prop:function(element,name,value){if(isDefined(value)){element[name]=value}else{return element[name]}},text:function(){getText.$dv="";return getText;function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&nodeName_(element)==="select"){var result=[];forEach(element.options,function(option){if(option.selected){result.push(option.value||option.text)}});return result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value)){return element.innerHTML}jqLiteDealoc(element,true);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;var nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(fn.length===2&&(fn!==jqLiteHasClass&&fn!==jqLiteController)?arg1:arg2)){if(isObject(arg1)){for(i=0;i<nodeCount;i++){if(fn===jqLiteData){fn(this[i],arg1)}else{for(key in arg1){fn(this[i],key,arg1[key])}}}return this}else{var value=fn.$dv;var jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount;for(var j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}}else{for(i=0;i<nodeCount;i++){fn(this[i],arg1,arg2)}return this}}});function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type];var eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=true;if(event.stopPropagation){event.stopPropagation()}if(originalStopImmediatePropagation){originalStopImmediatePropagation.call(event)}}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===true};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;if(eventFnsLength>1){eventFns=shallowCopy(eventFns)}for(var i=0;i<eventFnsLength;i++){if(!event.isImmediatePropagationStopped()){handlerWrapper(element,event,eventFns[i])}}};eventHandler.elem=element;return eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;if(!related||related!==target&&!jqLiteContains.call(target,related)){handler.call(target,event)}}forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!jqLiteAcceptsData(element)){return}var expandoStore=jqLiteExpandoStore(element,true);var events=expandoStore.events;var handle=expandoStore.handle;if(!handle){handle=expandoStore.handle=createEventHandler(element,events)}var types=type.indexOf(" ")>=0?type.split(" "):[type];var i=types.length;var addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];if(!eventFns){eventFns=events[type]=[];eventFns.specialHandlerWrapper=specialHandlerWrapper;if(type!=="$destroy"&&!noEventListener){element.addEventListener(type,handle)}}eventFns.push(fn)};while(i--){type=types[i];if(MOUSE_EVENT_MAP[type]){addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper);addHandler(type,undefined,true)}else{addHandler(type)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn)});element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);forEach(new JQLite(replaceNode),function(node){if(index){parent.insertBefore(node,index.nextSibling)}else{parent.replaceChild(node,element)}index=node})},children:function(element){var children=[];forEach(element.childNodes,function(element){if(element.nodeType===NODE_TYPE_ELEMENT){children.push(element)}});return children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,true)},after:function(element,newElement){var index=element,parent=element.parentNode;if(parent){newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node}}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){if(selector){forEach(selector.split(" "),function(className){var classCondition=condition;if(isUndefined(classCondition)){classCondition=!jqLiteHasClass(element,className)}(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})}},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){if(element.getElementsByTagName){return element.getElementsByTagName(selector)}else{return[]}},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs;var eventName=event.type||event;var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var eventFns=events&&events[eventName];if(eventFns){dummyEvent={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:noop,type:eventName,target:element};if(event.type){dummyEvent=extend(dummyEvent,event)}eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){if(!dummyEvent.isImmediatePropagationStopped()){fn.apply(element,handlerArgs)}})}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value;for(var i=0,ii=this.length;i<ii;i++){if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);if(isDefined(value)){value=jqLite(value)}}else{jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3))}}return isDefined(value)?value:this}});JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off;function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){if(node.attr)node=node[0];return jqLiteHasClass(node,classes)},addClass:function(node,classes){if(node.attr)node=node[0];return jqLiteAddClass(node,classes)},removeClass:function(node,classes){if(node.attr)node=node[0];return jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key){if(typeof key==="function"){key=obj.$$hashKey()}return key}var objType=typeof obj;if(objType==="function"||objType==="object"&&obj!==null){key=obj.$$hashKey=objType+":"+(nextUidFn||nextUid)()}else{key=objType+":"+obj}return key}var nanKey=Object.create(null);function NgMapShim(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}NgMapShim.prototype={_idx:function(key){if(key!==this._lastKey){this._lastKey=key;this._lastIndex=this._keys.indexOf(key)}return this._lastIndex},_transformKey:function(key){return isNumberNaN(key)?nanKey:key},get:function(key){key=this._transformKey(key);var idx=this._idx(key);if(idx!==-1){return this._values[idx]}},has:function(key){key=this._transformKey(key);var idx=this._idx(key);return idx!==-1},set:function(key,value){key=this._transformKey(key);var idx=this._idx(key);if(idx===-1){idx=this._lastIndex=this._keys.length}this._keys[idx]=key;this._values[idx]=value},delete:function(key){key=this._transformKey(key);var idx=this._idx(key);if(idx===-1){return false}this._keys.splice(idx,1);this._values.splice(idx,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var NgMap=NgMapShim;var $$MapProvider=[function(){this.$get=[function(){return NgMap}]}];var ARROW_ARG=/^([^(]+?)=>/;var FN_ARGS=/^[^(]*\(\s*([^)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var $injectorMinErr=minErr("$injector");function stringifyFn(fn){return Function.prototype.toString.call(fn)}function extractArgs(fn){var fnText=stringifyFn(fn).replace(STRIP_COMMENTS,""),args=fnText.match(ARROW_ARG)||fnText.match(FN_ARGS);return args}function anonFn(fn){var args=extractArgs(fn);if(args){return"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function annotate(fn,strictDi,name){var $inject,argDecl,last;if(typeof fn==="function"){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){if(!isString(name)||!name){name=fn.name||anonFn(fn)}throw $injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name)}argDecl=extractArgs(fn);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],"fn");$inject=fn.slice(0,last)}else{assertArgFn(fn,"fn",true)}return $inject}function createInjector(modulesToLoad,strictDi){strictDi=strictDi===true;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new NgMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){if(angular.isString(caller)){path.push(caller)}throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},protoInstanceInjector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)}),instanceInjector=protoInstanceInjector;providerCache["$injector"+providerSuffix]={$get:valueFn(protoInstanceInjector)};instanceInjector.modules=providerInjector.modules=createMap();var runBlocks=loadModules(modulesToLoad);instanceInjector=protoInstanceInjector.get("$injector");instanceInjector.strictDi=strictDi;forEach(runBlocks,function(fn){if(fn)instanceInjector.invoke(fn)});instanceInjector.loadNewModules=function(mods){forEach(loadModules(mods),function(fn){if(fn)instanceInjector.invoke(fn)})};return instanceInjector;function supportObject(delegate){return function(key,value){if(isObject(key)){forEach(key,reverseParams(delegate))}else{return delegate(key,value)}}}function provider(name,provider_){assertNotHasOwnProperty(name,"service");if(isFunction(provider_)||isArray(provider_)){provider_=providerInjector.instantiate(provider_)}if(!provider_.$get){throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name)}return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result)){throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name)}return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==false?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),false)}function constant(name,value){assertNotHasOwnProperty(name,"constant");providerCache[name]=value;instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var runBlocks=[],moduleFn;forEach(modulesToLoad,function(module){if(loadedModules.get(module))return;loadedModules.set(module,true);function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}try{if(isString(module)){moduleFn=angularModule(module);instanceInjector.modules[module]=moduleFn;runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks)}else if(isFunction(module)){runBlocks.push(providerInjector.invoke(module))}else if(isArray(module)){runBlocks.push(providerInjector.invoke(module))}else{assertArgFn(module,"module")}}catch(e){if(isArray(module)){module=module[module.length-1]}if(e.message&&e.stack&&e.stack.indexOf(e.message)===-1){e=e.message+"\n"+e.stack}throw $injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}});return runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING){throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "))}return cache[serviceName]}else{try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;cache[serviceName]=factory(serviceName,caller);return cache[serviceName]}catch(err){if(cache[serviceName]===INSTANTIATING){delete cache[serviceName]}throw err}finally{path.shift()}}}function injectionArgs(fn,locals,serviceName){var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(var i=0,length=$inject.length;i<length;i++){var key=$inject[i];if(typeof key!=="string"){throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key)}args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return args}function isClass(func){if(msie||typeof func!=="function"){return false}var result=func.$$ngIsClass;if(!isBoolean(result)){result=func.$$ngIsClass=/^class\b/.test(stringifyFn(func))}return result}function invoke(fn,self,locals,serviceName){if(typeof locals==="string"){serviceName=locals;locals=null}var args=injectionArgs(fn,locals,serviceName);if(isArray(fn)){fn=fn[fn.length-1]}if(!isClass(fn)){return fn.apply(self,args)}else{args.unshift(null);return new(Function.prototype.bind.apply(fn,args))}}function instantiate(Type,locals,serviceName){var ctor=isArray(Type)?Type[Type.length-1]:Type;var args=injectionArgs(Type,locals,serviceName);args.unshift(null);return new(Function.prototype.bind.apply(ctor,args))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}}createInjector.$$annotate=annotate;function $AnchorScrollProvider(){var autoScrollingEnabled=true;this.disableAutoScrolling=function(){autoScrollingEnabled=false};this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){var document=$window.document;function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if(nodeName_(element)==="a"){result=element;return true}});return result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset)){offset=offset()}else if(isElement(offset)){var elem=offset[0];var style=$window.getComputedStyle(elem);if(style.position!=="fixed"){offset=0}else{offset=elem.getBoundingClientRect().bottom}}else if(!isNumber(offset)){offset=0}return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else{$window.scrollTo(0,0)}}function scroll(hash){hash=isString(hash)?hash:isNumber(hash)?hash.toString():$location.hash();var elm;if(!hash)scrollTo(null);else if(elm=document.getElementById(hash))scrollTo(elm);else if(elm=getFirstAnchor(document.getElementsByName(hash)))scrollTo(elm);else if(hash==="top")scrollTo(null)}if(autoScrollingEnabled){$rootScope.$watch(function autoScrollWatch(){return $location.hash()},function autoScrollWatchAction(newVal,oldVal){if(newVal===oldVal&&newVal==="")return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})})}return scroll}]}var $animateMinErr=minErr("$animate");var ELEMENT_NODE=1;var NG_ANIMATE_CLASSNAME="ng-animate";function mergeClasses(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(isArray(a))a=a.join(" ");if(isArray(b))b=b.join(" ");return a+" "+b}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE){return elm}}}function splitClasses(classes){if(isString(classes)){classes=classes.split(" ")}var obj=createMap();forEach(classes,function(klass){if(klass.length){obj[klass]=true}});return obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}var $$CoreAnimateJsProvider=function(){this.$get=noop};var $$CoreAnimateQueueProvider=function(){var postDigestQueue=new NgMap;var postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){if(domOperation){domOperation()}options=options||{};if(options.from){element.css(options.from)}if(options.to){element.css(options.to)}if(options.addClass||options.removeClass){addRemoveClassesPostDigest(element,options.addClass,options.removeClass)}var runner=new $$AnimateRunner;runner.complete();return runner}};function updateData(data,classes,value){var changed=false;if(classes){classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[];forEach(classes,function(className){if(className){changed=true;data[className]=value}})}return changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class"));var toAdd="";var toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];if(status!==hasClass){if(status){toAdd+=(toAdd.length?" ":"")+className}else{toRemove+=(toRemove.length?" ":"")+className}}});forEach(element,function(elm){if(toAdd){jqLiteAddClass(elm,toAdd)}if(toRemove){jqLiteRemoveClass(elm,toRemove)}});postDigestQueue.delete(element)}});postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{};var classesAdded=updateData(data,add,true);var classesRemoved=updateData(data,remove,false);if(classesAdded||classesRemoved){postDigestQueue.set(element,data);postDigestElements.push(element);if(postDigestElements.length===1){$rootScope.$$postDigest(handleCSSClassChanges)}}}}]};var $AnimateProvider=["$provide",function($provide){var provider=this;var classNameFilter=null;var customFilter=null;this.$$registeredAnimations=Object.create(null);this.register=function(name,factory){if(name&&name.charAt(0)!=="."){throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name)}var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key;$provide.factory(key,factory)};this.customFilter=function(filterFn){if(arguments.length===1){customFilter=isFunction(filterFn)?filterFn:null}return customFilter};this.classNameFilter=function(expression){if(arguments.length===1){classNameFilter=expression instanceof RegExp?expression:null;if(classNameFilter){var reservedRegex=new RegExp("[(\\s|\\/)]"+NG_ANIMATE_CLASSNAME+"[(\\s|\\/)]");if(reservedRegex.test(classNameFilter.toString())){classNameFilter=null;throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}}}return classNameFilter};this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);if(afterNode&&!afterNode.parentNode&&!afterNode.previousElementSibling){afterElement=null}}if(afterElement){afterElement.after(element)}else{parentElement.prepend(element)}}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){if(runner.cancel){runner.cancel()}},enter:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addclass,className);return $$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){options=prepareAnimateOptions(options);options.removeClass=mergeClasses(options.removeClass,className);return $$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addClass,add);options.removeClass=mergeClasses(options.removeClass,remove);return $$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){options=prepareAnimateOptions(options);options.from=options.from?extend(options.from,from):from;options.to=options.to?extend(options.to,to):to;className=className||"ng-inline-animate";options.tempClasses=mergeClasses(options.tempClasses,className);return $$animateQueue.push(element,"animate",options)}}}]}];var $$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){var waitQueue=[];function waitForTick(fn){waitQueue.push(fn);if(waitQueue.length>1)return;$$rAF(function(){for(var i=0;i<waitQueue.length;i++){waitQueue[i]()}waitQueue=[]})}return function(){var passed=false;waitForTick(function(){passed=true});return function(callback){if(passed){callback()}else{waitForTick(callback)}}}}]};var $$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function($q,$sniffer,$$animateAsyncRun,$$isDocumentHidden,$timeout){var INITIAL_STATE=0;var DONE_PENDING_STATE=1;var DONE_COMPLETE_STATE=2;AnimateRunner.chain=function(chain,callback){var index=0;next();function next(){if(index===chain.length){callback(true);return}chain[index](function(response){if(response===false){callback(false);return}index++;next()})}};AnimateRunner.all=function(runners,callback){var count=0;var status=true;forEach(runners,function(runner){runner.done(onProgress)});function onProgress(response){status=status&&response;if(++count===runners.length){callback(status)}}};function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun();var timeoutTick=function(fn){$timeout(fn,0,false)};this._doneCallbacks=[];this._tick=function(fn){if($$isDocumentHidden()){timeoutTick(fn)}else{rafTick(fn)}};this._state=0}AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){if(this._state===DONE_COMPLETE_STATE){fn()}else{this._doneCallbacks.push(fn)}},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){if(status===false){reject()}else{resolve()}})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},catch:function(handler){return this.getPromise()["catch"](handler)},finally:function(handler){return this.getPromise()["finally"](handler)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(response){var self=this;if(self._state===INITIAL_STATE){self._state=DONE_PENDING_STATE;self._tick(function(){self._resolve(response)})}},_resolve:function(response){if(this._state!==DONE_COMPLETE_STATE){forEach(this._doneCallbacks,function(fn){fn(response)});this._doneCallbacks.length=0;this._state=DONE_COMPLETE_STATE}}};return AnimateRunner}]};var $CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){var options=initialOptions||{};if(!options.$$prepared){options=copy(options)}if(options.cleanupStyles){options.from=options.to=null}if(options.from){element.css(options.from);options.from=null}var closed,runner=new $$AnimateRunner;return{start:run,end:run};function run(){$$rAF(function(){applyAnimationContents();if(!closed){runner.complete()}closed=true});return runner}function applyAnimationContents(){if(options.addClass){element.addClass(options.addClass);options.addClass=null}if(options.removeClass){element.removeClass(options.removeClass);options.removeClass=null}if(options.to){element.css(options.to);options.to=null}}}}]};function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}function trimEmptyHash(url){return url.replace(/#$/,"")}function Browser(window,document,$log,$sniffer,$$taskTrackerFactory){var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={},taskTracker=$$taskTrackerFactory($log);self.isMock=false;self.$$completeOutstandingRequest=taskTracker.completeTask;self.$$incOutstandingRequestCount=taskTracker.incTaskCount;self.notifyWhenNoOutstandingRequests=taskTracker.notifyWhenNoPendingTasks;var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null,getCurrentState=!$sniffer.history?noop:function getCurrentState(){try{return history.state}catch(e){}};cacheState();self.url=function(url,replace,state){if(isUndefined(state)){state=null}if(location!==window.location)location=window.location;if(history!==window.history)history=window.history;if(url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState)){return self}var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if($sniffer.history&&(!sameBase||!sameState)){history[replace?"replaceState":"pushState"](state,"",url);cacheState()}else{if(!sameBase){pendingLocation=url}if(replace){location.replace(url)}else if(!sameBase){location.href=url}else{location.hash=getHash(url)}if(location.href!==url){pendingLocation=url}}if(pendingLocation){pendingLocation=url}return self}else{return trimEmptyHash(pendingLocation||location.href)}};self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=false;function cacheStateAndFireUrlChange(){pendingLocation=null;fireStateOrUrlChange()}var lastCachedState=null;function cacheState(){cachedState=getCurrentState();cachedState=isUndefined(cachedState)?null:cachedState;if(equals(cachedState,lastCachedState)){cachedState=lastCachedState}lastCachedState=cachedState;lastHistoryState=cachedState}function fireStateOrUrlChange(){var prevLastHistoryState=lastHistoryState;cacheState();if(lastBrowserUrl===self.url()&&prevLastHistoryState===cachedState){return}lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)})}self.onUrlChange=function(callback){if(!urlChangeInit){if($sniffer.history)jqLite(window).on("popstate",cacheStateAndFireUrlChange);jqLite(window).on("hashchange",cacheStateAndFireUrlChange);urlChangeInit=true}urlChangeListeners.push(callback);return callback};self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)};self.$$checkUrlChange=fireStateOrUrlChange;self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?:)?\/\/[^/]*/,""):""};self.defer=function(fn,delay,taskType){var timeoutId;delay=delay||0;taskType=taskType||taskTracker.DEFAULT_TASK_TYPE;taskTracker.incTaskCount(taskType);timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];taskTracker.completeTask(fn,taskType)},delay);pendingDeferIds[timeoutId]=taskType;return timeoutId};self.defer.cancel=function(deferId){if(pendingDeferIds.hasOwnProperty(deferId)){var taskType=pendingDeferIds[deferId];delete pendingDeferIds[deferId];clearTimeout(deferId);taskTracker.completeTask(noop,taskType);return true}return false}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function($window,$log,$sniffer,$document,$$taskTrackerFactory){return new Browser($window,$document,$log,$sniffer,$$taskTrackerFactory)}]}function $CacheFactoryProvider(){this.$get=function(){var caches={};function cacheFactory(cacheId,options){if(cacheId in caches){throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId)}var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(isUndefined(value))return;if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!(key in data))size++;data[key]=value;if(size>capacity){this.remove(staleEnd.key)}return value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;if(lruEntry===freshEnd)freshEnd=lruEntry.p;if(lruEntry===staleEnd)staleEnd=lruEntry.n;link(lruEntry.n,lruEntry.p);delete lruHash[key]}if(!(key in data))return;delete data[key];size--},removeAll:function(){data=createMap();size=0;lruHash=createMap();freshEnd=staleEnd=null},destroy:function(){data=null;stats=null;lruHash=null;delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}};function refresh(entry){if(entry!==freshEnd){if(!staleEnd){staleEnd=entry}else if(staleEnd===entry){staleEnd=entry.n}link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null}}function link(nextEntry,prevEntry){if(nextEntry!==prevEntry){if(nextEntry)nextEntry.p=prevEntry;if(prevEntry)prevEntry.n=nextEntry}}}cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()});return info};cacheFactory.get=function(cacheId){return caches[cacheId]};return cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}var $compileMinErr=minErr("$compile");function UNINITIALIZED_VALUE(){}var _UNINITIALIZED_VALUE=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive:\s*([\w-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w-]+)(?::([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;var bindingCache=createMap();function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/;var bindings=createMap();forEach(scope,function(definition,scopeName){definition=definition.trim();if(definition in bindingCache){bindings[scopeName]=bindingCache[definition];return}var match=definition.match(LOCAL_REGEXP);if(!match){throw $compileMinErr("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition")}bindings[scopeName]={mode:match[1][0],collection:match[2]==="*",optional:match[3]==="?",attrName:match[4]||scopeName};if(match[4]){bindingCache[definition]=bindings[scopeName]}});return bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)){if(directive.bindToController===true){bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,true);bindings.isolateScope={}}else{bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,false)}}if(isObject(directive.bindToController)){bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,true)}if(bindings.bindToController&&!directive.controller){throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName)}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter)){throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",name)}if(name!==name.trim()){throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}}function getDirectiveRequire(directive){var require=directive.require||directive.controller&&directive.name;if(!isArray(require)&&isObject(require)){forEach(require,function(value,key){var match=value.match(REQUIRE_PREFIX_REGEXP);var name=value.substring(match[0].length);if(!name)require[key]=match[0]+key})}return require}function getDirectiveRestrict(restrict,name){if(restrict&&!(isString(restrict)&&/[EACM]/.test(restrict))){throw $compileMinErr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",restrict,name)}return restrict||"EA"}this.directive=function registerDirective(name,directiveFactory){assertArg(name,"name");assertNotHasOwnProperty(name,"directive");if(isString(name)){assertValidDirectiveName(name);assertArg(directiveFactory,"directiveFactory");if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);if(isFunction(directive)){directive={compile:valueFn(directive)}}else if(!directive.compile&&directive.link){directive.compile=valueFn(directive.link)}directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=getDirectiveRequire(directive);directive.restrict=getDirectiveRestrict(directive.restrict,name);directive.$$moduleName=directiveFactory.$$moduleName;directives.push(directive)}catch(e){$exceptionHandler(e)}});return directives}])}hasDirectives[name].push(directiveFactory)}else{forEach(name,reverseParams(registerDirective))}return this};this.component=function registerComponent(name,options){if(!isString(name)){forEach(name,reverseParams(bind(this,registerComponent)));return this}var controller=options.controller||function(){};function factory($injector){function makeInjectable(fn){if(isFunction(fn)||isArray(fn)){return function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs})}}else{return fn}}var template=!options.template&&!options.templateUrl?"":options.template;var ddo={controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||"$ctrl",template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,scope:{},bindToController:options.bindings||{},restrict:"E",require:options.require};forEach(options,function(val,key){if(key.charAt(0)==="$")ddo[key]=val});return ddo}forEach(options,function(val,key){if(key.charAt(0)==="$"){factory[key]=val;if(isFunction(controller))controller[key]=val}});factory.$inject=["$injector"];return this.directive(name,factory)};this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp);return this}else{return $$sanitizeUriProvider.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp);return this}else{return $$sanitizeUriProvider.imgSrcSanitizationWhitelist()}};var debugInfoEnabled=true;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this}return debugInfoEnabled};var strictComponentBindingsEnabled=false;this.strictComponentBindingsEnabled=function(enabled){if(isDefined(enabled)){strictComponentBindingsEnabled=enabled;return this}return strictComponentBindingsEnabled};var TTL=10;this.onChangesTtl=function(value){if(arguments.length){TTL=value;return this}return TTL};var commentDirectivesEnabledConfig=true;this.commentDirectivesEnabled=function(value){if(arguments.length){commentDirectivesEnabledConfig=value;return this}return commentDirectivesEnabledConfig};var cssClassDirectivesEnabledConfig=true;this.cssClassDirectivesEnabled=function(value){if(arguments.length){cssClassDirectivesEnabledConfig=value;return this}return cssClassDirectivesEnabledConfig};var PROP_CONTEXTS=createMap();this.addPropertySecurityContext=function(elementName,propertyName,ctx){var key=elementName.toLowerCase()+"|"+propertyName.toLowerCase();if(key in PROP_CONTEXTS&&PROP_CONTEXTS[key]!==ctx){throw $compileMinErr("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",elementName,propertyName,PROP_CONTEXTS[key],ctx)}PROP_CONTEXTS[key]=ctx;return this};(function registerNativePropertyContexts(){function registerContext(ctx,values){forEach(values,function(v){PROP_CONTEXTS[v.toLowerCase()]=ctx})}registerContext(SCE_CONTEXTS.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]);registerContext(SCE_CONTEXTS.CSS,["*|style"]);registerContext(SCE_CONTEXTS.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]);registerContext(SCE_CONTEXTS.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]);registerContext(SCE_CONTEXTS.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})();this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate){var SIMPLE_ATTR_NAME=/^\w/;var specialAttrHolder=window.document.createElement("div");var commentDirectivesEnabled=commentDirectivesEnabledConfig;var cssClassDirectivesEnabled=cssClassDirectivesEnabledConfig;var onChangesTtl=TTL;var onChangesQueue;function flushOnChangesQueue(){try{if(!--onChangesTtl){onChangesQueue=undefined;throw $compileMinErr("infchng","{0} $onChanges() iterations reached. Aborting!\n",TTL)}$rootScope.$apply(function(){for(var i=0,ii=onChangesQueue.length;i<ii;++i){try{onChangesQueue[i]()}catch(e){$exceptionHandler(e)}}onChangesQueue=undefined})}finally{onChangesTtl++}}function sanitizeSrcset(value,invokeType){if(!value){return value}if(!isString(value)){throw $compileMinErr("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',invokeType,value.toString())}var result="";var trimmedSrcset=trim(value);var srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;var rawUris=trimmedSrcset.split(pattern);var nbrUrisWith2parts=Math.floor(rawUris.length/2);for(var i=0;i<nbrUrisWith2parts;i++){var innerIdx=i*2;result+=$sce.getTrustedMediaUrl(trim(rawUris[innerIdx]));result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[i*2]).split(/\s/);result+=$sce.getTrustedMediaUrl(trim(lastTuple[0]));if(lastTuple.length===2){result+=" "+trim(lastTuple[1])}return result}function Attributes(element,attributesToCopy){if(attributesToCopy){var keys=Object.keys(attributesToCopy);var i,l,key;for(i=0,l=keys.length;i<l;i++){key=keys[i];this[key]=attributesToCopy[key]}}else{this.$attr={}}this.$$element=element}Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){if(classVal&&classVal.length>0){$animate.addClass(this.$$element,classVal)}},$removeClass:function(classVal){if(classVal&&classVal.length>0){$animate.removeClass(this.$$element,classVal)}},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);if(toAdd&&toAdd.length){$animate.addClass(this.$$element,toAdd)}var toRemove=tokenDifference(oldClasses,newClasses);if(toRemove&&toRemove.length){$animate.removeClass(this.$$element,toRemove)}},$set:function(key,value,writeAttr,attrName){var node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key,nodeName;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey}this[key]=value;if(attrName){this.$attr[key]=attrName}else{attrName=this.$attr[key];if(!attrName){this.$attr[key]=attrName=snake_case(key,"-")}}nodeName=nodeName_(this.$$element);if(nodeName==="img"&&key==="srcset"){this[key]=value=sanitizeSrcset(value,"$set('srcset', value)")}if(writeAttr!==false){if(value===null||isUndefined(value)){this.$$element.removeAttr(attrName)}else{if(SIMPLE_ATTR_NAME.test(attrName)){this.$$element.attr(attrName,value)}else{setSpecialAttr(this.$$element[0],attrName,value)}}}var $$observers=this.$$observers;if($$observers){forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})}},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);listeners.push(fn);$rootScope.$evalAsync(function(){if(!listeners.$$inter&&attrs.hasOwnProperty(key)&&!isUndefined(attrs[key])){fn(attrs[key])}});return function(){arrayRemove(listeners,fn)}}};function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="<span "+attrName+">";var attributes=specialAttrHolder.firstChild.attributes;var attribute=attributes[0];attributes.removeNamedItem(attribute.name);attribute.value=value;element.attributes.setNamedItem(attribute)}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate=startSymbol==="{{"&&endSymbol==="}}"?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_PREFIX_BINDING=/^ng(Attr|Prop|On)([A-Z].*)$/;var MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;compile.$$addBindingInfo=debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data("$binding")||[];if(isArray(binding)){bindings=bindings.concat(binding)}else{bindings.push(binding)}$element.data("$binding",bindings)}:noop;compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,"ng-binding")}:noop;compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop;compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop;compile.$$createComment=function(directiveName,comment){var content="";if(debugInfoEnabled){content=" "+(directiveName||"")+": ";if(comment)content+=comment+" "}return window.document.createComment(content)};return compile;function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){if(!($compileNodes instanceof jqLite)){$compileNodes=jqLite($compileNodes)}var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){if(!$compileNodes){throw $compileMinErr("multilink","This element has already been linked.")}assertArg(scope,"scope");if(previousCompileContext&&previousCompileContext.needsNewScope){scope=scope.$parent.$new()}options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude){parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude}if(!namespace){namespace=detectNamespaceForChildElements(futureParentElement)}var $linkNode;if(namespace!=="html"){$linkNode=jqLite(wrapTemplate(namespace,jqLite("<div></div>").append($compileNodes).html()))}else if(cloneConnectFn){$linkNode=JQLitePrototype.clone.call($compileNodes)}else{$linkNode=$compileNodes}if(transcludeControllers){for(var controllerName in transcludeControllers){$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance)}}compile.$$addScopeInfo($linkNode,scope);if(cloneConnectFn)cloneConnectFn($linkNode,scope);if(compositeLinkFn)compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);if(!cloneConnectFn){$compileNodes=compositeLinkFn=null}return $linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];if(!node){return"html"}else{return nodeName_(node)!=="foreignobject"&&toString.call(node).match(/SVG/)?"svg":"html"}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){var linkFns=[],notLiveList=isArray(nodeList)||nodeList instanceof jqLite,attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound;for(var i=0;i<nodeList.length;i++){attrs=new Attributes;if(msie===11){mergeConsecutiveTextNodes(nodeList,i,notLiveList)}directives=collectDirectives(nodeList[i],[],attrs,i===0?maxPriority:undefined,ignoreDirective);nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;if(nodeLinkFn&&nodeLinkFn.scope){compile.$$addScopeClass(attrs.$$element)}childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=true;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn}previousCompileContext=null}return linkFnFound?compositeLinkFn:null;function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn;var stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx]}}else{stableNodeList=nodeList}for(i=0,ii=linkFns.length;i<ii;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope)}else{childScope=scope}if(nodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn)}else if(!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn){childBoundTranscludeFn=parentBoundTranscludeFn}else if(!parentBoundTranscludeFn&&transcludeFn){childBoundTranscludeFn=createBoundTranscludeFn(scope,transcludeFn)}else{childBoundTranscludeFn=null}nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)}else if(childLinkFn){childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}}}}function mergeConsecutiveTextNodes(nodeList,idx,notLiveList){var node=nodeList[idx];var parent=node.parentNode;var sibling;if(node.nodeType!==NODE_TYPE_TEXT){return}while(true){sibling=parent?node.nextSibling:nodeList[idx+1];if(!sibling||sibling.nodeType!==NODE_TYPE_TEXT){break}node.nodeValue=node.nodeValue+sibling.nodeValue;if(sibling.parentNode){sibling.parentNode.removeChild(sibling)}if(notLiveList&&sibling===nodeList[idx+1]){nodeList.splice(idx+1,1)}}}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(false,containingScope);transcludedScope.$$transcluded=true}return transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})}var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots){if(transcludeFn.$$slots[slotName]){boundSlots[slotName]=createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn)}else{boundSlots[slotName]=null}}return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var nodeType=node.nodeType,attrsMap=attrs.$attr,match,nodeName,className;switch(nodeType){case NODE_TYPE_ELEMENT:nodeName=nodeName_(node);addDirective(directives,directiveNormalize(nodeName),"E",maxPriority,ignoreDirective);for(var attr,name,nName,value,ngPrefixMatch,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=false;var attrEndName=false;var isNgAttr=false,isNgProp=false,isNgEvent=false;var multiElementMatch;attr=nAttrs[j];name=attr.name;value=attr.value;nName=directiveNormalize(name.toLowerCase());if(ngPrefixMatch=nName.match(NG_PREFIX_BINDING)){isNgAttr=ngPrefixMatch[1]==="Attr";isNgProp=ngPrefixMatch[1]==="Prop";isNgEvent=ngPrefixMatch[1]==="On";name=name.replace(PREFIX_REGEXP,"").toLowerCase().substr(4+ngPrefixMatch[1].length).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()})}else if((multiElementMatch=nName.match(MULTI_ELEMENT_DIR_RE))&&directiveIsMultiElement(multiElementMatch[1])){attrStartName=name;attrEndName=name.substr(0,name.length-5)+"end";name=name.substr(0,name.length-6)}if(isNgProp||isNgEvent){attrs[nName]=value;attrsMap[nName]=attr.name;if(isNgProp){addPropertyDirective(node,directives,nName,name)}else{addEventDirective(directives,nName,name)}}else{nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;if(getBooleanAttrName(node,nName)){attrs[nName]=true}}addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}}if(nodeName==="input"&&node.getAttribute("type")==="hidden"){node.setAttribute("autocomplete","off")}if(!cssClassDirectivesEnabled)break;className=node.className;if(isObject(className)){className=className.animVal}if(isString(className)&&className!==""){while(match=CLASS_DIRECTIVE_REGEXP.exec(className)){nName=directiveNormalize(match[2]);if(addDirective(directives,nName,"C",maxPriority,ignoreDirective)){attrs[nName]=trim(match[3])}className=className.substr(match.index+match[0].length)}}break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:if(!commentDirectivesEnabled)break;collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective);break}directives.sort(byPriority);return directives}function collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective){try{var match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){var nName=directiveNormalize(match[1]);if(addDirective(directives,nName,"M",maxPriority,ignoreDirective)){attrs[nName]=trim(match[2])}}}catch(e){}}function groupScan(node,attrStart,attrEnd){var nodes=[];var depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node){throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd)}if(node.nodeType===NODE_TYPE_ELEMENT){if(node.hasAttribute(attrStart))depth++;if(node.hasAttribute(attrEnd))depth--}nodes.push(node);node=node.nextSibling}while(depth>0)}else{nodes.push(node)}return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function groupedElementsLink(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,element,attrs,controllers,transcludeFn)}}function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;if(eager){return compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext)}return function lazyCompilation(){if(!compiled){compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);$compileNodes=transcludeFn=previousCompileContext=null}return compiled.apply(this,arguments)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){previousCompileContext=previousCompileContext||{};var terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=false,hasTemplate=false,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),directive,directiveName,$template,replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,linkFn,didScanForMultipleTransclusion=false,mightHaveMultipleTransclusionError=false,directiveValue;for(var i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start;var attrEnd=directive.$$end;if(attrStart){$compileNode=groupScan(compileNode,attrStart,attrEnd)}$template=undefined;if(terminalPriority>directive.priority){break}directiveValue=directive.scope;if(directiveValue){if(!directive.templateUrl){if(isObject(directiveValue)){assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive}else{assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)}}newScopeDirective=newScopeDirective||directive}directiveName=directive.name;if(!didScanForMultipleTransclusion&&(directive.replace&&(directive.templateUrl||directive.template)||directive.transclude&&!directive.$$tlb)){var candidateDirective;for(var scanningIndex=i+1;candidateDirective=directives[scanningIndex++];){if(candidateDirective.transclude&&!candidateDirective.$$tlb||candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template)){mightHaveMultipleTransclusionError=true;break}}didScanForMultipleTransclusion=true}if(!directive.templateUrl&&directive.controller){controllerDirectives=controllerDirectives||createMap();assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive}directiveValue=directive.transclude;if(directiveValue){hasTranscludeDirective=true;if(!directive.$$tlb){assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=directive}if(directiveValue==="element"){hasElementTranscludeDirective=true;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName]));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})}else{var slots=createMap();if(!isObject(directiveValue)){$template=jqLite(jqLiteClone(compileNode)).contents()}else{$template=window.document.createDocumentFragment();var slotMap=createMap();var filledSlots=createMap();forEach(directiveValue,function(elementSelector,slotName){var optional=elementSelector.charAt(0)==="?";elementSelector=optional?elementSelector.substring(1):elementSelector;slotMap[elementSelector]=slotName;slots[slotName]=null;filledSlots[slotName]=optional});forEach($compileNode.contents(),function(node){var slotName=slotMap[directiveNormalize(nodeName_(node))];if(slotName){filledSlots[slotName]=true;slots[slotName]=slots[slotName]||window.document.createDocumentFragment();slots[slotName].appendChild(node)}else{$template.appendChild(node)}});forEach(filledSlots,function(filled,slotName){if(!filled){throw $compileMinErr("reqslot","Required transclusion slot `{0}` was not filled.",slotName)}});for(var slotName in slots){if(slots[slotName]){var slotCompileNodes=jqLite(slots[slotName].childNodes);slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,slotCompileNodes,transcludeFn)}}$template=jqLite($template.childNodes)}$compileNode.empty();childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope});childTranscludeFn.$$slots=slots}}if(directive.template){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;if(jqLiteIsTextNode(directiveValue)){$template=[]}else{$template=removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)))}compileNode=$template[0];if($template.length!==1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"")}replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}};var templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);var unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));if(newIsolateScopeDirective||newScopeDirective){markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective)}directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length}else{$compileNode.html(directiveValue)}}if(directive.templateUrl){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;if(directive.replace){replaceDirective=directive}nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective});ii=directives.length}else if(directive.compile){try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);var context=directive.$$originalDirective||directive;if(isFunction(linkFn)){addLinkFns(null,bind(context,linkFn),attrStart,attrEnd)}else if(linkFn){addLinkFns(bind(context,linkFn.pre),bind(context,linkFn.post),attrStart,attrEnd)}}catch(e){$exceptionHandler(e,startingTag($compileNode))}}if(directive.terminal){nodeLinkFn.terminal=true;terminalPriority=Math.max(terminalPriority,directive.priority)}}nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===true;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn;function addLinkFns(pre,post,attrStart,attrEnd){if(pre){if(attrStart)pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd);pre.require=directive.require;pre.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){pre=cloneAndAnnotateFn(pre,{isolateScope:true})}preLinkFns.push(pre)}if(post){if(attrStart)post=groupElementsLinkFnWrapper(post,attrStart,attrEnd);post.require=directive.require;post.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){post=cloneAndAnnotateFn(post,{isolateScope:true})}postLinkFns.push(post)}}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,scopeBindingInfo;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs)}controllerScope=scope;if(newIsolateScopeDirective){isolateScope=scope.$new(true)}else if(newScopeDirective){controllerScope=scope.$parent}if(boundTranscludeFn){transcludeFn=controllersBoundTransclude;transcludeFn.$$boundTransclude=boundTranscludeFn;transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName]}}if(controllerDirectives){elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective)}if(newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,true,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));compile.$$addScopeClass($element,true);isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings;scopeBindingInfo=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective);if(scopeBindingInfo.removeWatches){isolateScope.$on("$destroy",scopeBindingInfo.removeWatches)}}for(var name in elementControllers){var controllerDirective=controllerDirectives[name];var controller=elementControllers[name];var bindings=controllerDirective.$$bindings.bindToController;controller.instance=controller();$element.data("$"+controllerDirective.name+"Controller",controller.instance);controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective)}forEach(controllerDirectives,function(controllerDirective,name){var require=controllerDirective.require;if(controllerDirective.bindToController&&!isArray(require)&&isObject(require)){extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers))}});forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onChanges)){try{controllerInstance.$onChanges(controller.bindingInfo.initialChanges)}catch(e){$exceptionHandler(e)}}if(isFunction(controllerInstance.$onInit)){try{controllerInstance.$onInit()}catch(e){$exceptionHandler(e)}}if(isFunction(controllerInstance.$doCheck)){controllerScope.$watch(function(){controllerInstance.$doCheck()});controllerInstance.$doCheck()}if(isFunction(controllerInstance.$onDestroy)){controllerScope.$on("$destroy",function callOnDestroyHook(){controllerInstance.$onDestroy()})}});for(i=0,ii=preLinkFns.length;i<ii;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}var scopeToChild=scope;if(newIsolateScopeDirective&&(newIsolateScopeDirective.template||newIsolateScopeDirective.templateUrl===null)){scopeToChild=isolateScope}if(childLinkFn){childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn)}for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$postLink)){controllerInstance.$postLink()}});function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(!isScope(scope)){slotName=futureParentElement;futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined}if(hasElementTranscludeDirective){transcludeControllers=elementControllers}if(!futureParentElement){futureParentElement=hasElementTranscludeDirective?$element.parent():$element}if(slotName){var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn){return slotTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}else if(isUndefined(slotTranscludeFn)){throw $compileMinErr("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",slotName,startingTag($element))}}else{return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}}}}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP);var name=require.substring(match[0].length);var inheritType=match[1]||match[3];var optional=match[2]==="?";if(inheritType==="^^"){$element=$element.parent()}else{value=elementControllers&&elementControllers[name];value=value&&value.instance}if(!value){var dataName="$"+name+"Controller";if(inheritType==="^^"&&$element[0]&&$element[0].nodeType===NODE_TYPE_DOCUMENT){value=null}else{value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}}if(!value&&!optional){throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++){value[i]=getControllers(directiveName,require[i],$element,elementControllers)}}else if(isObject(require)){value={};forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers)})}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey];var locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};var controller=directive.controller;if(controller==="@"){controller=attrs[directive.name]}var controllerInstance=$controller(controller,locals,true,directive.controllerAs);elementControllers[directive.name]=controllerInstance;$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++){directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if((isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!==-1){if(startAttrName){directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})}if(!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);if(isObject(bindings.isolateScope)){directive.$$isolateBindings=bindings.isolateScope}}tDirectives.push(directive);match=directive}}}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if(directive.multiElement){return true}}}return false}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr;forEach(dst,function(value,key){if(key.charAt(0)!=="$"){if(src[key]&&src[key]!==value){if(value.length){value+=(key==="style"?";":" ")+src[key]}else{value=src[key]}}dst.$set(key,value,true,srcAttr[key])}});forEach(src,function(value,key){if(!dst.hasOwnProperty(key)&&key.charAt(0)!=="$"){dst[key]=value;if(key!=="class"&&key!=="style"){dstAttr[key]=srcAttr[key]}}})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var linkQueue=[],afterTemplateNodeLinkFn,afterTemplateChildLinkFn,beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;content=denormalizeTemplate(content);if(origAsyncDirective.replace){if(jqLiteIsTextNode(content)){$template=[]}else{$template=removeComments(wrapTemplate(templateNamespace,trim(content)))}compileNode=$template[0];if($template.length!==1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl)}tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope)){markDirectiveScope(templateDirectives,true)}directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content)}directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){if(node===compileNode){$rootElement[i]=$compileNode[0]}});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace)){linkNode=jqLiteClone(compileNode)}replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses)}if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)}else{childBoundTranscludeFn=boundTranscludeFn}afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null}).catch(function(error){if(isError(error)){$exceptionHandler(error)}});return function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue){linkQueue.push(scope,node,rootElement,childBoundTranscludeFn)}else{if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)}afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)}}}function byPriority(a,b){var diff=b.priority-a.priority;if(diff!==0)return diff;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective){throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,true);if(interpolateFn){directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;if(hasCompileParent)compile.$$addBindingClass(templateNodeParent);return function textInterpolateLinkFn(scope,node){var parent=node.parent();if(!hasCompileParent)compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value})}}})}}function wrapTemplate(type,template){type=lowercase(type||"html");switch(type){case"svg":case"math":var wrapper=window.document.createElement("div");wrapper.innerHTML="<"+type+">"+template+"</"+type+">";return wrapper.childNodes[0].childNodes;default:return template}}function getTrustedAttrContext(nodeName,attrNormalizedName){if(attrNormalizedName==="srcdoc"){return $sce.HTML}if(attrNormalizedName==="src"||attrNormalizedName==="ngSrc"){if(["img","video","audio","source","track"].indexOf(nodeName)===-1){return $sce.RESOURCE_URL}return $sce.MEDIA_URL}else if(attrNormalizedName==="xlinkHref"){if(nodeName==="image")return $sce.MEDIA_URL;if(nodeName==="a")return $sce.URL;return $sce.RESOURCE_URL}else if(nodeName==="form"&&attrNormalizedName==="action"||nodeName==="base"&&attrNormalizedName==="href"||nodeName==="link"&&attrNormalizedName==="href"){return $sce.RESOURCE_URL}else if(nodeName==="a"&&(attrNormalizedName==="href"||attrNormalizedName==="ngHref")){return $sce.URL}}function getTrustedPropContext(nodeName,propNormalizedName){var prop=propNormalizedName.toLowerCase();return PROP_CONTEXTS[nodeName+"|"+prop]||PROP_CONTEXTS["*|"+prop]}function sanitizeSrcsetPropertyValue(value){return sanitizeSrcset($sce.valueOf(value),"ng-prop-srcset")}function addPropertyDirective(node,directives,attrName,propName){if(EVENT_HANDLER_ATTR_REGEXP.test(propName)){throw $compileMinErr("nodomevents","Property bindings for HTML DOM event properties are disallowed")}var nodeName=nodeName_(node);var trustedContext=getTrustedPropContext(nodeName,propName);var sanitizer=identity;if(propName==="srcset"&&(nodeName==="img"||nodeName==="source")){sanitizer=sanitizeSrcsetPropertyValue}else if(trustedContext){sanitizer=$sce.getTrusted.bind($sce,trustedContext)}directives.push({priority:100,compile:function ngPropCompileFn(_,attr){var ngPropGetter=$parse(attr[attrName]);var ngPropWatch=$parse(attr[attrName],function sceValueOf(val){return $sce.valueOf(val)});return{pre:function ngPropPreLinkFn(scope,$element){function applyPropValue(){var propValue=ngPropGetter(scope);$element.prop(propName,sanitizer(propValue))}applyPropValue();scope.$watch(ngPropWatch,applyPropValue)}}}})}function addEventDirective(directives,attrName,eventName){directives.push(createEventDirective($parse,$rootScope,$exceptionHandler,attrName,eventName,false))}function addAttrInterpolateDirective(node,directives,value,name,isNgAttr){var nodeName=nodeName_(node);var trustedContext=getTrustedAttrContext(nodeName,name);var mustHaveExpression=!isNgAttr;var allOrNothing=ALL_OR_NOTHING_ATTRS[name]||isNgAttr;var interpolateFn=$interpolate(value,mustHaveExpression,trustedContext,allOrNothing);if(!interpolateFn)return;if(name==="multiple"&&nodeName==="select"){throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node))}if(EVENT_HANDLER_ATTR_REGEXP.test(name)){throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed")}directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap());var newValue=attr[name];if(newValue!==value){interpolateFn=newValue&&$interpolate(newValue,true,trustedContext,allOrNothing);value=newValue}if(!interpolateFn)return;attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=true;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){if(name==="class"&&newValue!==oldValue){attr.$updateClass(newValue,oldValue)}else{attr.$set(name,newValue)}})}}}})}function replaceWith($rootElement,elementsToRemove,newNode){var firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode,i,ii;if($rootElement){for(i=0,ii=$rootElement.length;i<ii;i++){if($rootElement[i]===firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++){if(j2<jj){$rootElement[j]=$rootElement[j2]}else{delete $rootElement[j]}}$rootElement.length-=removeCount-1;if($rootElement.context===firstElementToRemove){$rootElement.context=newNode}break}}}if(parent){parent.replaceChild(newNode,firstElementToRemove)}var fragment=window.document.createDocumentFragment();for(i=0;i<removeCount;i++){fragment.appendChild(elementsToRemove[i])}if(jqLite.hasData(firstElementToRemove)){jqLite.data(newNode,jqLite.data(firstElementToRemove));jqLite(firstElementToRemove).off("$destroy")}jqLite.cleanData(fragment.querySelectorAll("*"));for(i=1;i<removeCount;i++){delete elementsToRemove[i]}elementsToRemove[0]=newNode;elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function strictBindingsCheck(attrName,directiveName){if(strictComponentBindingsEnabled){throw $compileMinErr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",attrName,directiveName)}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){var removeWatchCollection=[];var initialChanges={};var changes;forEach(bindings,function initializeBinding(definition,scopeName){var attrName=definition.attrName,optional=definition.optional,mode=definition.mode,lastValue,parentGet,parentSet,compare,removeWatch;switch(mode){case"@":if(!optional&&!hasOwnProperty.call(attrs,attrName)){strictBindingsCheck(attrName,directive.name);destination[scopeName]=attrs[attrName]=undefined}removeWatch=attrs.$observe(attrName,function(value){if(isString(value)||isBoolean(value)){var oldValue=destination[scopeName];recordChanges(scopeName,value,oldValue);destination[scopeName]=value}});attrs.$$observers[attrName].$$scope=scope;lastValue=attrs[attrName];if(isString(lastValue)){destination[scopeName]=$interpolate(lastValue)(scope)}else if(isBoolean(lastValue)){destination[scopeName]=lastValue}initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatchCollection.push(removeWatch);break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name);attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);if(parentGet.literal){compare=equals}else{compare=simpleCompare}parentSet=parentGet.assign||function(){lastValue=destination[scopeName]=parentGet(scope);throw $compileMinErr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name)};lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){if(!compare(parentValue,destination[scopeName])){if(!compare(parentValue,lastValue)){destination[scopeName]=parentValue}else{parentSet(scope,parentValue=destination[scopeName])}}lastValue=parentValue;return lastValue};parentValueWatch.$stateful=true;if(definition.collection){removeWatch=scope.$watchCollection(attrs[attrName],parentValueWatch)}else{removeWatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal)}removeWatchCollection.push(removeWatch);break;case"<":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name);attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);var isLiteral=parentGet.literal;var initialValue=destination[scopeName]=parentGet(scope);initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatch=scope[definition.collection?"$watchCollection":"$watch"](parentGet,function parentValueWatchAction(newValue,oldValue){if(oldValue===newValue){if(oldValue===initialValue||isLiteral&&equals(oldValue,initialValue)){return}oldValue=initialValue}recordChanges(scopeName,newValue,oldValue);destination[scopeName]=newValue});removeWatchCollection.push(removeWatch);break;case"&":if(!optional&&!hasOwnProperty.call(attrs,attrName)){strictBindingsCheck(attrName,directive.name)}parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop;if(parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)};break}});function recordChanges(key,currentValue,previousValue){if(isFunction(destination.$onChanges)&&!simpleCompare(currentValue,previousValue)){if(!onChangesQueue){scope.$$postDigest(flushOnChangesQueue);onChangesQueue=[]}if(!changes){changes={};onChangesQueue.push(triggerOnChangesHook)}if(changes[key]){previousValue=changes[key].previousValue}changes[key]=new SimpleChange(previousValue,currentValue)}}function triggerOnChangesHook(){destination.$onChanges(changes);changes=undefined}return{initialChanges:initialChanges,removeWatches:removeWatchCollection.length&&function removeWatches(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i){removeWatchCollection[i]()}}}}}]}function SimpleChange(previous,current){this.previousValue=previous;this.currentValue=current}SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_UNINITIALIZED_VALUE};var PREFIX_REGEXP=/^((?:x|data)[:\-_])/i;var SPECIAL_CHARS_REGEXP=/[:\-_]+(.)/g;function directiveNormalize(name){return name.replace(PREFIX_REGEXP,"").replace(SPECIAL_CHARS_REGEXP,function(_,letter,offset){return offset?letter.toUpperCase():letter})}function nodesetLinkingFn(scope,nodeList,rootElement,boundTranscludeFn){}function directiveLinkingFn(nodesetLinkingFn,scope,node,rootElement,boundTranscludeFn){}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token===tokens2[j])continue outer}values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1){return jqNodes}while(i--){var node=jqNodes[i];if(node.nodeType===NODE_TYPE_COMMENT||node.nodeType===NODE_TYPE_TEXT&&node.nodeValue.trim()===""){splice.call(jqNodes,i,1)}}return jqNodes}var $controllerMinErr=minErr("$controller");var CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/;function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={};this.has=function(name){return controllers.hasOwnProperty(name)};this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller");if(isObject(name)){extend(controllers,name)}else{controllers[name]=constructor}};this.$get=["$injector",function($injector){return function $controller(expression,locals,later,ident){var instance,match,constructor,identifier;later=later===true;if(ident&&isString(ident)){identifier=ident}if(isString(expression)){match=expression.match(CNTRL_REG);if(!match){throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",expression)}constructor=match[1];identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,true);if(!expression){throw $controllerMinErr("ctrlreg","The controller with the name '{0}' is not registered.",constructor)}assertArgFn(expression,constructor,true)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}return extend(function $controllerInit(){var result=$injector.invoke(expression,instance,locals,constructor);if(result!==instance&&(isObject(result)||isFunction(result))){instance=result;if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}}return instance},{instance:instance,identifier:identifier})}instance=$injector.instantiate(expression,locals,constructor);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}return instance};function addIdentifier(locals,identifier,instance,name){if(!(locals&&isObject(locals.$scope))){throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier)}locals.$scope[identifier]=instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function($document,$rootScope){var doc=$document[0];var hidden=doc&&doc.hidden;$document.on("visibilitychange",changeListener);$rootScope.$on("$destroy",function(){$document.off("visibilitychange",changeListener)});function changeListener(){hidden=doc.hidden}return function(){return hidden}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}var $$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){if(domNode){if(!domNode.nodeType&&domNode instanceof jqLite){domNode=domNode[0]}}else{domNode=$document[0].body}return domNode.offsetWidth+1}}]};var APPLICATION_JSON="application/json";var CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"};var JSON_START=/^\[|^\{(?!\{)/;var JSON_ENDS={"[":/]$/,"{":/}$/};var JSON_PROTECTION_PREFIX=/^\)]\}',?\n/;var $httpMinErr=minErr("$http");function serializeValue(v){if(isObject(v)){return isDate(v)?v.toISOString():toJson(v)}return v}function $HttpParamSerializerProvider(){this.$get=function(){return function ngParamSerializer(params){if(!params)return"";var parts=[];forEachSorted(params,function(value,key){if(value===null||isUndefined(value)||isFunction(value))return;if(isArray(value)){forEach(value,function(v){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))})}else{parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value)))}});return parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function jQueryLikeParamSerializer(params){if(!params)return"";var parts=[];serialize(params,"",true);return parts.join("&");function serialize(toSerialize,prefix,topLevel){if(isArray(toSerialize)){forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")})}else if(isObject(toSerialize)&&!isDate(toSerialize)){forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))})}else{if(isFunction(toSerialize)){toSerialize=toSerialize()}parts.push(encodeUriQuery(prefix)+"="+(toSerialize==null?"":encodeUriQuery(serializeValue(toSerialize))))}}}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");var hasJsonContentType=contentType&&contentType.indexOf(APPLICATION_JSON)===0;if(hasJsonContentType||isJsonLike(tempData)){try{data=fromJson(tempData)}catch(e){if(!hasJsonContentType){return data}throw $httpMinErr("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',data,e)}}}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){var parsed=createMap(),i;function fillInParsed(key,val){if(key){parsed[key]=parsed[key]?parsed[key]+", "+val:val}}if(isString(headers)){forEach(headers.split("\n"),function(line){i=line.indexOf(":");fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))})}else if(isObject(headers)){forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))})}return parsed}function headersGetter(headers){var headersObj;return function(name){if(!headersObj)headersObj=parseHeaders(headers);if(name){var value=headersObj[lowercase(name)];if(value===undefined){value=null}return value}return headersObj}}function transformData(data,headers,status,fns){if(isFunction(fns)){return fns(data,headers,status)}forEach(fns,function(fn){data=fn(data,headers,status)});return data}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return isObject(d)&&!isFile(d)&&!isBlob(d)&&!isFormData(d)?toJson(d):d}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var useApplyAsync=false;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this}return useApplyAsync};var interceptorFactories=this.interceptors=[];var xsrfWhitelistedOrigins=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function($browser,$httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector,$sce){var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});var urlIsAllowedOrigin=urlIsAllowedOriginFactory(xsrfWhitelistedOrigins);function $http(requestConfig){if(!isObject(requestConfig)){throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig)}if(!isString($sce.valueOf(requestConfig.url))){throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",requestConfig.url)}var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer,jsonpCallbackParam:defaults.jsonpCallbackParam},requestConfig);config.headers=mergeHeaders(requestConfig);config.method=uppercase(config.method);config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;$browser.$$incOutstandingRequestCount("$http");var requestInterceptors=[];var responseInterceptors=[];var promise=$q.resolve(config);forEach(reversedInterceptors,function(interceptor){if(interceptor.request||interceptor.requestError){requestInterceptors.unshift(interceptor.request,interceptor.requestError)}if(interceptor.response||interceptor.responseError){responseInterceptors.push(interceptor.response,interceptor.responseError)}});promise=chainInterceptors(promise,requestInterceptors);promise=promise.then(serverRequest);promise=chainInterceptors(promise,responseInterceptors);promise=promise.finally(completeOutstandingRequest);return promise;function chainInterceptors(promise,interceptors){for(var i=0,ii=interceptors.length;i<ii;){var thenFn=interceptors[i++];var rejectFn=interceptors[i++];promise=promise.then(thenFn,rejectFn)}interceptors.length=0;return promise}function completeOutstandingRequest(){$browser.$$completeOutstandingRequest(noop,"$http")}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=headerFn(config);if(headerContent!=null){processedHeaders[header]=headerContent}}else{processedHeaders[header]=headerFn}});return processedHeaders}function mergeHeaders(config){var defHeaders=defaults.headers,reqHeaders=extend({},config.headers),defHeaderName,lowercaseDefHeaderName,reqHeaderName;defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders){if(lowercase(reqHeaderName)===lowercaseDefHeaderName){continue defaultHeadersIteration}}reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}function serverRequest(config){var headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);if(isUndefined(reqData)){forEach(headers,function(value,header){if(lowercase(header)==="content-type"){delete headers[header]}})}if(isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)){config.withCredentials=defaults.withCredentials}return sendReq(config,reqData).then(transformResponse,transformResponse)}function transformResponse(response){var resp=extend({},response);resp.data=transformData(response.data,response.headers,response.status,config.transformResponse);return isSuccess(response.status)?resp:$q.reject(resp)}}$http.pendingRequests=[];createShortMethods("get","delete","head","jsonp");createShortMethodsWithData("post","put","patch");$http.defaults=defaults;return $http;function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){var deferred=$q.defer(),promise=deferred.promise,cache,cachedResp,reqHeaders=config.headers,isJsonp=lowercase(config.method)==="jsonp",url=config.url;if(isJsonp){url=$sce.getTrustedResourceUrl(url)}else if(!isString(url)){url=$sce.valueOf(url)}url=buildUrl(url,config.paramSerializer(config.params));if(isJsonp){url=sanitizeJsonpCallbackParam(url,config.jsonpCallbackParam)}$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==="GET"||config.method==="JSONP")){cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache}if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp)){if(isPromiseLike(cachedResp)){cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult)}else{if(isArray(cachedResp)){resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3],cachedResp[4])}else{resolvePromise(cachedResp,200,{},"OK","complete")}}}else{cache.put(url,promise)}}if(isUndefined(cachedResp)){var xsrfValue=urlIsAllowedOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;if(xsrfValue){reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue}$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType,createApplyHandlers(config.eventHandlers),createApplyHandlers(config.uploadEventHandlers))}return promise;function createApplyHandlers(eventHandlers){if(eventHandlers){var applyHandlers={};forEach(eventHandlers,function(eventHandler,key){applyHandlers[key]=function(event){if(useApplyAsync){$rootScope.$applyAsync(callEventHandler)}else if($rootScope.$$phase){callEventHandler()}else{$rootScope.$apply(callEventHandler)}function callEventHandler(){eventHandler(event)}}});return applyHandlers}}function done(status,response,headersString,statusText,xhrStatus){if(cache){if(isSuccess(status)){cache.put(url,[status,response,parseHeaders(headersString),statusText,xhrStatus])}else{cache.remove(url)}}function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText,xhrStatus)}if(useApplyAsync){$rootScope.$applyAsync(resolveHttpPromise)}else{resolveHttpPromise();if(!$rootScope.$$phase)$rootScope.$apply()}}function resolvePromise(response,status,headers,statusText,xhrStatus){status=status>=-1?status:0;(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText,xhrStatus:xhrStatus})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText,result.xhrStatus)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);if(idx!==-1)$http.pendingRequests.splice(idx,1)}}function buildUrl(url,serializedParams){if(serializedParams.length>0){url+=(url.indexOf("?")===-1?"?":"&")+serializedParams}return url}function sanitizeJsonpCallbackParam(url,cbKey){var parts=url.split("?");if(parts.length>2){throw $httpMinErr("badjsonp",'Illegal use more than one "?", in url, "{1}"',url)}var params=parseKeyValue(parts[1]);forEach(params,function(value,key){if(value==="JSON_CALLBACK"){throw $httpMinErr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',url)}if(key===cbKey){throw $httpMinErr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',cbKey,url)}});url+=(url.indexOf("?")===-1?"?":"&")+cbKey+"=JSON_CALLBACK";return url}}]}function $xhrFactoryProvider(){this.$get=function(){return function createXhr(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function($browser,$jsonpCallbacks,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$jsonpCallbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){return function(method,url,post,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){url=url||$browser.url();if(lowercase(method)==="jsonp"){var callbackPath=callbacks.createCallback(url);var jsonpDone=jsonpReq(url,callbackPath,function(status,text){var response=status===200&&callbacks.getResponse(callbackPath);completeRequest(callback,status,response,"",text,"complete");callbacks.removeCallback(callbackPath)})}else{var xhr=createXhr(method,url);var abortedByTimeout=false;xhr.open(method,url,true);forEach(headers,function(value,key){if(isDefined(value)){xhr.setRequestHeader(key,value)}});xhr.onload=function requestLoaded(){var statusText=xhr.statusText||"";var response="response"in xhr?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:urlResolve(url).protocol==="file"?404:0}completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText,"complete")};var requestError=function(){completeRequest(callback,-1,null,null,"","error")};var requestAborted=function(){completeRequest(callback,-1,null,null,"",abortedByTimeout?"timeout":"abort")};var requestTimeout=function(){completeRequest(callback,-1,null,null,"","timeout")};xhr.onerror=requestError;xhr.ontimeout=requestTimeout;xhr.onabort=requestAborted;forEach(eventHandlers,function(value,key){xhr.addEventListener(key,value)});forEach(uploadEventHandlers,function(value,key){xhr.upload.addEventListener(key,value)});if(withCredentials){xhr.withCredentials=true}if(responseType){try{xhr.responseType=responseType}catch(e){if(responseType!=="json"){throw e}}}xhr.send(isUndefined(post)?null:post)}if(timeout>0){var timeoutId=$browserDefer(function(){timeoutRequest("timeout")},timeout)}else if(isPromiseLike(timeout)){timeout.then(function(){timeoutRequest(isDefined(timeout.$$timeoutId)?"timeout":"abort")})}function timeoutRequest(reason){abortedByTimeout=reason==="timeout";if(jsonpDone){jsonpDone()}if(xhr){xhr.abort()}}function completeRequest(callback,status,response,headersString,statusText,xhrStatus){if(isDefined(timeoutId)){$browserDefer.cancel(timeoutId)}jsonpDone=xhr=null;callback(status,response,headersString,statusText,xhrStatus)}};function jsonpReq(url,callbackPath,done){url=url.replace("JSON_CALLBACK",callbackPath);var script=rawDocument.createElement("script"),callback=null;script.type="text/javascript";script.src=url;script.async=true;callback=function(event){script.removeEventListener("load",callback);script.removeEventListener("error",callback);rawDocument.body.removeChild(script);script=null;var status=-1;var text="unknown";if(event){if(event.type==="load"&&!callbacks.wasCalled(callbackPath)){event={type:"error"}}text=event.type;status=event.type==="error"?404:200}if(done){done(status,text)}};script.addEventListener("load",callback);script.addEventListener("error",callback);rawDocument.body.appendChild(script);return callback}}var $interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",text)};$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};function $InterpolateProvider(){var startSymbol="{{";var endSymbol="}}";this.startSymbol=function(value){if(value){startSymbol=value;return this}return startSymbol};this.endSymbol=function(value){if(value){endSymbol=value;return this}return endSymbol};this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch=scope.$watch(function constantInterpolateWatch(scope){unwatch();return constantInterp(scope)},listener,objectEquality);return unwatch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){var contextAllowsConcatenation=trustedContext===$sce.URL||trustedContext===$sce.MEDIA_URL;if(!text.length||text.indexOf(startSymbol)===-1){if(mustHaveExpression&&!contextAllowsConcatenation)return;var unescapedText=unescapeText(text);if(contextAllowsConcatenation){unescapedText=$sce.getTrusted(trustedContext,unescapedText)}var constantInterp=valueFn(unescapedText);constantInterp.exp=text;constantInterp.expressions=[];constantInterp.$$watchDelegate=constantWatchDelegate;return constantInterp}allOrNothing=!!allOrNothing;var startIndex,endIndex,index=0,expressions=[],parseFns,textLength=text.length,exp,concat=[],expressionPositions=[],singleExpression;while(index<textLength){if((startIndex=text.indexOf(startSymbol,index))!==-1&&(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))!==-1){if(index!==startIndex){concat.push(unescapeText(text.substring(index,startIndex)))}exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push("")}else{if(index!==textLength){concat.push(unescapeText(text.substring(index)))}break}}singleExpression=concat.length===1&&expressionPositions.length===1;var interceptor=contextAllowsConcatenation&&singleExpression?undefined:parseStringifyInterceptor;parseFns=expressions.map(function(exp){return $parse(exp,interceptor)});if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}if(contextAllowsConcatenation){return $sce.getTrusted(trustedContext,singleExpression?concat[0]:concat.join(""))}else if(trustedContext&&concat.length>1){$interpolateMinErr.throwNoconcat(text)}return concat.join("")};return extend(function interpolationFn(context){var i=0;var ii=expressions.length;var values=new Array(ii);try{for(;i<ii;i++){values[i]=parseFns[i](context)}return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,oldValues){var currValue=compute(values);listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope);lastValue=currValue})}})}function parseStringifyInterceptor(value){try{value=trustedContext&&!contextAllowsConcatenation?$sce.getTrusted(trustedContext,value):$sce.valueOf(value);return allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}}$interpolate.startSymbol=function(){return startSymbol};$interpolate.endSymbol=function(){return endSymbol};return $interpolate}]}var $intervalMinErr=minErr("$interval");function $IntervalProvider(){this.$get=["$$intervalFactory","$window",function($$intervalFactory,$window){var intervals={};var setIntervalFn=function(tick,delay,deferred){var id=$window.setInterval(tick,delay);intervals[id]=deferred;return id};var clearIntervalFn=function(id){$window.clearInterval(id);delete intervals[id]};var interval=$$intervalFactory(setIntervalFn,clearIntervalFn);interval.cancel=function(promise){if(!promise)return false;if(!promise.hasOwnProperty("$$intervalId")){throw $intervalMinErr("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")}if(!intervals.hasOwnProperty(promise.$$intervalId))return false;var id=promise.$$intervalId;var deferred=intervals[id];markQExceptionHandled(deferred.promise);deferred.reject("canceled");clearIntervalFn(id);return true};return interval}]}function $$IntervalFactoryProvider(){this.$get=["$browser","$q","$$q","$rootScope",function($browser,$q,$$q,$rootScope){return function intervalFactory(setIntervalFn,clearIntervalFn){return function intervalFn(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;function callback(){if(!hasParams){fn(iteration)}else{fn.apply(null,args)}}function tick(){if(skipApply){$browser.defer(callback)}else{$rootScope.$evalAsync(callback)}deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearIntervalFn(promise.$$intervalId)}if(!skipApply)$rootScope.$apply()}promise.$$intervalId=setIntervalFn(tick,delay,deferred,skipApply);return promise}}}]}var $jsonpCallbacksProvider=function(){this.$get=function(){var callbacks=angular.callbacks;var callbackMap={};function createCallback(callbackId){var callback=function(data){callback.data=data;callback.called=true};callback.id=callbackId;return callback}return{createCallback:function(url){var callbackId="_"+(callbacks.$$counter++).toString(36);var callbackPath="angular.callbacks."+callbackId;var callback=createCallback(callbackId);callbackMap[callbackPath]=callbacks[callbackId]=callback;return callbackPath},wasCalled:function(callbackPath){return callbackMap[callbackPath].called},getResponse:function(callbackPath){return callbackMap[callbackPath].data},removeCallback:function(callbackPath){var callback=callbackMap[callbackPath];delete callbacks[callback.id];delete callbackMap[callbackPath]}}}};var PATH_MATCH=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21};var $locationMinErr=minErr("$location");function encodePath(path){var segments=path.split("/"),i=segments.length;while(i--){segments[i]=encodeUriSegment(segments[i].replace(/%2F/g,"/"))}return segments.join("/")}function decodePath(path,html5Mode){var segments=path.split("/"),i=segments.length;while(i--){segments[i]=decodeURIComponent(segments[i]);if(html5Mode){segments[i]=segments[i].replace(/\//g,"%2F")}}return segments.join("/")}function normalizePath(pathValue,searchValue,hashValue){var search=toKeyValue(searchValue),hash=hashValue?"#"+encodeUriSegment(hashValue):"",path=encodePath(pathValue);return path+(search?"?"+search:"")+hash}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}var DOUBLE_SLASH_REGEX=/^\s*[\\/]{2,}/;function parseAppUrl(url,locationObj,html5Mode){if(DOUBLE_SLASH_REGEX.test(url)){throw $locationMinErr("badpath",'Invalid url "{0}".',url)}var prefixed=url.charAt(0)!=="/";if(prefixed){url="/"+url}var match=urlResolve(url);var path=prefixed&&match.pathname.charAt(0)==="/"?match.pathname.substring(1):match.pathname;locationObj.$$path=decodePath(path,html5Mode);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);if(locationObj.$$path&&locationObj.$$path.charAt(0)!=="/"){locationObj.$$path="/"+locationObj.$$path}}function startsWith(str,search){return str.slice(0,search.length)===search}function stripBaseUrl(base,url){if(startsWith(url,base)){return url.substr(base.length)}}function stripHash(url){var index=url.indexOf("#");return index===-1?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=true;basePrefix=basePrefix||"";parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var pathUrl=stripBaseUrl(appBaseNoFile,url);if(!isString(pathUrl)){throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile)}parseAppUrl(pathUrl,this,true);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$normalizeUrl=function(url){return appBaseNoFile+url.substr(1)};this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var appUrl,prevAppUrl;var rewrittenUrl;if(isDefined(appUrl=stripBaseUrl(appBase,url))){prevAppUrl=appUrl;if(basePrefix&&isDefined(appUrl=stripBaseUrl(basePrefix,appUrl))){rewrittenUrl=appBaseNoFile+(stripBaseUrl("/",appUrl)||appUrl)}else{rewrittenUrl=appBase+prevAppUrl}}else if(isDefined(appUrl=stripBaseUrl(appBaseNoFile,url))){rewrittenUrl=appBaseNoFile+appUrl}else if(appBaseNoFile===url+"/"){rewrittenUrl=appBaseNoFile}if(rewrittenUrl){this.$$parse(rewrittenUrl)}return!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var withoutBaseUrl=stripBaseUrl(appBase,url)||stripBaseUrl(appBaseNoFile,url);var withoutHashUrl;if(!isUndefined(withoutBaseUrl)&&withoutBaseUrl.charAt(0)==="#"){withoutHashUrl=stripBaseUrl(hashPrefix,withoutBaseUrl);if(isUndefined(withoutHashUrl)){withoutHashUrl=withoutBaseUrl}}else{if(this.$$html5){withoutHashUrl=withoutBaseUrl}else{withoutHashUrl="";if(isUndefined(withoutBaseUrl)){appBase=url;this.replace()}}}parseAppUrl(withoutHashUrl,this,false);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose();function removeWindowsDriveName(path,url,base){var windowsFilePathExp=/^\/[A-Z]:(\/.*)/;var firstPathSegmentMatch;if(startsWith(url,base)){url=url.replace(base,"")}if(windowsFilePathExp.exec(url)){return path}firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path}};this.$$normalizeUrl=function(url){return appBase+(url?hashPrefix+url:"")};this.$$parseLinkUrl=function(url,relHref){if(stripHash(appBase)===stripHash(url)){this.$$parse(url);return true}return false}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=true;LocationHashbangUrl.apply(this,arguments);this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var rewrittenUrl;var appUrl;if(appBase===stripHash(url)){rewrittenUrl=url}else if(appUrl=stripBaseUrl(appBaseNoFile,url)){rewrittenUrl=appBase+hashPrefix+appUrl}else if(appBaseNoFile===url+"/"){rewrittenUrl=appBaseNoFile}if(rewrittenUrl){this.$$parse(rewrittenUrl)}return!!rewrittenUrl};this.$$normalizeUrl=function(url){return appBase+hashPrefix+url}}var locationPrototype={$$absUrl:"",$$html5:false,$$replace:false,$$compose:function(){this.$$url=normalizePath(this.$$path,this.$$search,this.$$hash);this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=true},absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url)){return this.$$url}var match=PATH_MATCH.exec(url);if(match[1]||url==="")this.path(decodeURIComponent(match[1]));if(match[2]||match[1]||url==="")this.search(match[3]||"");this.hash(match[5]||"");return this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){path=path!==null?path.toString():"";return path.charAt(0)==="/"?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search)}else if(isObject(search)){search=copy(search,{});forEach(search,function(value,key){if(value==null)delete search[key]});this.$$search=search}else{throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(isUndefined(paramValue)||paramValue===null){delete this.$$search[search]}else{this.$$search[search]=paramValue}}this.$$compose();return this},hash:locationGetterSetter("$$hash",function(hash){return hash!==null?hash.toString():""}),replace:function(){this.$$replace=true;return this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length){return this.$$state}if(Location!==LocationHtml5Url||!this.$$html5){throw $locationMinErr("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=isUndefined(state)?null:state;this.$$urlUpdatedByLocation=true;return this}});function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value)){return this[property]}this[property]=preprocess(value);this.$$compose();return this}}function $LocationProvider(){var hashPrefix="!",html5Mode={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this}else{return hashPrefix}};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this}else if(isObject(mode)){if(isBoolean(mode.enabled)){html5Mode.enabled=mode.enabled}if(isBoolean(mode.requireBase)){html5Mode.requireBase=mode.requireBase}if(isBoolean(mode.rewriteLinks)||isString(mode.rewriteLinks)){html5Mode.rewriteLinks=mode.rewriteLinks}return this}else{return html5Mode}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){var $location,LocationMode,baseHref=$browser.baseHref(),initialUrl=$browser.url(),appBase;if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase){throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!")}appBase=serverBase(initialUrl)+(baseHref||"/");LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else{appBase=stripHash(initialUrl);LocationMode=LocationHashbangUrl}var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;function urlsEqual(a,b){return a===b||urlResolve(a).href===urlResolve(b).href}function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url();var oldState=$location.$$state;try{$browser.url(url,replace,state);$location.$$state=$browser.state()}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e}}$rootElement.on("click",function(event){var rewriteLinks=html5Mode.rewriteLinks;if(!rewriteLinks||event.ctrlKey||event.metaKey||event.shiftKey||event.which===2||event.button===2)return;var elm=jqLite(event.target);while(nodeName_(elm[0])!=="a"){if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return}if(isString(rewriteLinks)&&isUndefined(elm.attr(rewriteLinks)))return;var absHref=elm.prop("href");var relHref=elm.attr("href")||elm.attr("xlink:href");if(isObject(absHref)&&absHref.toString()==="[object SVGAnimatedString]"){absHref=urlResolve(absHref.animVal).href}if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr("target")&&!event.isDefaultPrevented()){if($location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!==$browser.url()){$rootScope.$apply()}}}});if($location.absUrl()!==initialUrl){$browser.url($location.absUrl(),true)}var initializing=true;$browser.onUrlChange(function(newUrl,newState){if(!startsWith(newUrl,appBaseNoFile)){$window.location.href=newUrl;return}$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();var oldState=$location.$$state;var defaultPrevented;$location.$$parse(newUrl);$location.$$state=newState;defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;setBrowserUrlWithFallback(oldUrl,false,oldState)}else{initializing=false;afterLocationChange(oldUrl,oldState)}});if(!$rootScope.$$phase)$rootScope.$digest()});$rootScope.$watch(function $locationWatch(){if(initializing||$location.$$urlUpdatedByLocation){$location.$$urlUpdatedByLocation=false;var oldUrl=$browser.url();var newUrl=$location.absUrl();var oldState=$browser.state();var currentReplace=$location.$$replace;var urlOrStateChanged=!urlsEqual(oldUrl,newUrl)||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;if(initializing||urlOrStateChanged){initializing=false;$rootScope.$evalAsync(function(){var newUrl=$location.absUrl();var defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState}else{if(urlOrStateChanged){setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state)}afterLocationChange(oldUrl,oldState)}})}}$location.$$replace=false});return $location;function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}}]}function $LogProvider(){var debug=true,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this}else{return debug}};this.$get=["$window",function($window){var formatStackTrace=msie||/\bEdge\//.test($window.navigator&&$window.navigator.userAgent);return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){if(debug){fn.apply(self,arguments)}}}()};function formatError(arg){if(isError(arg)){if(arg.stack&&formatStackTrace){arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack}else if(arg.sourceURL){arg=arg.message+"\n"+arg.sourceURL+":"+arg.line}}return arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop;return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg))});return Function.prototype.apply.call(logFn,console,args)}}}]}var $parseMinErr=minErr("$parse");var objectValueOf={}.constructor.prototype.valueOf;function getStringValue(name){return name+""}var OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=true});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var Lexer=function Lexer(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text;this.index=0;this.tokens=[];while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(ch==='"'||ch==="'"){this.readString(ch)}else if(this.isNumber(ch)||ch==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(ch,"(){}[].,;:?")){this.tokens.push({index:this.index,text:ch});this.index++}else if(this.isWhitespace(ch)){this.index++}else{var ch2=ch+this.peek();var ch3=ch2+this.peek(2);var op1=OPERATORS[ch];var op2=OPERATORS[ch2];var op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:true});this.index+=token.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==-1},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):false},isNumber:function(ch){return"0"<=ch&&ch<="9"&&typeof ch==="string"},isWhitespace:function(ch){return ch===" "||ch==="\r"||ch==="\t"||ch==="\n"||ch==="\v"||ch===" "},isIdentifierStart:function(ch){return this.options.isIdentifierStart?this.options.isIdentifierStart(ch,this.codePointAt(ch)):this.isValidIdentifierStart(ch)},isValidIdentifierStart:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||ch==="$"},isIdentifierContinue:function(ch){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(ch,this.codePointAt(ch)):this.isValidIdentifierContinue(ch)},isValidIdentifierContinue:function(ch,cp){return this.isValidIdentifierStart(ch,cp)||this.isNumber(ch)},codePointAt:function(ch){if(ch.length===1)return ch.charCodeAt(0);return(ch.charCodeAt(0)<<10)+ch.charCodeAt(1)-56613888},peekMultichar:function(){var ch=this.text.charAt(this.index);var peek=this.peek();if(!peek){return ch}var cp1=ch.charCodeAt(0);var cp2=peek.charCodeAt(0);if(cp1>=55296&&cp1<=56319&&cp2>=56320&&cp2<=57343){return ch+peek}return ch},isExpOperator:function(ch){return ch==="-"||ch==="+"||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){var number="";var start=this.index;while(this.index<this.text.length){var ch=lowercase(this.text.charAt(this.index));if(ch==="."||this.isNumber(ch)){number+=ch}else{var peekCh=this.peek();if(ch==="e"&&this.isExpOperator(peekCh)){number+=ch}else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&number.charAt(number.length-1)==="e"){number+=ch}else if(this.isExpOperator(ch)&&(!peekCh||!this.isNumber(peekCh))&&number.charAt(number.length-1)==="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:start,text:number,constant:true,value:Number(number)})},readIdent:function(){var start=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var ch=this.peekMultichar();if(!this.isIdentifierContinue(ch)){break}this.index+=ch.length}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:true})},readString:function(quote){var start=this.index;this.index++;var string="";var rawString=quote;var escape=false;while(this.index<this.text.length){var ch=this.text.charAt(this.index);rawString+=ch;if(escape){if(ch==="u"){var hex=this.text.substring(this.index+1,this.index+5);if(!hex.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+hex+"]")}this.index+=4;string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string=string+(rep||ch)}escape=false}else if(ch==="\\"){escape=true}else if(ch===quote){this.index++;this.tokens.push({index:start,text:rawString,constant:true,value:string});return}else{string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function AST(lexer,options){this.lexer=lexer;this.options=options};AST.Program="Program";AST.ExpressionStatement="ExpressionStatement";AST.AssignmentExpression="AssignmentExpression";AST.ConditionalExpression="ConditionalExpression";AST.LogicalExpression="LogicalExpression";AST.BinaryExpression="BinaryExpression";AST.UnaryExpression="UnaryExpression";AST.CallExpression="CallExpression";AST.MemberExpression="MemberExpression";AST.Identifier="Identifier";AST.Literal="Literal";AST.ArrayExpression="ArrayExpression";AST.Property="Property";AST.ObjectExpression="ObjectExpression";AST.ThisExpression="ThisExpression";AST.LocalsExpression="LocalsExpression";AST.NGValueParameter="NGValueParameter";AST.prototype={ast:function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return value},program:function(){var body=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))body.push(this.expressionStatement());if(!this.expect(";")){return{type:AST.Program,body:body}}}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var left=this.expression();while(this.expect("|")){left=this.filter(left)}return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();if(this.expect("=")){if(!isAssignable(result)){throw $parseMinErr("lval","Trying to assign a value to a non l-value")}result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}}return result},ternary:function(){var test=this.logicalOR();var alternate;var consequent;if(this.expect("?")){alternate=this.expression();if(this.consume(":")){consequent=this.expression();return{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}}}return test},logicalOR:function(){var left=this.logicalAND();while(this.expect("||")){left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()}}return left},logicalAND:function(){var left=this.equality();while(this.expect("&&")){left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()}}return left},equality:function(){var left=this.relational();var token;while(token=this.expect("==","!=","===","!==")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()}}return left},relational:function(){var left=this.additive();var token;while(token=this.expect("<",">","<=",">=")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()}}return left},additive:function(){var left=this.multiplicative();var token;while(token=this.expect("+","-")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()}}return left},multiplicative:function(){var left=this.unary();var token;while(token=this.expect("*","/","%")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()}}return left},unary:function(){var token;if(token=this.expect("+","-","!")){return{type:AST.UnaryExpression,operator:token.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var primary;if(this.expect("(")){primary=this.filterChain();this.consume(")")}else if(this.expect("[")){primary=this.arrayDeclaration()}else if(this.expect("{")){primary=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){primary=copy(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){primary={type:AST.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){primary=this.identifier()}else if(this.peek().constant){primary=this.constant()}else{this.throwError("not a primary expression",this.peek())}var next;while(next=this.expect("(","[",".")){if(next.text==="("){primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()};this.consume(")")}else if(next.text==="["){primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:true};this.consume("]")}else if(next.text==="."){primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return primary},filter:function(baseExpression){var args=[baseExpression];var result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:true};while(this.expect(":")){args.push(this.expression())}return result},parseArguments:function(){var args=[];if(this.peekToken().text!==")"){do{args.push(this.filterChain())}while(this.expect(","))}return args},identifier:function(){var token=this.consume();if(!token.identifier){this.throwError("is not a valid identifier",token)}return{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}elements.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:AST.ArrayExpression,elements:elements}},object:function(){var properties=[],property;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}property={type:AST.Property,kind:"init"};if(this.peek().constant){property.key=this.constant();property.computed=false;this.consume(":");property.value=this.expression()}else if(this.peek().identifier){property.key=this.identifier();property.computed=false;if(this.peek(":")){this.consume(":");property.value=this.expression()}else{property.value=property.key}}else if(this.peek("[")){this.consume("[");property.key=this.expression();this.consume("]");property.computed=true;this.consume(":");property.value=this.expression()}else{this.throwError("invalid key",this.peek())}properties.push(property)}while(this.expect(","))}this.consume("}");return{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(this.tokens.length===0){throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text)}var token=this.expect(e1);if(!token){this.throwError("is unexpected, expecting ["+e1+"]",this.peek())}return token},peekToken:function(){if(this.tokens.length===0){throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i];var t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4){return token}}return false},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token}return false},selfReferential:{this:{type:AST.ThisExpression},$locals:{type:AST.LocalsExpression}}};function ifDefined(v,d){return typeof v!=="undefined"?v:d}function plusFn(l,r){if(typeof l==="undefined")return r;if(typeof r==="undefined")return l;return l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}var PURITY_ABSOLUTE=1;var PURITY_RELATIVE=2;function isPure(node,parentIsPure){switch(node.type){case AST.MemberExpression:if(node.computed){return false}break;case AST.UnaryExpression:return PURITY_ABSOLUTE;case AST.BinaryExpression:return node.operator!=="+"?PURITY_ABSOLUTE:false;case AST.CallExpression:return false}return undefined===parentIsPure?PURITY_RELATIVE:parentIsPure}function findConstantAndWatchExpressions(ast,$filter,parentIsPure){var allConstants;var argsToWatch;var isStatelessFilter;var astIsPure=ast.isPure=isPure(ast,parentIsPure);switch(ast.type){case AST.Program:allConstants=true;forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter,astIsPure);allConstants=allConstants&&expr.expression.constant});ast.constant=allConstants;break;case AST.Literal:ast.constant=true;ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter,astIsPure);ast.constant=ast.argument.constant;ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter,astIsPure);findConstantAndWatchExpressions(ast.alternate,$filter,astIsPure);findConstantAndWatchExpressions(ast.consequent,$filter,astIsPure);ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=false;ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter,astIsPure);if(ast.computed){findConstantAndWatchExpressions(ast.property,$filter,astIsPure)}ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant);ast.toWatch=ast.constant?[]:[ast];break;case AST.CallExpression:isStatelessFilter=ast.filter?isStateless($filter,ast.callee.name):false;allConstants=isStatelessFilter;argsToWatch=[];forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure);allConstants=allConstants&&expr.constant;argsToWatch.push.apply(argsToWatch,expr.toWatch)});ast.constant=allConstants;ast.toWatch=isStatelessFilter?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=true;argsToWatch=[];forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure);allConstants=allConstants&&expr.constant;argsToWatch.push.apply(argsToWatch,expr.toWatch)});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=true;argsToWatch=[];forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter,astIsPure);allConstants=allConstants&&property.value.constant;argsToWatch.push.apply(argsToWatch,property.value.toWatch);if(property.computed){findConstantAndWatchExpressions(property.key,$filter,false);allConstants=allConstants&&property.key.constant;argsToWatch.push.apply(argsToWatch,property.key.toWatch)}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=false;ast.toWatch=[];break;case AST.LocalsExpression:ast.constant=false;ast.toWatch=[];break}}function getInputs(body){if(body.length!==1)return;var lastExpression=body[0].expression;var candidate=lastExpression.toWatch;if(candidate.length!==1)return candidate;return candidate[0]!==lastExpression?candidate:undefined}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(ast.body.length===1&&isAssignable(ast.body[0].expression)){return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}}function isLiteral(ast){return ast.body.length===0||ast.body.length===1&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler($filter){this.$filter=$filter}ASTCompiler.prototype={compile:function(ast){var self=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};findConstantAndWatchExpressions(ast,self.$filter);var extra="";var assignable;this.stage="assign";if(assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result);this.return_(result);extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs";forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}};self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId);self.return_(intoId);self.state.inputs.push({name:fnKey,isPure:watch.isPure});watch.watchId=key});this.state.computing="fn";this.stage="main";this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;";var fn=new Function("$filter","getStringValue","ifDefined","plus",fnString)(this.$filter,getStringValue,ifDefined,plusFn);this.state=this.stage=undefined;return fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[];var inputs=this.state.inputs;var self=this;forEach(inputs,function(input){result.push("var "+input.name+"="+self.generateFunction(input.name,"s"));if(input.isPure){result.push(input.name,".isPure="+JSON.stringify(input.isPure)+";")}});if(inputs.length){result.push("fn.inputs=["+inputs.map(function(i){return i.name}).join(",")+"];")}return result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[];var self=this;forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")});if(parts.length)return"var "+parts.join(",")+";";return""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,self=this,args,expression,computed;recursionFn=recursionFn||noop;if(!skipWatchIdCheck&&isDefined(ast.watchId)){intoId=intoId||this.nextId();this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,true));return}switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr});if(pos!==ast.body.length-1){self.current().body.push(right,";")}else{self.return_(right)}});break;case AST.Literal:expression=this.escape(ast.value);this.assign(intoId,expression);recursionFn(intoId||expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr});expression=ast.operator+"("+this.ifDefined(right,0)+")";this.assign(intoId,expression);recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr});this.recurse(ast.right,undefined,undefined,function(expr){right=expr});if(ast.operator==="+"){expression=this.plus(left,right)}else if(ast.operator==="-"){expression=this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0)}else{expression="("+left+")"+ast.operator+"("+right+")"}this.assign(intoId,expression);recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId();self.recurse(ast.left,intoId);self.if_(ast.operator==="&&"?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId));recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId();self.recurse(ast.test,intoId);self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId));recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId();if(nameId){nameId.context=self.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s");nameId.computed=false;nameId.name=ast.name}self.if_(self.stage==="inputs"||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_(self.stage==="inputs"||"s",function(){if(create&&create!==1){self.if_(self.isNull(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}"))}self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name)));recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId();intoId=intoId||this.nextId();self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){if(ast.computed){right=self.nextId();self.recurse(ast.property,right);self.getStringValue(right);if(create&&create!==1){self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}"))}expression=self.computedMember(left,right);self.assign(intoId,expression);if(nameId){nameId.computed=true;nameId.name=right}}else{if(create&&create!==1){self.if_(self.isNull(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}"))}expression=self.nonComputedMember(left,ast.property.name);self.assign(intoId,expression);if(nameId){nameId.computed=false;nameId.name=ast.property.name}}},function(){self.assign(intoId,"undefined")});recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId();if(ast.filter){right=self.filter(ast.callee.name);args=[];forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument);args.push(argument)});expression=right+"("+args.join(",")+")";self.assign(intoId,expression);recursionFn(intoId)}else{right=self.nextId();left={};args=[];self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){forEach(ast.arguments,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})});if(left.name){expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"}else{expression=right+"("+args.join(",")+")"}self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")});recursionFn(intoId)})}break;case AST.AssignmentExpression:right=this.nextId();left={};this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right);expression=self.member(left.context,left.name,left.computed)+ast.operator+right;self.assign(intoId,expression);recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})});expression="["+args.join(",")+"]";this.assign(intoId,expression);recursionFn(intoId||expression);break;case AST.ObjectExpression:args=[];computed=false;forEach(ast.properties,function(property){if(property.computed){computed=true}});if(computed){intoId=intoId||this.nextId();this.assign(intoId,"{}");forEach(ast.properties,function(property){if(property.computed){left=self.nextId();self.recurse(property.key,left)}else{left=property.key.type===AST.Identifier?property.key.name:""+property.key.value}right=self.nextId();self.recurse(property.value,right);self.assign(self.member(intoId,left,property.computed),right)})}else{forEach(ast.properties,function(property){self.recurse(property.value,ast.constant?undefined:self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})});expression="{"+args.join(",")+"}";this.assign(intoId,expression)}recursionFn(intoId||expression);break;case AST.ThisExpression:this.assign(intoId,"s");recursionFn(intoId||"s");break;case AST.LocalsExpression:this.assign(intoId,"l");recursionFn(intoId||"l");break;case AST.NGValueParameter:this.assign(intoId,"v");recursionFn(intoId||"v");break}},getHasOwnProperty:function(element,property){var key=element+"."+property;var own=this.current().own;if(!own.hasOwnProperty(key)){own[key]=this.nextId(false,element+"&&("+this.escape(property)+" in "+element+")")}return own[key]},assign:function(id,value){if(!id)return;this.current().body.push(id,"=",value,";");return id},filter:function(filterName){if(!this.state.filters.hasOwnProperty(filterName)){this.state.filters[filterName]=this.nextId(true)}return this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===true){alternate()}else{var body=this.current().body;body.push("if(",test,"){");alternate();body.push("}");if(consequent){body.push("else{");consequent();body.push("}")}}},not:function(expression){return"!("+expression+")"},isNull:function(expression){return expression+"==null"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){var SAFE_IDENTIFIER=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var UNSAFE_CHARACTERS=/[^$_a-zA-Z0-9]/g;if(SAFE_IDENTIFIER.test(right)){return left+"."+right}else{return left+'["'+right.replace(UNSAFE_CHARACTERS,this.stringEscapeFn)+'"]'}},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){if(computed)return this.computedMember(left,right);return this.nonComputedMember(left,right)},getStringValue:function(item){this.assign(item,"getStringValue("+item+")")},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===true)return"true";if(value===false)return"false";if(value===null)return"null";if(typeof value==="undefined")return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;if(!skip){this.current().vars.push(id+(init?"="+init:""))}return id},current:function(){return this.state[this.state.computing]}};function ASTInterpreter($filter){this.$filter=$filter}ASTInterpreter.prototype={compile:function(ast){var self=this;findConstantAndWatchExpressions(ast,self.$filter);var assignable;var assign;if(assignable=assignableAST(ast)){assign=this.recurse(assignable)}var toWatch=getInputs(ast.body);var inputs;if(toWatch){inputs=[];forEach(toWatch,function(watch,key){var input=self.recurse(watch);input.isPure=watch.isPure;watch.input=input;inputs.push(input);watch.watchId=key})}var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=ast.body.length===0?noop:ast.body.length===1?expressions[0]:function(scope,locals){var lastValue;forEach(expressions,function(exp){lastValue=exp(scope,locals)});return lastValue};if(assign){fn.assign=function(scope,value,locals){return assign(scope,locals,value)}}if(inputs){fn.inputs=inputs}return fn},recurse:function(ast,context,create){var left,right,self=this,args;if(ast.input){return this.inputs(ast.input,ast.watchId)}switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:right=this.recurse(ast.argument);return this["unary"+ast.operator](right,context);case AST.BinaryExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return self.identifier(ast.name,context,create);case AST.MemberExpression:left=this.recurse(ast.object,false,!!create);if(!ast.computed){right=ast.property.name}if(ast.computed)right=this.recurse(ast.property);return ast.computed?this.computedMember(left,right,context,create):this.nonComputedMember(left,right,context,create);case AST.CallExpression:args=[];forEach(ast.arguments,function(expr){args.push(self.recurse(expr))});if(ast.filter)right=this.$filter(ast.callee.name);if(!ast.filter)right=this.recurse(ast.callee,true);return ast.filter?function(scope,locals,assign,inputs){var values=[];for(var i=0;i<args.length;++i){values.push(args[i](scope,locals,assign,inputs))}var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var rhs=right(scope,locals,assign,inputs);var value;if(rhs.value!=null){var values=[];for(var i=0;i<args.length;++i){values.push(args[i](scope,locals,assign,inputs))}value=rhs.value.apply(rhs.context,values)}return context?{value:value}:value};case AST.AssignmentExpression:left=this.recurse(ast.left,true,1);right=this.recurse(ast.right);return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);lhs.context[lhs.name]=rhs;return context?{value:rhs}:rhs};case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){args.push(self.recurse(expr))});return function(scope,locals,assign,inputs){var value=[];for(var i=0;i<args.length;++i){value.push(args[i](scope,locals,assign,inputs))}return context?{value:value}:value};case AST.ObjectExpression:args=[];forEach(ast.properties,function(property){if(property.computed){args.push({key:self.recurse(property.key),computed:true,value:self.recurse(property.value)})}else{args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,computed:false,value:self.recurse(property.value)})}});return function(scope,locals,assign,inputs){var value={};for(var i=0;i<args.length;++i){if(args[i].computed){value[args[i].key(scope,locals,assign,inputs)]=args[i].value(scope,locals,assign,inputs)}else{value[args[i].key]=args[i].value(scope,locals,assign,inputs)}}return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=+arg}else{arg=0}return context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=-arg}else{arg=-0}return context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,context,create){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;if(create&&create!==1&&base&&base[name]==null){base[name]={}}var value=base?base[name]:undefined;if(context){return{context:base,name:name,value:value}}else{return value}}},computedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs;var value;if(lhs!=null){rhs=right(scope,locals,assign,inputs);rhs=getStringValue(rhs);if(create&&create!==1){if(lhs&&!lhs[rhs]){lhs[rhs]={}}}value=lhs[rhs]}if(context){return{context:lhs,name:rhs,value:value}}else{return value}}},nonComputedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);if(create&&create!==1){if(lhs&&lhs[right]==null){lhs[right]={}}}var value=lhs!=null?lhs[right]:undefined;if(context){return{context:lhs,name:right,value:value}}else{return value}}},inputs:function(input,watchId){return function(scope,value,locals,inputs){if(inputs)return inputs[watchId];return input(scope,value,locals)}}};function Parser(lexer,$filter,options){this.ast=new AST(lexer,options);this.astCompiler=options.csp?new ASTInterpreter($filter):new ASTCompiler($filter)}Parser.prototype={constructor:Parser,parse:function(text){var ast=this.getAst(text);var fn=this.astCompiler.compile(ast.ast);fn.literal=isLiteral(ast.ast);fn.constant=isConstant(ast.ast);fn.oneTime=ast.oneTime;return fn},getAst:function(exp){var oneTime=false;exp=exp.trim();if(exp.charAt(0)===":"&&exp.charAt(1)===":"){oneTime=true;exp=exp.substring(2)}return{ast:this.ast.ast(exp),oneTime:oneTime}}};function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cache=createMap();var literals={true:true,false:false,null:null,undefined:undefined};var identStart,identContinue;this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue};this.setIdentifierFns=function(identifierStart,identifierContinue){identStart=identifierStart;identContinue=identifierContinue;return this};this.$get=["$filter",function($filter){var noUnsafeEval=csp().noUnsafeEval;var $parseOptions={csp:noUnsafeEval,literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue};$parse.$$getAst=$$getAst;return $parse;function $parse(exp,interceptorFn){var parsedExpression,cacheKey;switch(typeof exp){case"string":exp=exp.trim();cacheKey=exp;parsedExpression=cache[cacheKey];if(!parsedExpression){var lexer=new Lexer($parseOptions);var parser=new Parser(lexer,$filter,$parseOptions);parsedExpression=parser.parse(exp);cache[cacheKey]=addWatchDelegate(parsedExpression)}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}function $$getAst(exp){var lexer=new Lexer($parseOptions);var parser=new Parser(lexer,$filter,$parseOptions);return parser.getAst(exp).ast}function expressionInputDirtyCheck(newValue,oldValueOfValue,compareObjectIdentity){if(newValue==null||oldValueOfValue==null){return newValue===oldValueOfValue}if(typeof newValue==="object"){newValue=getValueOf(newValue);if(typeof newValue==="object"&&!compareObjectIdentity){return false}}return newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var inputExpressions=parsedExpression.inputs;var lastResult;if(inputExpressions.length===1){var oldInputValueOf=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);if(!expressionInputDirtyCheck(newInputValue,oldInputValueOf,inputExpressions.isPure)){lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]);oldInputValueOf=newInputValue&&getValueOf(newInputValue)}return lastResult},listener,objectEquality,prettyPrintExpression)}var oldInputValueOfValues=[];var oldInputValues=[];for(var i=0,ii=inputExpressions.length;i<ii;i++){oldInputValueOfValues[i]=expressionInputDirtyCheck;oldInputValues[i]=null}return scope.$watch(function expressionInputsWatch(scope){var changed=false;for(var i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);if(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i],inputExpressions[i].isPure))){oldInputValues[i]=newInputValue;oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue)}}if(changed){lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)}return lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var isDone=parsedExpression.literal?isAllDefined:isDefined;var unwatch,lastValue;var exp=parsedExpression.$$intercepted||parsedExpression;var post=parsedExpression.$$interceptor||identity;var useInputs=parsedExpression.inputs&&!exp.inputs;oneTimeWatch.literal=parsedExpression.literal;oneTimeWatch.constant=parsedExpression.constant;oneTimeWatch.inputs=parsedExpression.inputs;addWatchDelegate(oneTimeWatch);unwatch=scope.$watch(oneTimeWatch,listener,objectEquality,prettyPrintExpression);return unwatch;function unwatchIfDone(){if(isDone(lastValue)){unwatch()}}function oneTimeWatch(scope,locals,assign,inputs){lastValue=useInputs&&inputs?inputs[0]:exp(scope,locals,assign,inputs);if(isDone(lastValue)){scope.$$postDigest(unwatchIfDone)}return post(lastValue)}}function isAllDefined(value){var allDefined=true;forEach(value,function(val){if(!isDefined(val))allDefined=false});return allDefined}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch=scope.$watch(function constantWatch(scope){unwatch();return parsedExpression(scope)},listener,objectEquality);return unwatch}function addWatchDelegate(parsedExpression){if(parsedExpression.constant){parsedExpression.$$watchDelegate=constantWatchDelegate}else if(parsedExpression.oneTime){parsedExpression.$$watchDelegate=oneTimeWatchDelegate}else if(parsedExpression.inputs){parsedExpression.$$watchDelegate=inputsWatchDelegate}return parsedExpression}function chainInterceptors(first,second){function chainedInterceptor(value){return second(first(value))}chainedInterceptor.$stateful=first.$stateful||second.$stateful;chainedInterceptor.$$pure=first.$$pure&&second.$$pure;return chainedInterceptor}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;if(parsedExpression.$$interceptor){interceptorFn=chainInterceptors(parsedExpression.$$interceptor,interceptorFn);parsedExpression=parsedExpression.$$intercepted}var useInputs=false;var fn=function interceptedExpression(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value)};fn.$$intercepted=parsedExpression;fn.$$interceptor=interceptorFn;fn.literal=parsedExpression.literal;fn.oneTime=parsedExpression.oneTime;fn.constant=parsedExpression.constant;if(!interceptorFn.$stateful){useInputs=!parsedExpression.inputs;fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression];if(!interceptorFn.$$pure){fn.inputs=fn.inputs.map(function(e){if(e.isPure===PURITY_RELATIVE){return function depurifier(s){return e(s)}}return e})}}return addWatchDelegate(fn)}}]}function $QProvider(){var errorOnUnhandledRejections=true;this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler,errorOnUnhandledRejections)}];this.errorOnUnhandledRejections=function(value){if(isDefined(value)){errorOnUnhandledRejections=value;return this}else{return errorOnUnhandledRejections}}}function $$QProvider(){var errorOnUnhandledRejections=true;this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler,errorOnUnhandledRejections)}];this.errorOnUnhandledRejections=function(value){if(isDefined(value)){errorOnUnhandledRejections=value;return this}else{return errorOnUnhandledRejections}}}function qFactory(nextTick,exceptionHandler,errorOnUnhandledRejections){var $qMinErr=minErr("$q",TypeError);var queueSize=0;var checkQueue=[];function defer(){return new Deferred}function Deferred(){var promise=this.promise=new Promise;this.resolve=function(val){resolvePromise(promise,val)};this.reject=function(reason){rejectPromise(promise,reason)};this.notify=function(progress){notifyPromise(promise,progress)}}function Promise(){this.$$state={status:0}}extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack)){return this}var result=new Promise;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);if(this.$$state.status>0)scheduleProcessQueue(this.$$state);return result},catch:function(callback){return this.then(null,callback)},finally:function(callback,progressBack){return this.then(function(value){return handleCallback(value,resolve,callback)},function(error){return handleCallback(error,reject,callback)},progressBack)}});function processQueue(state){var fn,promise,pending;pending=state.pending;state.processScheduled=false;state.pending=undefined;try{for(var i=0,ii=pending.length;i<ii;++i){markQStateExceptionHandled(state);promise=pending[i][0];fn=pending[i][state.status];try{if(isFunction(fn)){resolvePromise(promise,fn(state.value))}else if(state.status===1){resolvePromise(promise,state.value)}else{rejectPromise(promise,state.value)}}catch(e){rejectPromise(promise,e);if(e&&e.$$passToExceptionHandler===true){exceptionHandler(e)}}}}finally{--queueSize;if(errorOnUnhandledRejections&&queueSize===0){nextTick(processChecks)}}}function processChecks(){while(!queueSize&&checkQueue.length){var toCheck=checkQueue.shift();if(!isStateExceptionHandled(toCheck)){markQStateExceptionHandled(toCheck);var errorMessage="Possibly unhandled rejection: "+toDebugString(toCheck.value);if(isError(toCheck.value)){exceptionHandler(toCheck.value,errorMessage)}else{exceptionHandler(errorMessage)}}}}function scheduleProcessQueue(state){if(errorOnUnhandledRejections&&!state.pending&&state.status===2&&!isStateExceptionHandled(state)){if(queueSize===0&&checkQueue.length===0){nextTick(processChecks)}checkQueue.push(state)}if(state.processScheduled||!state.pending)return;state.processScheduled=true;++queueSize;nextTick(function(){processQueue(state)})}function resolvePromise(promise,val){if(promise.$$state.status)return;if(val===promise){$$reject(promise,$qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val))}else{$$resolve(promise,val)}}function $$resolve(promise,val){var then;var done=false;try{if(isObject(val)||isFunction(val))then=val.then;if(isFunction(then)){promise.$$state.status=-1;then.call(val,doResolve,doReject,doNotify)}else{promise.$$state.value=val;promise.$$state.status=1;scheduleProcessQueue(promise.$$state)}}catch(e){doReject(e)}function doResolve(val){if(done)return;done=true;$$resolve(promise,val)}function doReject(val){if(done)return;done=true;$$reject(promise,val)}function doNotify(progress){notifyPromise(promise,progress)}}function rejectPromise(promise,reason){if(promise.$$state.status)return;$$reject(promise,reason)}function $$reject(promise,reason){promise.$$state.value=reason;promise.$$state.status=2;scheduleProcessQueue(promise.$$state)}function notifyPromise(promise,progress){var callbacks=promise.$$state.pending;if(promise.$$state.status<=0&&callbacks&&callbacks.length){nextTick(function(){var callback,result;for(var i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0];callback=callbacks[i][3];try{notifyPromise(result,isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}}function reject(reason){var result=new Promise;rejectPromise(result,reason);return result}function handleCallback(value,resolver,callback){var callbackOutput=null;try{if(isFunction(callback))callbackOutput=callback()}catch(e){return reject(e)}if(isPromiseLike(callbackOutput)){return callbackOutput.then(function(){return resolver(value)},reject)}else{return resolver(value)}}function when(value,callback,errback,progressBack){var result=new Promise;resolvePromise(result,value);return result.then(callback,errback,progressBack)}var resolve=when;function all(promises){var result=new Promise,counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){results[key]=value;if(!--counter)resolvePromise(result,results)},function(reason){rejectPromise(result,reason)})});if(counter===0){resolvePromise(result,results)}return result}function race(promises){var deferred=defer();forEach(promises,function(promise){when(promise).then(deferred.resolve,deferred.reject)});return deferred.promise}function $Q(resolver){if(!isFunction(resolver)){throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver)}var promise=new Promise;function resolveFn(value){resolvePromise(promise,value)}function rejectFn(reason){rejectPromise(promise,reason)}resolver(resolveFn,rejectFn);return promise}$Q.prototype=Promise.prototype;$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.resolve=resolve;$Q.all=all;$Q.race=race;return $Q}function isStateExceptionHandled(state){return!!state.pur}function markQStateExceptionHandled(state){state.pur=true}function markQExceptionHandled(q){markQStateExceptionHandled(q.$$state)}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame;var cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame;var rafSupported=!!requestAnimationFrame;var raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,false);return function(){$timeout.cancel(timer)}};raf.supported=rafSupported;return raf}]}function $RootScopeProvider(){var TTL=10;var $rootScopeMinErr=minErr("$rootScope");var lastDirtyWatch=null;var applyAsyncId=null;this.digestTtl=function(value){if(arguments.length){TTL=value}return TTL};function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=nextUid();this.$$ChildScope=null;this.$$suspended=false}ChildScope.prototype=parent;return ChildScope}this.$get=["$exceptionHandler","$parse","$browser",function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=true}function cleanUpScope($scope){if(msie===9){if($scope.$$childHead){cleanUpScope($scope.$$childHead)}if($scope.$$nextSibling){cleanUpScope($scope.$$nextSibling)}}$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$suspended=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;parent=parent||this;if(isolate){child=new Scope;child.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=createChildScopeClass(this)}child=new this.$$ChildScope}child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child}else{parent.$$childHead=parent.$$childTail=child}if(isolate||parent!==this)child.$on("$destroy",destroyChildScope);return child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);var fn=isFunction(listener)?listener:noop;if(get.$$watchDelegate){return get.$$watchDelegate(this,fn,objectEquality,get,watchExp)}var scope=this,array=scope.$$watchers,watcher={fn:fn,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};lastDirtyWatch=null;if(!array){array=scope.$$watchers=[];array.$$digestWatchIndex=-1}array.unshift(watcher);array.$$digestWatchIndex++;incrementWatchersCount(this,1);return function deregisterWatch(){var index=arrayRemove(array,watcher);if(index>=0){incrementWatchersCount(scope,-1);if(index<array.$$digestWatchIndex){array.$$digestWatchIndex--}}lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){var oldValues=new Array(watchExpressions.length);var newValues=new Array(watchExpressions.length);var deregisterFns=[];var self=this;var changeReactionScheduled=false;var firstRun=true;if(!watchExpressions.length){var shouldCall=true;self.$evalAsync(function(){if(shouldCall)listener(newValues,newValues,self)});return function deregisterWatchGroup(){shouldCall=false}}if(watchExpressions.length===1){return this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,value===oldValue?newValues:oldValues,scope)})}forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value){newValues[i]=value;if(!changeReactionScheduled){changeReactionScheduled=true;self.$evalAsync(watchGroupAction)}});deregisterFns.push(unwatchFn)});function watchGroupAction(){changeReactionScheduled=false;try{if(firstRun){firstRun=false;listener(newValues,newValues,self)}else{listener(newValues,oldValues,self)}}finally{for(var i=0;i<watchExpressions.length;i++){oldValues[i]=newValues[i]}}}return function deregisterWatchGroup(){while(deregisterFns.length){deregisterFns.shift()()}}},$watchCollection:function(obj,listener){$watchCollectionInterceptor.$$pure=$parse(obj).literal;$watchCollectionInterceptor.$stateful=!$watchCollectionInterceptor.$$pure;var self=this;var newValue;var oldValue;var veryOldValue;var trackVeryOldValue=listener.length>1;var changeDetected=0;var changeDetector=$parse(obj,$watchCollectionInterceptor);var internalArray=[];var internalObject={};var initRun=true;var oldLength=0;function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(isUndefined(newValue))return;if(!isObject(newValue)){if(oldValue!==newValue){oldValue=newValue;changeDetected++}}else if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++}newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength}for(var i=0;i<newLength;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[i]=newItem}}}else{if(oldValue!==internalObject){oldValue=internalObject={};oldLength=0;changeDetected++}newLength=0;for(key in newValue){if(hasOwnProperty.call(newValue,key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[key]=newItem}}else{oldLength++;oldValue[key]=newItem;changeDetected++}}}if(oldLength>newLength){changeDetected++;for(key in oldValue){if(!hasOwnProperty.call(newValue,key)){oldLength--;delete oldValue[key]}}}}return changeDetected}function $watchCollectionAction(){if(initRun){initRun=false;listener(newValue,newValue,self)}else{listener(newValue,veryOldValue,self)}if(trackVeryOldValue){if(!isObject(newValue)){veryOldValue=newValue}else if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++){veryOldValue[i]=newValue[i]}}else{veryOldValue={};for(var key in newValue){if(hasOwnProperty.call(newValue,key)){veryOldValue[key]=newValue[key]}}}}}return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,fn,get,watchers,dirty,ttl=TTL,next,current,target=asyncQueue.length?$rootScope:this,watchLog=[],logIdx,asyncTask;beginPhase("$digest");$browser.$$checkUrlChange();if(this===$rootScope&&applyAsyncId!==null){$browser.defer.cancel(applyAsyncId);flushApplyAsync()}lastDirtyWatch=null;do{dirty=false;current=target;for(var asyncQueuePosition=0;asyncQueuePosition<asyncQueue.length;asyncQueuePosition++){try{asyncTask=asyncQueue[asyncQueuePosition];fn=asyncTask.fn;fn(asyncTask.scope,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}asyncQueue.length=0;traverseScopesLoop:do{if(watchers=!current.$$suspended&&current.$$watchers){watchers.$$digestWatchIndex=watchers.length;while(watchers.$$digestWatchIndex--){try{watch=watchers[watchers.$$digestWatchIndex];if(watch){get=watch.get;if((value=get(current))!==(last=watch.last)&&!(watch.eq?equals(value,last):isNumberNaN(value)&&isNumberNaN(last))){dirty=true;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;fn=watch.fn;fn(value,last===initWatchVal?value:last,current);if(ttl<5){logIdx=4-ttl;if(!watchLog[logIdx])watchLog[logIdx]=[];watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last})}}else if(watch===lastDirtyWatch){dirty=false;break traverseScopesLoop}}}catch(e){$exceptionHandler(e)}}}if(!(next=!current.$$suspended&&current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling)){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent}}}while(current=next);if((dirty||asyncQueue.length)&&!ttl--){clearPhase();throw $rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",TTL,watchLog)}}while(dirty||asyncQueue.length);clearPhase();while(postDigestQueuePosition<postDigestQueue.length){try{postDigestQueue[postDigestQueuePosition++]()}catch(e){$exceptionHandler(e)}}postDigestQueue.length=postDigestQueuePosition=0;$browser.$$checkUrlChange()},$suspend:function(){this.$$suspended=true},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=false},$destroy:function(){if(this.$$destroyed)return;var parent=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===$rootScope){$browser.$$applicationDestroyed()}incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount){decrementListenerCount(this,this.$$listenerCount[eventName],eventName)}if(parent&&parent.$$childHead===this)parent.$$childHead=this.$$nextSibling;if(parent&&parent.$$childTail===this)parent.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop};this.$$listeners={};this.$$nextSibling=null;cleanUpScope(this)},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){if(!$rootScope.$$phase&&!asyncQueue.length){$browser.defer(function(){if(asyncQueue.length){$rootScope.$digest()}},null,"$evalAsync")}asyncQueue.push({scope:this,fn:$parse(expr),locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){$exceptionHandler(e);throw e}}},$applyAsync:function(expr){var scope=this;if(expr){applyAsyncQueue.push($applyAsyncExpression)}expr=$parse(expr);scheduleApplyAsync();function $applyAsyncExpression(){scope.$eval(expr)}},$on:function(name,listener){var namedListeners=this.$$listeners[name];if(!namedListeners){this.$$listeners[name]=namedListeners=[]}namedListeners.push(listener);var current=this;do{if(!current.$$listenerCount[name]){current.$$listenerCount[name]=0}current.$$listenerCount[name]++}while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);if(indexOfListener!==-1){delete namedListeners[indexOfListener];decrementListenerCount(self,1,name)}}},$emit:function(name,args){var empty=[],namedListeners,scope=this,stopPropagation=false,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=true},preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false},listenerArgs=concat([event],arguments,1),i,length;do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=scope;for(i=0,length=namedListeners.length;i<length;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue}try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(stopPropagation){break}scope=scope.$parent}while(scope);event.currentScope=null;return event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false};if(!target.$$listenerCount[name])return event;var listenerArgs=concat([event],arguments,1),listeners,i,length;while(current=next){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;i<length;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue}try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling)){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent}}}event.currentScope=null;return event}};var $rootScope=new Scope;var asyncQueue=$rootScope.$$asyncQueue=[];var postDigestQueue=$rootScope.$$postDigestQueue=[];var applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];var postDigestQueuePosition=0;return $rootScope;function beginPhase(phase){if($rootScope.$$phase){throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase)}$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do{current.$$watchersCount+=count}while(current=current.$parent)}function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;if(current.$$listenerCount[name]===0){delete current.$$listenerCount[name]}}while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){while(applyAsyncQueue.length){try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}}applyAsyncId=null}function scheduleApplyAsync(){if(applyAsyncId===null){applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)},null,"$applyAsync")}}}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|s?ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){aHrefSanitizationWhitelist=regexp;return this}return aHrefSanitizationWhitelist};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){imgSrcSanitizationWhitelist=regexp;return this}return imgSrcSanitizationWhitelist};this.$get=function(){return function sanitizeUri(uri,isMediaUrl){var regex=isMediaUrl?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;var normalizedVal=urlResolve(uri&&uri.trim()).href;if(normalizedVal!==""&&!normalizedVal.match(regex)){return"unsafe:"+normalizedVal}return uri}}}var $sceMinErr=minErr("$sce");var SCE_CONTEXTS={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var UNDERSCORE_LOWERCASE_REGEXP=/_([a-z])/g;function snakeToCamel(name){return name.replace(UNDERSCORE_LOWERCASE_REGEXP,fnCamelCaseReplace)}function adjustMatcher(matcher){if(matcher==="self"){return matcher}else if(isString(matcher)){if(matcher.indexOf("***")>-1){throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher)}matcher=escapeForRegexp(matcher).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+matcher+"$")}else if(isRegExp(matcher)){return new RegExp("^"+matcher.source+"$")}else{throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function adjustMatchers(matchers){var adjustedMatchers=[];if(isDefined(matchers)){forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))})}return adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){if(arguments.length){resourceUrlWhitelist=adjustMatchers(value)}return resourceUrlWhitelist};this.resourceUrlBlacklist=function(value){if(arguments.length){resourceUrlBlacklist=adjustMatchers(value)}return resourceUrlBlacklist};this.$get=["$injector","$$sanitizeUri",function($injector,$$sanitizeUri){var htmlSanitizer=function htmlSanitizer(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};if($injector.has("$sanitize")){htmlSanitizer=$injector.get("$sanitize")}function matchUrl(matcher,parsedUrl){if(matcher==="self"){return urlIsSameOrigin(parsedUrl)||urlIsSameOriginAsBaseUrl(parsedUrl)}else{return!!matcher.exec(parsedUrl.href)}}function isResourceUrlAllowedByPolicy(url){var parsedUrl=urlResolve(url.toString());var i,n,allowed=false;for(i=0,n=resourceUrlWhitelist.length;i<n;i++){if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=true;break}}if(allowed){for(i=0,n=resourceUrlBlacklist.length;i<n;i++){if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=false;break}}}return allowed}function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};if(Base){holderType.prototype=new Base}holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue()};holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString()};return holderType}var trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.MEDIA_URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(byType[SCE_CONTEXTS.MEDIA_URL]);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor){throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue)}if(trustedValue===null||isUndefined(trustedValue)||trustedValue===""){return trustedValue}if(typeof trustedValue!=="string"){throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type)}return new Constructor(trustedValue)}function valueOf(maybeTrusted){if(maybeTrusted instanceof trustedValueHolderBase){return maybeTrusted.$$unwrapTrustedValue()}else{return maybeTrusted}}function getTrusted(type,maybeTrusted){if(maybeTrusted===null||isUndefined(maybeTrusted)||maybeTrusted===""){return maybeTrusted}var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor){return maybeTrusted.$$unwrapTrustedValue()}if(isFunction(maybeTrusted.$$unwrapTrustedValue)){maybeTrusted=maybeTrusted.$$unwrapTrustedValue()}if(type===SCE_CONTEXTS.MEDIA_URL||type===SCE_CONTEXTS.URL){return $$sanitizeUri(maybeTrusted,type===SCE_CONTEXTS.MEDIA_URL)}else if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted)){return maybeTrusted}else{throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}}else if(type===SCE_CONTEXTS.HTML){return htmlSanitizer(maybeTrusted)}throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=true;this.enabled=function(value){if(arguments.length){enabled=!!value}return enabled};this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8){throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value};sce.valueOf=identity}sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);if(parsed.literal&&parsed.constant){return parsed}else{return $parse(expr,function(value){return sce.getTrusted(type,value)})}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[snakeToCamel("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)};sce[snakeToCamel("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)};sce[snakeToCamel("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}});return sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var eventSupport={},isNw=$window.nw&&$window.nw.process,isChromePackagedApp=!isNw&&$window.chrome&&($window.chrome.app&&$window.chrome.app.runtime||!$window.chrome.app&&$window.chrome.runtime&&$window.chrome.runtime.id),hasHistoryPushState=!isChromePackagedApp&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},bodyStyle=document.body&&document.body.style,transitions=false,animations=false;if(bodyStyle){transitions=!!("transition"in bodyStyle||"webkitTransition"in bodyStyle);animations=!!("animation"in bodyStyle||"webkitAnimation"in bodyStyle)}return{history:!!(hasHistoryPushState&&!(android<4)&&!boxee),hasEvent:function(event){if(event==="input"&&msie)return false;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),transitions:transitions,animations:animations,android:android}}]}function $$TaskTrackerFactoryProvider(){this.$get=valueFn(function(log){return new TaskTracker(log)})}function TaskTracker(log){var self=this;var taskCounts={};var taskCallbacks=[];var ALL_TASKS_TYPE=self.ALL_TASKS_TYPE="$$all$$";var DEFAULT_TASK_TYPE=self.DEFAULT_TASK_TYPE="$$default$$";self.completeTask=completeTask;self.incTaskCount=incTaskCount;self.notifyWhenNoPendingTasks=notifyWhenNoPendingTasks;function completeTask(fn,taskType){taskType=taskType||DEFAULT_TASK_TYPE;try{fn()}finally{decTaskCount(taskType);var countForType=taskCounts[taskType];var countForAll=taskCounts[ALL_TASKS_TYPE];if(!countForAll||!countForType){var getNextCallback=!countForAll?getLastCallback:getLastCallbackForType;var nextCb;while(nextCb=getNextCallback(taskType)){try{nextCb()}catch(e){log.error(e)}}}}}function decTaskCount(taskType){taskType=taskType||DEFAULT_TASK_TYPE;if(taskCounts[taskType]){taskCounts[taskType]--;taskCounts[ALL_TASKS_TYPE]--}}function getLastCallback(){var cbInfo=taskCallbacks.pop();return cbInfo&&cbInfo.cb}function getLastCallbackForType(taskType){for(var i=taskCallbacks.length-1;i>=0;--i){var cbInfo=taskCallbacks[i];if(cbInfo.type===taskType){taskCallbacks.splice(i,1);return cbInfo.cb}}}function incTaskCount(taskType){taskType=taskType||DEFAULT_TASK_TYPE;taskCounts[taskType]=(taskCounts[taskType]||0)+1;taskCounts[ALL_TASKS_TYPE]=(taskCounts[ALL_TASKS_TYPE]||0)+1}function notifyWhenNoPendingTasks(callback,taskType){taskType=taskType||ALL_TASKS_TYPE;if(!taskCounts[taskType]){callback()}else{taskCallbacks.push({type:taskType,cb:callback})}}}var $templateRequestMinErr=minErr("$templateRequest");function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){if(val){httpOptions=val;return this}return httpOptions};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function($exceptionHandler,$templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){handleRequestFn.totalPendingRequests++;if(!isString(tpl)||isUndefined($templateCache.get(tpl))){tpl=$sce.getTrustedResourceUrl(tpl)}var transformResponse=$http.defaults&&$http.defaults.transformResponse;if(isArray(transformResponse)){transformResponse=transformresponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform})}else if(transformResponse===defaultHttpResponseTransform){transformResponse=null}return $http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data)},handleError);function handleError(resp){if(!ignoreRequestError){resp=$templateRequestMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);$exceptionHandler(resp)}return $q.reject(resp)}}handleRequestFn.totalPendingRequests=0;return handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding");var matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");if(dataBinding){forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");if(matcher.test(bindingName)){matches.push(binding)}}else{if(bindingName.indexOf(expression)!==-1){matches.push(binding)}}})}});return matches};testability.findModels=function(element,expression,opt_exactMatch){var prefixes=["ng-","data-ng-","ng\\:"];for(var p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=";var selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]';var elements=element.querySelectorAll(selector);if(elements.length){return elements}}};testability.getLocation=function(){return $location.url()};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest()}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)};return testability}]}var $timeoutMinErr=minErr("$timeout");function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){var deferreds={};function timeout(fn,delay,invokeApply){if(!isFunction(fn)){invokeApply=delay;delay=fn;fn=noop}var args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise,timeoutId;timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e);$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}if(!skipApply)$rootScope.$apply()},delay,"$timeout");promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise}timeout.cancel=function(promise){if(!promise)return false;if(!promise.hasOwnProperty("$$timeoutId")){throw $timeoutMinErr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")}if(!deferreds.hasOwnProperty(promise.$$timeoutId))return false;var id=promise.$$timeoutId;var deferred=deferreds[id];markQExceptionHandled(deferred.promise);deferred.reject("canceled");delete deferreds[id];return $browser.defer.cancel(id)};return timeout}]}var urlParsingNode=window.document.createElement("a");var originUrl=urlResolve(window.location.href);var baseUrlParsingNode;function urlResolve(url){if(!isString(url))return url;var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:urlParsingNode.pathname.charAt(0)==="/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){return urlsAreSameOrigin(requestUrl,originUrl)}function urlIsSameOriginAsBaseUrl(requestUrl){return urlsAreSameOrigin(requestUrl,getBaseUrl())}function urlIsAllowedOriginFactory(whitelistedOriginUrls){var parsedAllowedOriginUrls=[originUrl].concat(whitelistedOriginUrls.map(urlResolve));return function urlIsAllowedOrigin(requestUrl){var parsedUrl=urlResolve(requestUrl);return parsedAllowedOriginUrls.some(urlsAreSameOrigin.bind(null,parsedUrl))}}function urlsAreSameOrigin(url1,url2){url1=urlResolve(url1);url2=urlResolve(url2);return url1.protocol===url2.protocol&&url1.host===url2.host}function getBaseUrl(){if(window.document.baseURI){return window.document.baseURI}if(!baseUrlParsingNode){baseUrlParsingNode=window.document.createElement("a");baseUrlParsingNode.href=".";baseUrlParsingNode=baseUrlParsingNode.cloneNode(false)}return baseUrlParsingNode.href}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){var rawDocument=$document[0]||{};var lastCookies={};var lastCookieString="";function safeGetCookie(rawDocument){try{return rawDocument.cookie||""}catch(e){return""}}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}return function(){var cookieArray,cookie,i,index,name;var currentCookieString=safeGetCookie(rawDocument);if(currentCookieString!==lastCookieString){lastCookieString=currentCookieString;cookieArray=lastCookieString.split("; ");lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=cookieArray[i];index=cookie.indexOf("=");if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));if(isUndefined(lastCookies[name])){lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))}}}}return lastCookies}}$$CookieReader.$inject=["$document"];function $$CookieReaderProvider(){this.$get=$$CookieReader}$FilterProvider.$inject=["$provide"];function $FilterProvider($provide){var suffix="Filter";function register(name,factory){if(isObject(name)){var filters={};forEach(name,function(filter,key){filters[key]=register(key,filter)});return filters}else{return $provide.factory(name+suffix,factory)}}this.register=register;this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}];register("currency",currencyFilter);register("date",dateFilter);register("filter",filterFilter);register("json",jsonFilter);register("limitTo",limitToFilter);register("lowercase",lowercaseFilter);register("number",numberFilter);register("orderBy",orderByFilter);register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator,anyPropertyKey){if(!isArrayLike(array)){if(array==null){return array}else{throw minErr("filter")("notarray","Expected array but received: {0}",array)}}anyPropertyKey=anyPropertyKey||"$";var expressionType=getTypeForFilter(expression);var predicateFn;var matchAgainstAnyProp;switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=true;case"object":predicateFn=createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&anyPropertyKey in expression;var predicateFn;if(comparator===true){comparator=equals}else if(!isFunction(comparator)){comparator=function(actual,expected){if(isUndefined(actual)){return false}if(actual===null||expected===null){return actual===expected}if(isObject(expected)||isObject(actual)&&!hasCustomToString(actual)){return false}actual=lowercase(""+actual);expected=lowercase(""+expected);return actual.indexOf(expected)!==-1}}predicateFn=function(item){if(shouldMatchPrimitives&&!isObject(item)){return deepCompare(item,expression[anyPropertyKey],comparator,anyPropertyKey,false)}return deepCompare(item,expression,comparator,anyPropertyKey,matchAgainstAnyProp)};return predicateFn}function deepCompare(actual,expected,comparator,anyPropertyKey,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual);var expectedType=getTypeForFilter(expected);if(expectedType==="string"&&expected.charAt(0)==="!"){return!deepCompare(actual,expected.substring(1),comparator,anyPropertyKey,matchAgainstAnyProp)}else if(isArray(actual)){return actual.some(function(item){return deepCompare(item,expected,comparator,anyPropertyKey,matchAgainstAnyProp)})}switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual){if(key.charAt&&key.charAt(0)!=="$"&&deepCompare(actual[key],expected,comparator,anyPropertyKey,true)){return true}}return dontMatchWholeObject?false:deepCompare(actual,expected,comparator,anyPropertyKey,false)}else if(expectedType==="object"){for(key in expected){var expectedVal=expected[key];if(isFunction(expectedVal)||isUndefined(expectedVal)){continue}var matchAnyProperty=key===anyPropertyKey;var actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,anyPropertyKey,matchAnyProperty,matchAnyProperty)){return false}}return true}else{return comparator(actual,expected)}case"function":return false;default:return comparator(actual,expected)}}function getTypeForFilter(val){return val===null?"null":typeof val}var MAX_DIGITS=22;var DECIMAL_SEP=".";var ZERO_CHAR="0";currencyFilter.$inject=["$locale"];function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){if(isUndefined(currencySymbol)){currencySymbol=formats.CURRENCY_SYM}if(isUndefined(fractionSize)){fractionSize=formats.PATTERNS[1].maxFrac}var currencySymbolRe=!currencySymbol?/\s*\u00A4\s*/g:/\u00A4/g;return amount==null?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(currencySymbolRe,currencySymbol)}}numberFilter.$inject=["$locale"];function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return number==null?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var exponent=0,digits,numberOfIntegerDigits;var i,j,zeros;if((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1){numStr=numStr.replace(DECIMAL_SEP,"")}if((i=numStr.search(/e/i))>0){if(numberOfIntegerDigits<0)numberOfIntegerDigits=i;numberOfIntegerDigits+=+numStr.slice(i+1);numStr=numStr.substring(0,i)}else if(numberOfIntegerDigits<0){numberOfIntegerDigits=numStr.length}for(i=0;numStr.charAt(i)===ZERO_CHAR;i++){}if(i===(zeros=numStr.length)){digits=[0];numberOfIntegerDigits=1}else{zeros--;while(numStr.charAt(zeros)===ZERO_CHAR)zeros--;numberOfIntegerDigits-=i;digits=[];for(j=0;i<=zeros;i++,j++){digits[j]=+numStr.charAt(i)}}if(numberOfIntegerDigits>MAX_DIGITS){digits=digits.splice(0,MAX_DIGITS-1);exponent=numberOfIntegerDigits-1;numberOfIntegerDigits=1}return{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d;var fractionLen=digits.length-parsedNumber.i;fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i;var digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++){digits[j]=0}}else{fractionLen=Math.max(0,fractionLen);parsedNumber.i=1;digits.length=Math.max(1,roundAt=fractionSize+1);digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(digit>=5){if(roundAt-1<0){for(var k=0;k>roundAt;k--){digits.unshift(0);parsedNumber.i++}digits.unshift(1);parsedNumber.i++}else{digits[roundAt-1]++}}for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){d=d+carry;digits[i]=d%10;return Math.floor(d/10)},0);if(carry){digits.unshift(carry);parsedNumber.i++}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!(isString(number)||isNumber(number))||isNaN(number))return"";var isInfinity=!isFinite(number);var isZero=false;var numStr=Math.abs(number)+"",formattedText="",parsedNumber;if(isInfinity){formattedText="∞"}else{parsedNumber=parse(numStr);roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d;var integerLen=parsedNumber.i;var exponent=parsedNumber.e;var decimals=[];isZero=digits.reduce(function(isZero,d){return isZero&&!d},true);while(integerLen<0){digits.unshift(0);integerLen++}if(integerLen>0){decimals=digits.splice(integerLen,digits.length)}else{decimals=digits;digits=[0]}var groups=[];if(digits.length>=pattern.lgSize){groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""))}while(digits.length>pattern.gSize){groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""))}if(digits.length){groups.unshift(digits.join(""))}formattedText=groups.join(groupSep);if(decimals.length){formattedText+=decimalSep+decimals.join("")}if(exponent){formattedText+="e+"+exponent}}if(number<0&&!isZero){return pattern.negPre+formattedText+pattern.negSuf}else{return pattern.posPre+formattedText+pattern.posSuf}}function padNumber(num,digits,trim,negWrap){var neg="";if(num<0||negWrap&&num<=0){if(negWrap){num=-num+1}else{num=-num;neg="-"}}num=""+num;while(num.length<digits)num=ZERO_CHAR+num;if(trim){num=num.substr(num.length-digits)}return neg+num}function dateGetter(name,size,offset,trim,negWrap){offset=offset||0;return function(date){var value=date["get"+name]();if(offset>0||value>-offset){value+=offset}if(value===0&&offset===-12)value=12;return padNumber(value,size,trim,negWrap)}}function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date["get"+name]();var propPrefix=(standAlone?"STANDALONE":"")+(shortForm?"SHORT":"");var get=uppercase(propPrefix+name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset;var paddedZone=zone>=0?"+":"";paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2);return paddedZone}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date);var diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}var DATE_FORMATS={yyyy:dateGetter("FullYear",4,0,false,true),yy:dateGetter("FullYear",2,0,true,true),y:dateGetter("FullYear",1,0,false,true),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",true),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",false,true),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",true),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter};var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,NUMBER_STRING=/^-?\d+$/;dateFilter.$inject=["$locale"];function dateFilter($locale){var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=toInt(match[9]+match[10]);tzMin=toInt(match[9]+match[11])}dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour;var m=toInt(match[5]||0)-tzMin;var s=toInt(match[6]||0);var ms=Math.round(parseFloat("0."+(match[7]||0))*1e3);timeSetter.call(date,h,m,s,ms);return date}return string}return function(date,format,timezone){var text="",parts=[],fn,match;format=format||"mediumDate";format=$locale.DATETIME_FORMATS[format]||format;if(isString(date)){date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)}if(isNumber(date)){date=new Date(date)}if(!isDate(date)||!isFinite(date.getTime())){return date}while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop()}else{parts.push(format);format=null}}var dateTimezoneOffset=date.getTimezoneOffset();if(timezone){dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);date=convertTimezoneToLocal(date,timezone,true)}forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value==="''"?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return text}}function jsonFilter(){return function(object,spacing){if(isUndefined(spacing)){spacing=2}return toJson(object,spacing)}}var lowercaseFilter=valueFn(lowercase);var uppercaseFilter=valueFn(uppercase);function limitToFilter(){return function(input,limit,begin){if(Math.abs(Number(limit))===Infinity){limit=Number(limit)}else{limit=toInt(limit)}if(isNumberNaN(limit))return input;if(isNumber(input))input=input.toString();if(!isArrayLike(input))return input;begin=!begin||isNaN(begin)?0:toInt(begin);begin=begin<0?Math.max(0,input.length+begin):begin;if(limit>=0){return sliceFn(input,begin,begin+limit)}else{if(begin===0){return sliceFn(input,limit,input.length)}else{return sliceFn(input,Math.max(0,begin+limit),begin)}}}}function sliceFn(input,begin,end){if(isString(input))return input.slice(begin,end);return slice.call(input,begin,end)}orderByFilter.$inject=["$parse"];function orderByFilter($parse){return function(array,sortPredicate,reverseOrder,compareFn){if(array==null)return array;if(!isArrayLike(array)){throw minErr("orderBy")("notarray","Expected array but received: {0}",array)}if(!isArray(sortPredicate)){sortPredicate=[sortPredicate]}if(sortPredicate.length===0){sortPredicate=["+"]}var predicates=processPredicates(sortPredicate);var descending=reverseOrder?-1:1;var compare=isFunction(compareFn)?compareFn:defaultCompare;var compareValues=Array.prototype.map.call(array,getComparisonObject);compareValues.sort(doComparison);array=compareValues.map(function(item){return item.value});return array;function getComparisonObject(value,index){return{value:value,tieBreaker:{value:index,type:"number",index:index},predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var i=0,ii=predicates.length;i<ii;i++){var result=compare(v1.predicateValues[i],v2.predicateValues[i]);if(result){return result*predicates[i].descending*descending}}return(compare(v1.tieBreaker,v2.tieBreaker)||defaultCompare(v1.tieBreaker,v2.tieBreaker))*descending}};function processPredicates(sortPredicates){return sortPredicates.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate)){get=predicate}else if(isString(predicate)){if(predicate.charAt(0)==="+"||predicate.charAt(0)==="-"){descending=predicate.charAt(0)==="-"?-1:1;predicate=predicate.substring(1)}if(predicate!==""){get=$parse(predicate);if(get.constant){var key=get();get=function(value){return value[key]}}}}return{get:get,descending:descending}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return true;default:return false}}function objectValue(value){if(isFunction(value.valueOf)){value=value.valueOf();if(isPrimitive(value))return value}if(hasCustomToString(value)){value=value.toString();if(isPrimitive(value))return value}return value}function getPredicateValue(value,index){var type=typeof value;if(value===null){type="null"}else if(type==="object"){value=objectValue(value)}return{value:value,type:type,index:index}}function defaultCompare(v1,v2){var result=0;var type1=v1.type;var type2=v2.type;if(type1===type2){var value1=v1.value;var value2=v2.value;if(type1==="string"){value1=value1.toLowerCase();value2=value2.toLowerCase()}else if(type1==="object"){if(isObject(value1))value1=v1.index;if(isObject(value2))value2=v2.index}if(value1!==value2){result=value1<value2?-1:1}}else{result=type1==="undefined"?1:type2==="undefined"?-1:type1==="null"?1:type2==="null"?-1:type1<type2?-1:1}return result}}function ngDirective(directive){if(isFunction(directive)){directive={link:directive}}directive.restrict=directive.restrict||"AC";return valueFn(directive)}var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref){return function(scope,element){if(element[0].nodeName.toLowerCase()!=="a")return;var href=toString.call(element.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";element.on("click",function(event){if(!element.attr(href)){event.preventDefault()}})}}}});var ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if(propName==="multiple")return;function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value)})}var normalized=directiveNormalize("ng-"+attrName);var linkFn=defaultLinkFn;if(propName==="checked"){linkFn=function(scope,element,attr){if(attr.ngModel!==attr[normalized]){defaultLinkFn(scope,element,attr)}}}ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if(ngAttr==="ngPattern"&&attr.ngPattern.charAt(0)==="/"){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],match[2]));return}}scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value)})}}}});forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;if(attrName==="href"&&toString.call(element.prop("href"))==="[object SVGAnimatedString]"){name="xlinkHref";attr.$attr[name]="xlink:href";propName=null}attr.$observe(normalized,function(value){if(!value){if(attrName==="href"){attr.$set(name,null)}return}attr.$set(name,value);if(msie&&propName)element.prop(propName,attr[name])})}}}});var nullFormCtrl={$addControl:noop,$getControls:valueFn([]),$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop,$$setSubmitted:noop},PENDING_CLASS="ng-pending",SUBMITTED_CLASS="ng-submitted";function nullFormRenameControl(control,name){control.$name=name}FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function FormController($element,$attrs,$scope,$animate,$interpolate){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attrs.name||$attrs.ngForm||"")($scope);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=nullFormCtrl;this.$$element=$element;this.$$animate=$animate;setupValidity(this)}FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(control){control.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(control){control.$commitViewValue()})},$addControl:function(control){assertNotHasOwnProperty(control.$name,"input");this.$$controls.push(control);if(control.$name){this[control.$name]=control}control.$$parentForm=this},$getControls:function(){return shallowCopy(this.$$controls)},$$renameControl:function(control,newName){var oldName=control.$name;if(this[oldName]===control){delete this[oldName]}this[newName]=control;control.$name=newName},$removeControl:function(control){if(control.$name&&this[control.$name]===control){delete this[control.$name]}forEach(this.$pending,function(value,name){this.$setValidity(name,null,control)},this);forEach(this.$error,function(value,name){this.$setValidity(name,null,control)},this);forEach(this.$$success,function(value,name){this.$setValidity(name,null,control)},this);arrayRemove(this.$$controls,control);control.$$parentForm=nullFormCtrl},$setDirty:function(){this.$$animate.removeClass(this.$$element,PRISTINE_CLASS);this.$$animate.addClass(this.$$element,DIRTY_CLASS);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS);this.$dirty=false;this.$pristine=true;this.$submitted=false;forEach(this.$$controls,function(control){control.$setPristine()})},$setUntouched:function(){forEach(this.$$controls,function(control){control.$setUntouched()})},$setSubmitted:function(){var rootForm=this;while(rootForm.$$parentForm&&rootForm.$$parentForm!==nullFormCtrl){rootForm=rootForm.$$parentForm}rootForm.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,SUBMITTED_CLASS);this.$submitted=true;forEach(this.$$controls,function(control){if(control.$$setSubmitted){control.$$setSubmitted()}})}};addSetValidityMethod({clazz:FormController,set:function(object,property,controller){var list=object[property];if(!list){object[property]=[controller]}else{var index=list.indexOf(controller);if(index===-1){list.push(controller)}}},unset:function(object,property,controller){var list=object[property];if(!list){return}arrayRemove(list,controller);if(list.length===0){delete object[property]}}});var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":isNgForm&&attr.ngForm?"ngForm":false;return{pre:function ngFormPreLink(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted()});event.preventDefault()};formElement[0].addEventListener("submit",handleFormSubmission);formElement.on("$destroy",function(){$timeout(function(){formElement[0].removeEventListener("submit",handleFormSubmission)},0,false)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;if(nameAttr){setter(scope,controller);attr.$observe(nameAttr,function(newValue){if(controller.$name===newValue)return;setter(scope,undefined);controller.$$parentForm.$$renameControl(controller,newValue);setter=getSetter(controller.$name);setter(scope,controller)})}formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller);setter(scope,undefined);extend(controller,nullFormCtrl)})}}}};return formDirective;function getSetter(expression){if(expression===""){return $parse('this[""]').assign}return $parse(expression).assign||noop}}]};var formDirective=formDirectiveFactory();var ngFormDirective=formDirectiveFactory(true);function setupValidity(instance){instance.$$classCache={};instance.$$classCache[INVALID_CLASS]=!(instance.$$classCache[VALID_CLASS]=instance.$$element.hasClass(VALID_CLASS))}function addSetValidityMethod(context){var clazz=context.clazz,set=context.set,unset=context.unset;clazz.prototype.$setValidity=function(validationErrorKey,state,controller){if(isUndefined(state)){createAndSet(this,"$pending",validationErrorKey,controller)}else{unsetAndCleanup(this,"$pending",validationErrorKey,controller)}if(!isBoolean(state)){unset(this.$error,validationErrorKey,controller);unset(this.$$success,validationErrorKey,controller)}else{if(state){unset(this.$error,validationErrorKey,controller);set(this.$$success,validationErrorKey,controller)}else{set(this.$error,validationErrorKey,controller);unset(this.$$success,validationErrorKey,controller)}}if(this.$pending){cachedToggleClass(this,PENDING_CLASS,true);this.$valid=this.$invalid=undefined;toggleValidationCss(this,"",null)}else{cachedToggleClass(this,PENDING_CLASS,false);this.$valid=isObjectEmpty(this.$error);this.$invalid=!this.$valid;toggleValidationCss(this,"",this.$valid)}var combinedState;if(this.$pending&&this.$pending[validationErrorKey]){combinedState=undefined}else if(this.$error[validationErrorKey]){combinedState=false}else if(this.$$success[validationErrorKey]){combinedState=true}else{combinedState=null}toggleValidationCss(this,validationErrorKey,combinedState);this.$$parentForm.$setValidity(validationErrorKey,combinedState,this)};function createAndSet(ctrl,name,value,controller){if(!ctrl[name]){ctrl[name]={}}set(ctrl[name],value,controller)}function unsetAndCleanup(ctrl,name,value,controller){if(ctrl[name]){unset(ctrl[name],value,controller)}if(isObjectEmpty(ctrl[name])){ctrl[name]=undefined}}function cachedToggleClass(ctrl,className,switchValue){if(switchValue&&!ctrl.$$classCache[className]){ctrl.$$animate.addClass(ctrl.$$element,className);ctrl.$$classCache[className]=true}else if(!switchValue&&ctrl.$$classCache[className]){ctrl.$$animate.removeClass(ctrl.$$element,className);ctrl.$$classCache[className]=false}}function toggleValidationCss(ctrl,validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"";cachedToggleClass(ctrl,VALID_CLASS+validationErrorKey,isValid===true);cachedToggleClass(ctrl,INVALID_CLASS+validationErrorKey,isValid===false)}}function isObjectEmpty(obj){if(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false}}}return true}var ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var NUMBER_REGEXP=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/;var DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/;var MONTH_REGEXP=/^(\d{4,})-(\d\d)$/;var TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var PARTIAL_VALIDATION_EVENTS="keydown wheel mousedown";var PARTIAL_VALIDATION_TYPES=createMap();forEach("date,datetime-local,month,time,week".split(","),function(type){PARTIAL_VALIDATION_TYPES[type]=true});var inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,range:rangeInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop};function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=false;element.on("compositionstart",function(){composing=true});element.on("compositionupdate",function(ev){if(isUndefined(ev.data)||ev.data===""){composing=false}});element.on("compositionend",function(){composing=false;listener()})}var timeout;var listener=function(ev){if(timeout){$browser.defer.cancel(timeout);timeout=null}if(composing)return;var value=element.val(),event=ev&&ev.type;if(type!=="password"&&(!attr.ngTrim||attr.ngTrim!=="false")){value=trim(value)}if(ctrl.$viewValue!==value||value===""&&ctrl.$$hasNativeValidators){ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input")){element.on("input",listener)}else{var deferListener=function(ev,input,origValue){if(!timeout){timeout=$browser.defer(function(){timeout=null;if(!input||input.value!==origValue){listener(ev)}})}};element.on("keydown",function(event){var key=event.keyCode;if(key===91||15<key&&key<19||37<=key&&key<=40)return;deferListener(event,this,this.value)});if($sniffer.hasEvent("paste")){element.on("paste cut drop",deferListener)}}element.on("change",listener);if(PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type){element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY];var origBadInput=validity.badInput;var origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null;if(validity.badInput!==origBadInput||validity.typeMismatch!==origTypeMismatch){listener(ev)}})}})}ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;if(element.val()!==value){element.val(value)}}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek)){return isoWeek}if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=(week-1)*7;if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds()}return new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,previousDate){var parts,map;if(isDate(iso)){return iso}if(isString(iso)){if(iso.charAt(0)==='"'&&iso.charAt(iso.length-1)==='"'){iso=iso.substring(1,iso.length-1)}if(ISO_DATE_REGEXP.test(iso)){return new Date(iso)}regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();if(previousDate){map={yyyy:previousDate.getFullYear(),MM:previousDate.getMonth()+1,dd:previousDate.getDate(),HH:previousDate.getHours(),mm:previousDate.getMinutes(),ss:previousDate.getSeconds(),sss:previousDate.getMilliseconds()/1e3}}else{map={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}forEach(parts,function(part,index){if(index<mapping.length){map[mapping[index]]=+part}});var date=new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,map.sss*1e3||0);if(map.yyyy<100){date.setFullYear(map.yyyy)}return date}}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter){badInputChecker(scope,element,attr,ctrl,type);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var isTimeType=type==="time"||type==="datetimelocal";var previousDate;var previousTimezone;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){return parseDateAndConvertTimeZoneToLocal(value,previousDate)}ctrl.$$parserName=type;return undefined});ctrl.$formatters.push(function(value){if(value&&!isDate(value)){throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value)}if(isValidDate(value)){previousDate=value;var timezone=ctrl.$options.getOption("timezone");if(timezone){previousTimezone=timezone;previousDate=convertTimezoneToLocal(previousDate,timezone,true)}return formatter(value,timezone)}else{previousDate=null;previousTimezone=null;return""}});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal};attr.$observe("min",function(val){minVal=parseObservedDateValue(val);ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal};attr.$observe("max",function(val){maxVal=parseObservedDateValue(val);ctrl.$validate()})}function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDateAndConvertTimeZoneToLocal(val)||undefined:val}function parseDateAndConvertTimeZoneToLocal(value,previousDate){var timezone=ctrl.$options.getOption("timezone");if(previousTimezone&&previousTimezone!==timezone){previousDate=addDateMinutes(previousDate,timezoneToOffset(previousTimezone))}var parsedDate=parseDate(value,previousDate);if(!isNaN(parsedDate)&&timezone){parsedDate=convertTimezoneToLocal(parsedDate,timezone)}return parsedDate}function formatter(value,timezone){var targetFormat=format;if(isTimeType&&isString(ctrl.$options.getOption("timeSecondsFormat"))){targetFormat=format.replace("ss.sss",ctrl.$options.getOption("timeSecondsFormat")).replace(/:$/,"")}var formatted=$filter("date")(value,targetFormat,timezone);if(isTimeType&&ctrl.$options.getOption("timeStripZeroSeconds")){formatted=formatted.replace(/(?::00)?(?:\.000)?$/,"")}return formatted}}}function badInputChecker(scope,element,attr,ctrl,parserName){var node=element[0];var nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);if(nativeValidation){ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};if(validity.badInput||validity.typeMismatch){ctrl.$$parserName=parserName;return undefined}return value})}}function numberFormatterParser(ctrl){ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);ctrl.$$parserName="number";return undefined});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value)){throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value)}value=value.toString()}return value})}function parseNumberAttrVal(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val)}return!isNumberNaN(val)?val:undefined}function isNumberInteger(num){return(num|0)===num}function countDecimals(num){var numString=num.toString();var decimalSymbolIndex=numString.indexOf(".");if(decimalSymbolIndex===-1){if(-1<num&&num<1){var match=/e-(\d+)$/.exec(numString);if(match){return Number(match[1])}}return 0}return numString.length-decimalSymbolIndex-1}function isValidForStep(viewValue,stepBase,step){var value=Number(viewValue);var isNonIntegerValue=!isNumberInteger(value);var isNonIntegerStepBase=!isNumberInteger(stepBase);var isNonIntegerStep=!isNumberInteger(step);if(isNonIntegerValue||isNonIntegerStepBase||isNonIntegerStep){var valueDecimals=isNonIntegerValue?countDecimals(value):0;var stepBaseDecimals=isNonIntegerStepBase?countDecimals(stepBase):0;var stepDecimals=isNonIntegerStep?countDecimals(step):0;var decimalCount=Math.max(valueDecimals,stepBaseDecimals,stepDecimals);var multiplier=Math.pow(10,decimalCount);value=value*multiplier;stepBase=stepBase*multiplier;step=step*multiplier;if(isNonIntegerValue)value=Math.round(value);if(isNonIntegerStepBase)stepBase=Math.round(stepBase);if(isNonIntegerStep)step=Math.round(step)}return(value-stepBase)%step===0}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl,"number");numberFormatterParser(ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var minVal;var maxVal;if(isDefined(attr.min)||attr.ngMin){ctrl.$validators.min=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal};attr.$observe("min",function(val){minVal=parseNumberAttrVal(val);ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){ctrl.$validators.max=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal};attr.$observe("max",function(val){maxVal=parseNumberAttrVal(val);ctrl.$validate()})}if(isDefined(attr.step)||attr.ngStep){var stepVal;ctrl.$validators.step=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)};attr.$observe("step",function(val){stepVal=parseNumberAttrVal(val);ctrl.$validate()})}}function rangeInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl,"range");numberFormatterParser(ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var supportsRange=ctrl.$$hasNativeValidators&&element[0].type==="range",minVal=supportsRange?0:undefined,maxVal=supportsRange?100:undefined,stepVal=supportsRange?1:undefined,validity=element[0].validity,hasMinAttr=isDefined(attr.min),hasMaxAttr=isDefined(attr.max),hasStepAttr=isDefined(attr.step);var originalRender=ctrl.$render;ctrl.$render=supportsRange&&isDefined(validity.rangeUnderflow)&&isDefined(validity.rangeOverflow)?function rangeRender(){originalRender();ctrl.$setViewValue(element.val())}:originalRender;if(hasMinAttr){ctrl.$validators.min=supportsRange?function noopMinValidator(){return true}:function minValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal};setInitialValueAndObserver("min",minChange)}if(hasMaxAttr){ctrl.$validators.max=supportsRange?function noopMaxValidator(){return true}:function maxValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal};setInitialValueAndObserver("max",maxChange)}if(hasStepAttr){ctrl.$validators.step=supportsRange?function nativeStepValidator(){return!validity.stepMismatch}:function stepValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)};setInitialValueAndObserver("step",stepChange)}function setInitialValueAndObserver(htmlAttrName,changeFn){element.attr(htmlAttrName,attr[htmlAttrName]);attr.$observe(htmlAttrName,changeFn)}function minChange(val){minVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue)){return}if(supportsRange){var elVal=element.val();if(minVal>elVal){elVal=minVal;element.val(elVal)}ctrl.$setViewValue(elVal)}else{ctrl.$validate()}}function maxChange(val){maxVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue)){return}if(supportsRange){var elVal=element.val();if(maxVal<elVal){element.val(maxVal);elVal=maxVal<minVal?minVal:maxVal}ctrl.$setViewValue(elVal)}else{ctrl.$validate()}}function stepChange(val){stepVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue)){return}if(supportsRange&&ctrl.$viewValue!==element.val()){ctrl.$setViewValue(element.val())}else{ctrl.$validate()}}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){var doTrim=!attr.ngTrim||trim(attr.ngTrim)!=="false";if(isUndefined(attr.name)){element.attr("name",nextUid())}var listener=function(ev){var value;if(element[0].checked){value=attr.value;if(doTrim){value=trim(value)}ctrl.$setViewValue(value,ev&&ev.type)}};element.on("change",listener);ctrl.$render=function(){var value=attr.value;if(doTrim){value=trim(value)}element[0].checked=value===ctrl.$viewValue};attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=$parse(expression);if(!parseFn.constant){throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",name,expression)}return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,true);var falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,false);var listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("change",listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue};ctrl.$isEmpty=function(value){return value===false};ctrl.$formatters.push(function(value){return equals(value,trueValue)});ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}var inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){if(ctrls[0]){(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}}];var CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;var ngValueDirective=function(){function updateElementValue(element,attr,value){var propValue=isDefined(value)?value:msie===9?"":null;element.prop("value",propValue);attr.$set("value",value)}return{restrict:"A",priority:100,compile:function(tpl,tplAttr){if(CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)){return function ngValueConstantLink(scope,elm,attr){var value=scope.$eval(attr.ngValue);updateElementValue(elm,attr,value)}}else{return function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){updateElementValue(elm,attr,value)})}}}}};var ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function ngBindCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,function ngBindWatchAction(value){element.textContent=stringify(value)})}}}}];var ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}];var ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml);var ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function sceValueOf(val){return $sce.valueOf(val)});$compile.$$addBindingClass(tElement);return function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){var value=ngBindHtmlGetter(scope);element.html($sce.getTrustedHtml(value)||"")})}}}}];var ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}});function classDirective(name,selector){name="ngClass"+name;var indexWatchExpression;return["$parse",function($parse){return{restrict:"AC",link:function(scope,element,attr){var classCounts=element.data("$classCounts");var oldModulo=true;var oldClassString;if(!classCounts){classCounts=createMap();element.data("$classCounts",classCounts)}if(name!=="ngClass"){if(!indexWatchExpression){indexWatchExpression=$parse("$index",function moduloTwo($index){return $index&1})}scope.$watch(indexWatchExpression,ngClassIndexWatchAction)}scope.$watch($parse(attr[name],toClassString),ngClassWatchAction);function addClasses(classString){classString=digestClassCounts(split(classString),1);attr.$addClass(classString)}function removeClasses(classString){classString=digestClassCounts(split(classString),-1);attr.$removeClass(classString)}function updateClasses(oldClassString,newClassString){var oldClassArray=split(oldClassString);var newClassArray=split(newClassString);var toRemoveArray=arrayDifference(oldClassArray,newClassArray);var toAddArray=arrayDifference(newClassArray,oldClassArray);var toRemoveString=digestClassCounts(toRemoveArray,-1);var toAddString=digestClassCounts(toAddArray,1);attr.$addClass(toAddString);attr.$removeClass(toRemoveString)}function digestClassCounts(classArray,count){var classesToUpdate=[];forEach(classArray,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;if(classCounts[className]===+(count>0)){classesToUpdate.push(className)}}});return classesToUpdate.join(" ")}function ngClassIndexWatchAction(newModulo){if(newModulo===selector){addClasses(oldClassString)}else{removeClasses(oldClassString)}oldModulo=newModulo}function ngClassWatchAction(newClassString){if(oldModulo===selector){updateClasses(oldClassString,newClassString)}oldClassString=newClassString}}}}];function arrayDifference(tokens1,tokens2){if(!tokens1||!tokens1.length)return[];if(!tokens2||!tokens2.length)return tokens1;var values=[];outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token===tokens2[j])continue outer}values.push(token)}return values}function split(classString){return classString&&classString.split(" ")}function toClassString(classValue){var classString=classValue;if(isArray(classValue)){classString=classValue.map(toClassString).join(" ")}else if(isObject(classValue)){classString=Object.keys(classValue).filter(function(key){return classValue[key]}).join(" ")}return classString}}var ngClassDirective=classDirective("",true);var ngClassOddDirective=classDirective("Odd",0);var ngClassEvenDirective=classDirective("Even",1);var ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined);element.removeClass("ng-cloak")}});var ngControllerDirective=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var ngEventDirectives={};var forceAsyncEvents={blur:true,focus:true};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope","$exceptionHandler",function($parse,$rootScope,$exceptionHandler){return createEventDirective($parse,$rootScope,$exceptionHandler,directiveName,eventName,forceAsyncEvents[eventName])}]});function createEventDirective($parse,$rootScope,$exceptionHandler,directiveName,eventName,forceAsync){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName]);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};if(!$rootScope.$$phase){scope.$apply(callback)}else if(forceAsync){scope.$evalAsync(callback)}else{try{callback()}catch(error){$exceptionHandler(error)}}})}}}}var ngIfDirective=["$animate","$compile",function($animate,$compile){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){if(value){if(!childScope){$transclude(function(clone,newScope){childScope=newScope;clone[clone.length++]=$compile.$$createComment("end ngIf",$attr.ngIf);block={clone:clone};$animate.enter(clone,$element.parent(),$element)})}}else{if(previousElements){previousElements.remove();previousElements=null}if(childScope){childScope.$destroy();childScope=null}if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).done(function(response){if(response!==false)previousElements=null});block=null}}})}}}];var ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).done(function(response){if(response!==false)previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch(srcExp,function ngIncludeWatchAction(src){var afterAnimation=function(response){if(response!==false&&isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}};var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(scope.$$destroyed)return;if(thisChangeId!==changeCounter)return;var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).done(afterAnimation)});currentScope=newScope;currentElement=clone;currentScope.$emit("$includeContentLoaded",src);scope.$eval(onloadExp)},function(){if(scope.$$destroyed)return;if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit("$includeContentError",src)}});scope.$emit("$includeContentRequested",src)}else{cleanupLastIncludeContent();ctrl.template=null}})}}}}];var ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){if(toString.call($element[0]).match(/SVG/)){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,window.document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone)},{futureParentElement:$element});return}$element.html(ctrl.template);$compile($element.contents())(scope)}}}];var ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}});var ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=attr.ngList||", ";var trimValues=attr.ngTrim!=="false";var separator=trimValues?trim(ngList):ngList;var parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];if(viewValue){forEach(viewValue.split(separator),function(value){if(value)list.push(trimValues?trim(value):value)})}return list};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value)){return value.join(ngList)}return undefined});ctrl.$isEmpty=function(value){return!value||!value.length}}}};var VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",EMPTY_CLASS="ng-empty",NOT_EMPTY_CLASS="ng-not-empty";var ngModelMinErr=minErr("ngModel");NgModelController.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function NgModelController($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$q,$interpolate){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||"",false)($scope);this.$$parentForm=nullFormCtrl;this.$options=defaultModelOptions;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=$parse($attr.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=$scope;this.$$rootScope=$scope.$root;this.$$attr=$attr;this.$$element=$element;this.$$animate=$animate;this.$$timeout=$timeout;this.$$parse=$parse;this.$$q=$q;this.$$exceptionHandler=$exceptionHandler;setupValidity(this);setupModelWatcher(this)}NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var invokeModelGetter=this.$$parse(this.$$attr.ngModel+"()"),invokeModelSetter=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function($scope){var modelValue=this.$$parsedNgModel($scope);if(isFunction(modelValue)){modelValue=invokeModelGetter($scope)}return modelValue};this.$$ngModelSet=function($scope,newValue){if(isFunction(this.$$parsedNgModel($scope))){invokeModelSetter($scope,{$$$p:newValue})}else{this.$$parsedNgModelAssign($scope,newValue)}}}else if(!this.$$parsedNgModel.assign){throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,startingTag(this.$$element))}},$render:noop,$isEmpty:function(value){return isUndefined(value)||value===""||value===null||value!==value},$$updateEmptyClasses:function(value){if(this.$isEmpty(value)){this.$$animate.removeClass(this.$$element,NOT_EMPTY_CLASS);this.$$animate.addClass(this.$$element,EMPTY_CLASS)}else{this.$$animate.removeClass(this.$$element,EMPTY_CLASS);this.$$animate.addClass(this.$$element,NOT_EMPTY_CLASS)}},$setPristine:function(){this.$dirty=false;this.$pristine=true;this.$$animate.removeClass(this.$$element,DIRTY_CLASS);this.$$animate.addClass(this.$$element,PRISTINE_CLASS)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,PRISTINE_CLASS);this.$$animate.addClass(this.$$element,DIRTY_CLASS);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,UNTOUCHED_CLASS,TOUCHED_CLASS)},$setTouched:function(){this.$touched=true;this.$untouched=false;this.$$animate.setClass(this.$$element,TOUCHED_CLASS,UNTOUCHED_CLASS)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(isNumberNaN(this.$modelValue)){return}var viewValue=this.$$lastCommittedViewValue;var modelValue=this.$$rawModelValue;var prevValid=this.$valid;var prevModelValue=this.$modelValue;var allowInvalid=this.$options.getOption("allowInvalid");var that=this;this.$$runValidators(modelValue,viewValue,function(allValid){if(!allowInvalid&&prevValid!==allValid){that.$modelValue=allValid?modelValue:undefined;if(that.$modelValue!==prevModelValue){that.$$writeModelToScope()}}})},$$runValidators:function(modelValue,viewValue,doneCallback){this.$$currentValidationRunId++;var localValidationRunId=this.$$currentValidationRunId;var that=this;if(!processParseErrors()){validationDone(false);return}if(!processSyncValidators()){validationDone(false);return}processAsyncValidators();function processParseErrors(){var errorKey=that.$$parserName;if(isUndefined(that.$$parserValid)){setValidity(errorKey,null)}else{if(!that.$$parserValid){forEach(that.$validators,function(v,name){setValidity(name,null)});forEach(that.$asyncValidators,function(v,name){setValidity(name,null)})}setValidity(errorKey,that.$$parserValid);return that.$$parserValid}return true}function processSyncValidators(){var syncValidatorsValid=true;forEach(that.$validators,function(validator,name){var result=Boolean(validator(modelValue,viewValue));syncValidatorsValid=syncValidatorsValid&&result;setValidity(name,result)});if(!syncValidatorsValid){forEach(that.$asyncValidators,function(v,name){setValidity(name,null)});return false}return true}function processAsyncValidators(){var validatorPromises=[];var allValid=true;forEach(that.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise)){throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise)}setValidity(name,undefined);validatorPromises.push(promise.then(function(){setValidity(name,true)},function(){allValid=false;setValidity(name,false)}))});if(!validatorPromises.length){validationDone(true)}else{that.$$q.all(validatorPromises).then(function(){validationDone(allValid)},noop)}}function setValidity(name,isValid){if(localValidationRunId===that.$$currentValidationRunId){that.$setValidity(name,isValid)}}function validationDone(allValid){if(localValidationRunId===that.$$currentValidationRunId){doneCallback(allValid)}}},$commitViewValue:function(){var viewValue=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===viewValue&&(viewValue!==""||!this.$$hasNativeValidators)){return}this.$$updateEmptyClasses(viewValue);this.$$lastCommittedViewValue=viewValue;if(this.$pristine){this.$setDirty()}this.$$parseAndValidate()},$$parseAndValidate:function(){var viewValue=this.$$lastCommittedViewValue;var modelValue=viewValue;var that=this;this.$$parserValid=isUndefined(modelValue)?undefined:true;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid){for(var i=0;i<this.$parsers.length;i++){modelValue=this.$parsers[i](modelValue);if(isUndefined(modelValue)){this.$$parserValid=false;break}}}if(isNumberNaN(this.$modelValue)){this.$modelValue=this.$$ngModelGet(this.$$scope)}var prevModelValue=this.$modelValue;var allowInvalid=this.$options.getOption("allowInvalid");this.$$rawModelValue=modelValue;if(allowInvalid){this.$modelValue=modelValue;writeToModelIfNeeded()}this.$$runValidators(modelValue,this.$$lastCommittedViewValue,function(allValid){if(!allowInvalid){that.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded()}});function writeToModelIfNeeded(){if(that.$modelValue!==prevModelValue){that.$$writeModelToScope()}}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(value,trigger){this.$viewValue=value;if(this.$options.getOption("updateOnDefault")){this.$$debounceViewValueCommit(trigger)}},$$debounceViewValueCommit:function(trigger){var debounceDelay=this.$options.getOption("debounce");if(isNumber(debounceDelay[trigger])){debounceDelay=debounceDelay[trigger]}else if(isNumber(debounceDelay["default"])&&this.$options.getOption("updateOn").indexOf(trigger)===-1){debounceDelay=debounceDelay["default"]}else if(isNumber(debounceDelay["*"])){debounceDelay=debounceDelay["*"]}this.$$timeout.cancel(this.$$pendingDebounce);var that=this;if(debounceDelay>0){this.$$pendingDebounce=this.$$timeout(function(){that.$commitViewValue()},debounceDelay)}else if(this.$$rootScope.$$phase){this.$commitViewValue()}else{this.$$scope.$apply(function(){that.$commitViewValue()})}},$overrideModelOptions:function(options){this.$options=this.$options.createChild(options);this.$$setUpdateOnEvents()},$processModelValue:function(){var viewValue=this.$$format();if(this.$viewValue!==viewValue){this.$$updateEmptyClasses(viewValue);this.$viewValue=this.$$lastCommittedViewValue=viewValue;this.$render();this.$$runValidators(this.$modelValue,this.$viewValue,noop)}},$$format:function(){var formatters=this.$formatters,idx=formatters.length;var viewValue=this.$modelValue;while(idx--){viewValue=formatters[idx](viewValue)}return viewValue},$$setModelValue:function(modelValue){this.$modelValue=this.$$rawModelValue=modelValue;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents){this.$$element.off(this.$$updateEvents,this.$$updateEventHandler)}this.$$updateEvents=this.$options.getOption("updateOn");if(this.$$updateEvents){this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)}},$$updateEventHandler:function(ev){this.$$debounceViewValueCommit(ev&&ev.type)}};function setupModelWatcher(ctrl){ctrl.$$scope.$watch(function ngModelWatch(scope){var modelValue=ctrl.$$ngModelGet(scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$$setModelValue(modelValue)}return modelValue})}addSetValidityMethod({clazz:NgModelController,set:function(object,property){object[property]=true},unset:function(object,property){delete object[property]}});var ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function ngModelCompile(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm,optionsCtrl=ctrls[2];if(optionsCtrl){modelCtrl.$options=optionsCtrl.$options}modelCtrl.$$initGetterSetters();formCtrl.$addControl(modelCtrl);attr.$observe("name",function(newValue){if(modelCtrl.$name!==newValue){modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}});scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function ngModelPostLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$$setUpdateOnEvents();function setTouched(){modelCtrl.$setTouched()}element.on("blur",function(){if(modelCtrl.$touched)return;if($rootScope.$$phase){scope.$evalAsync(setTouched)}else{scope.$apply(setTouched)}})}}}}}];var defaultModelOptions;var DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;function ModelOptions(options){this.$$options=options}ModelOptions.prototype={getOption:function(name){return this.$$options[name]},createChild:function(options){var inheritAll=false;options=extend({},options);forEach(options,function(option,key){if(option==="$inherit"){if(key==="*"){inheritAll=true}else{options[key]=this.$$options[key];if(key==="updateOn"){options.updateOnDefault=this.$$options.updateOnDefault}}}else{if(key==="updateOn"){options.updateOnDefault=false;options[key]=trim(option.replace(DEFAULT_REGEXP,function(){options.updateOnDefault=true;return" "}))}}},this);if(inheritAll){delete options["*"];defaults(options,this.$$options)}defaults(options,defaultModelOptions.$$options);return new ModelOptions(options)}};defaultModelOptions=new ModelOptions({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,timezone:null});var ngModelOptionsDirective=function(){NgModelOptionsController.$inject=["$attrs","$scope"];function NgModelOptionsController($attrs,$scope){this.$$attrs=$attrs;this.$$scope=$scope}NgModelOptionsController.prototype={$onInit:function(){var parentOptions=this.parentCtrl?this.parentCtrl.$options:defaultModelOptions;var modelOptionsDefinition=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=parentOptions.createChild(modelOptionsDefinition)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:NgModelOptionsController}};function defaults(dst,src){forEach(src,function(value,key){if(!isDefined(dst[key])){dst[key]=value}})}var ngNonBindableDirective=ngDirective({terminal:true,priority:1e3});var ngOptionsMinErr=minErr("ngOptions");var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var ngOptionsDirective=["$compile","$document","$parse",function($compile,$document,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match){throw ngOptionsMinErr("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement))}var valueName=match[5]||match[7];var keyName=match[6];var selectAs=/ as /.test(match[0])&&match[1];var trackBy=match[9];var valueFn=$parse(match[2]?match[1]:valueName);var selectAsFn=selectAs&&$parse(selectAs);var viewValueFn=selectAsFn||valueFn;var trackByFn=trackBy&&$parse(trackBy);var getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function getHashOfValue(value){return hashKey(value)};var getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))};var displayFn=$parse(match[2]||match[1]);var groupByFn=$parse(match[3]||"");var disableWhenFn=$parse(match[4]||"");var valuesFn=$parse(match[8]);var locals={};var getLocals=keyName?function(value,key){locals[keyName]=key;locals[valueName]=value;return locals}:function(value){locals[valueName]=value;return locals};function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue;this.viewValue=viewValue;this.label=label;this.group=group;this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues)){optionValuesKeys=optionValues}else{optionValuesKeys=[];for(var itemKey in optionValues){if(optionValues.hasOwnProperty(itemKey)&&itemKey.charAt(0)!=="$"){optionValuesKeys.push(itemKey)}}}return optionValuesKeys}return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var selectValue=getTrackByValueFn(value,locals);watchedArray.push(selectValue);if(match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){var optionItems=[];var selectValueMap={};var optionValues=valuesFn(scope)||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var viewValue=viewValueFn(scope,locals);var selectValue=getTrackByValueFn(viewValue,locals);var label=displayFn(scope,locals);var group=groupByFn(scope,locals);var disabled=disableWhenFn(scope,locals);var optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem);selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?copy(option.viewValue):option.viewValue}}}}}var optionTemplate=window.document.createElement("option"),optGroupTemplate=window.document.createElement("optgroup");function ngOptionsPostLink(scope,selectElement,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];var multiple=attr.multiple;for(var i=0,children=selectElement.children(),ii=children.length;i<ii;i++){if(children[i].value===""){selectCtrl.hasEmptyOption=true;selectCtrl.emptyOption=children.eq(i);break}}selectElement.empty();var providedEmptyOption=!!selectCtrl.emptyOption;var unknownOption=jqLite(optionTemplate.cloneNode(false));unknownOption.val("?");var options;var ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope);var listFragment=$document[0].createDocumentFragment();selectCtrl.generateUnknownOptionValue=function(val){return"?"};if(!multiple){selectCtrl.writeValue=function writeNgOptionsValue(value){if(!options)return;var selectedOption=selectElement[0].options[selectElement[0].selectedIndex];var option=options.getOptionFromViewValue(value);if(selectedOption)selectedOption.removeAttribute("selected");if(option){if(selectElement[0].value!==option.selectValue){selectCtrl.removeUnknownOption();selectElement[0].value=option.selectValue;option.element.selected=true}option.element.setAttribute("selected","selected")}else{selectCtrl.selectUnknownOrEmptyOption(value)}};selectCtrl.readValue=function readNgOptionsValue(){var selectedOption=options.selectValueMap[selectElement.val()];if(selectedOption&&!selectedOption.disabled){selectCtrl.unselectEmptyOption();selectCtrl.removeUnknownOption();return options.getViewValueFromOption(selectedOption)}return null};if(ngOptions.trackBy){scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})}}else{selectCtrl.writeValue=function writeNgOptionsMultiple(values){if(!options)return;var selectedOptions=values&&values.map(getAndUpdateSelectedOption)||[];options.items.forEach(function(option){if(option.element.selected&&!includes(selectedOptions,option)){option.element.selected=false}})};selectCtrl.readValue=function readNgOptionsMultiple(){var selectedValues=selectElement.val()||[],selections=[];forEach(selectedValues,function(value){var option=options.selectValueMap[value];if(option&&!option.disabled)selections.push(options.getViewValueFromOption(option))});return selections};if(ngOptions.trackBy){scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue)){return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})}},function(){ngModelCtrl.$render()})}}if(providedEmptyOption){$compile(selectCtrl.emptyOption)(scope);selectElement.prepend(selectCtrl.emptyOption);if(selectCtrl.emptyOption[0].nodeType===NODE_TYPE_COMMENT){selectCtrl.hasEmptyOption=false;selectCtrl.registerOption=function(optionScope,optionEl){if(optionEl.val()===""){selectCtrl.hasEmptyOption=true;selectCtrl.emptyOption=optionEl;selectCtrl.emptyOption.removeClass("ng-scope");ngModelCtrl.$render();optionEl.on("$destroy",function(){var needsRerender=selectCtrl.$isEmptyOptionSelected();selectCtrl.hasEmptyOption=false;selectCtrl.emptyOption=undefined;if(needsRerender)ngModelCtrl.$render()})}}}else{selectCtrl.emptyOption.removeClass("ng-scope")}}scope.$watchCollection(ngOptions.getWatchables,updateOptions);function addOptionElement(option,parent){var optionElement=optionTemplate.cloneNode(false);parent.appendChild(optionElement);updateOptionElement(option,optionElement)}function getAndUpdateSelectedOption(viewValue){var option=options.getOptionFromViewValue(viewValue);var element=option&&option.element;if(element&&!element.selected)element.selected=true;return option}function updateOptionElement(option,element){option.element=element;element.disabled=option.disabled;if(option.label!==element.label){element.label=option.label;element.textContent=option.label}element.value=option.selectValue}function updateOptions(){var previousValue=options&&selectCtrl.readValue();if(options){for(var i=options.items.length-1;i>=0;i--){var option=options.items[i];if(isDefined(option.group)){jqLiteRemove(option.element.parentNode)}else{jqLiteRemove(option.element)}}}options=ngOptions.getOptions();var groupElementMap={};options.items.forEach(function addOption(option){var groupElement;if(isDefined(option.group)){groupElement=groupElementMap[option.group];if(!groupElement){groupElement=optGroupTemplate.cloneNode(false);listFragment.appendChild(groupElement);groupElement.label=option.group===null?"null":option.group;groupElementMap[option.group]=groupElement}addOptionElement(option,groupElement)}else{addOptionElement(option,listFragment)}});selectElement[0].appendChild(listFragment);ngModelCtrl.$render();if(!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();var isNotPrimitive=ngOptions.trackBy||multiple;if(isNotPrimitive?!equals(previousValue,nextValue):previousValue!==nextValue){ngModelCtrl.$setViewValue(nextValue);ngModelCtrl.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function ngOptionsPreLink(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}];var ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop,lastCount;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))});scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal);var countIsNaN=isNumberNaN(count);if(!countIsNaN&&!(count in whens)){count=$locale.pluralCat(count-offset)}if(count!==lastCount&&!(countIsNaN&&isNumberNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];if(isUndefined(whenExpFn)){if(newVal!=null){$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp)}watchRemover=noop;updateElementText()}else{watchRemover=scope.$watch(whenExpFn,updateElementText)}lastCount=count}});function updateElementText(newText){element.text(newText||"")}}}}];var ngRefMinErr=minErr("ngRef");var ngRefDirective=["$parse",function($parse){return{priority:-1,restrict:"A",compile:function(tElement,tAttrs){var controllerName=directiveNormalize(nodeName_(tElement));var getter=$parse(tAttrs.ngRef);var setter=getter.assign||function(){throw ngRefMinErr("nonassign",'Expression in ngRef="{0}" is non-assignable!',tAttrs.ngRef)};return function(scope,element,attrs){var refValue;if(attrs.hasOwnProperty("ngRefRead")){if(attrs.ngRefRead==="$element"){refValue=element}else{refValue=element.data("$"+attrs.ngRefRead+"Controller");if(!refValue){throw ngRefMinErr("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',attrs.ngRefRead,tAttrs.ngRef)}}}else{refValue=element.data("$"+controllerName+"Controller")}refValue=refValue||element;setter(scope,refValue);element.on("$destroy",function(){if(getter(scope)===refValue){setter(scope,null)}})}}}}];var ngRepeatDirective=["$parse","$animate","$compile",function($parse,$animate,$compile){var NG_REMOVED="$$NG_REMOVED";var ngRepeatMinErr=minErr("ngRepeat");var updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;if(keyIdentifier)scope[keyIdentifier]=key;scope.$index=index;scope.$first=index===0;scope.$last=index===arrayLength-1;scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=(index&1)===0)};var getBlockStart=function(block){return block.clone[0]};var getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat;var ngRepeatEndComment=$compile.$$createComment("end ngRepeat",expression);var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}var lhs=match[1];var rhs=match[2];var aliasAs=match[3];var trackByExp=match[4];match=lhs.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!match){throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs)}var valueIdentifier=match[3]||match[1];var keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs))){throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs)}var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn;var hashFnLocals={$id:hashKey};if(trackByExp){trackByExpGetter=$parse(trackByExp)}else{trackByIdArrayFn=function(key,value){return hashKey(value)};trackByIdObjFn=function(key){return key}}return function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){if(trackByExpGetter){trackByIdExpFn=function(key,value,index){if(keyIdentifier)hashFnLocals[keyIdentifier]=key;hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals)}}var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,previousNode=$element[0],nextNode,nextBlockMap=createMap(),collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove;if(aliasAs){$scope[aliasAs]=collection}if(isArrayLike(collection)){collectionKeys=collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(var itemKey in collection){if(hasOwnProperty.call(collection,itemKey)&&itemKey.charAt(0)!=="$"){collectionKeys.push(itemKey)}}}collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn(key,value,index);if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block}else if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){if(block&&block.scope)lastBlockMap[block.id]=block});throw ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value)}else{nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined};nextBlockMap[trackById]=true}}for(var blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode){for(index=0,length=elementsToRemove.length;index<length;index++){elementsToRemove[index][NG_REMOVED]=true}}block.scope.$destroy()}for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do{nextNode=nextNode.nextSibling}while(nextNode&&nextNode[NG_REMOVED]);if(getBlockStart(block)!==nextNode){$animate.move(getBlockNodes(block.clone),null,previousNode)}previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else{$transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(false);clone[clone.length++]=endNode;$animate.enter(clone,null,previousNode);previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)})}}lastBlockMap=nextBlockMap})}}}}];var NG_HIDE_CLASS="ng-hide";var NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate";var ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function ngStyleWatchAction(newStyles,oldStyles){if(oldStyles&&newStyles!==oldStyles){forEach(oldStyles,function(val,style){element.css(style,"")})}if(newStyles)element.css(newStyles)})});var ngSwitchDirective=["$animate","$compile",function($animate,$compile){return{require:"ngSwitch",controller:["$scope",function NgSwitchController(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[];var spliceFactory=function(array,index){return function(response){if(response!==false)array.splice(index,1)}};scope.$watch(watchExpr,function ngSwitchWatchAction(value){var i,ii;while(previousLeaveAnimations.length){$animate.cancel(previousLeaveAnimations.pop())}for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var runner=previousLeaveAnimations[i]=$animate.leave(selected);runner.done(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0;selectedScopes.length=0;if(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"]){forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment("end ngSwitchWhen");var block={clone:caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor)})})}})}}}];var ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attrs,ctrl,$transclude){var cases=attrs.ngSwitchWhen.split(attrs.ngSwitchWhenSeparator).sort().filter(function(element,index,array){return array[index-1]!==element});forEach(cases,function(whenCase){ctrl.cases["!"+whenCase]=ctrl.cases["!"+whenCase]||[];ctrl.cases["!"+whenCase].push({transclude:$transclude,element:element})})}});var ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[];ctrl.cases["?"].push({transclude:$transclude,element:element})}});var ngTranscludeMinErr=minErr("ngTransclude");var ngTranscludeDirective=["$compile",function($compile){return{restrict:"EAC",compile:function ngTranscludeCompile(tElement){var fallbackLinkFn=$compile(tElement.contents());tElement.empty();return function ngTranscludePostLink($scope,$element,$attrs,controller,$transclude){if(!$transclude){throw ngTranscludeMinErr("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",startingTag($element))}if($attrs.ngTransclude===$attrs.$attr.ngTransclude){$attrs.ngTransclude=""}var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName);if(slotName&&!$transclude.isSlotFilled(slotName)){useFallbackContent()}function ngTranscludeCloneAttachFn(clone,transcludedScope){if(clone.length&&notWhitespace(clone)){$element.append(clone)}else{useFallbackContent();transcludedScope.$destroy()}}function useFallbackContent(){fallbackLinkFn($scope,function(clone){$element.append(clone)})}function notWhitespace(nodes){for(var i=0,ii=nodes.length;i<ii;i++){var node=nodes[i];if(node.nodeType!==NODE_TYPE_TEXT||node.nodeValue.trim()){return true}}}}}}}];var scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:true,compile:function(element,attr){if(attr.type==="text/ng-template"){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}];var noopNgModelController={$setViewValue:noop,$render:noop};function setOptionSelectedStatus(optionEl,value){optionEl.prop("selected",value);optionEl.attr("selected",value)}var SelectController=["$element","$scope",function($element,$scope){var self=this,optionsMap=new NgMap;self.selectValueMap={};self.ngModelCtrl=noopNgModelController;self.multiple=false;self.unknownOption=jqLite(window.document.createElement("option"));self.hasEmptyOption=false;self.emptyOption=undefined;self.renderUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal);$element.prepend(self.unknownOption);setOptionSelectedStatus(self.unknownOption,true);$element.val(unknownVal)};self.updateUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal);setOptionSelectedStatus(self.unknownOption,true);$element.val(unknownVal)};self.generateUnknownOptionValue=function(val){return"? "+hashKey(val)+" ?"};self.removeUnknownOption=function(){if(self.unknownOption.parent())self.unknownOption.remove()};self.selectEmptyOption=function(){if(self.emptyOption){$element.val("");setOptionSelectedStatus(self.emptyOption,true)}};self.unselectEmptyOption=function(){if(self.hasEmptyOption){setOptionSelectedStatus(self.emptyOption,false)}};$scope.$on("$destroy",function(){self.renderUnknownOption=noop});self.readValue=function readSingleValue(){var val=$element.val();var realVal=val in self.selectValueMap?self.selectValueMap[val]:val;if(self.hasOption(realVal)){return realVal}return null};self.writeValue=function writeSingleValue(value){var currentlySelectedOption=$element[0].options[$element[0].selectedIndex];if(currentlySelectedOption)setOptionSelectedStatus(jqLite(currentlySelectedOption),false);if(self.hasOption(value)){self.removeUnknownOption();var hashedVal=hashKey(value);$element.val(hashedVal in self.selectValueMap?hashedVal:value);var selectedOption=$element[0].options[$element[0].selectedIndex];setOptionSelectedStatus(jqLite(selectedOption),true)}else{self.selectUnknownOrEmptyOption(value)}};self.addOption=function(value,element){if(element[0].nodeType===NODE_TYPE_COMMENT)return;assertNotHasOwnProperty(value,'"option value"');if(value===""){self.hasEmptyOption=true;self.emptyOption=element}var count=optionsMap.get(value)||0;optionsMap.set(value,count+1);scheduleRender()};self.removeOption=function(value){var count=optionsMap.get(value);if(count){if(count===1){optionsMap.delete(value);if(value===""){self.hasEmptyOption=false;self.emptyOption=undefined}}else{optionsMap.set(value,count-1)}}};self.hasOption=function(value){return!!optionsMap.get(value)};self.$hasEmptyOption=function(){return self.hasEmptyOption};self.$isUnknownOptionSelected=function(){return $element[0].options[0]===self.unknownOption[0]};self.$isEmptyOptionSelected=function(){return self.hasEmptyOption&&$element[0].options[$element[0].selectedIndex]===self.emptyOption[0]};self.selectUnknownOrEmptyOption=function(value){if(value==null&&self.emptyOption){self.removeUnknownOption();self.selectEmptyOption()}else if(self.unknownOption.parent().length){self.updateUnknownOption(value)}else{self.renderUnknownOption(value)}};var renderScheduled=false;function scheduleRender(){if(renderScheduled)return;renderScheduled=true;$scope.$$postDigest(function(){renderScheduled=false;self.ngModelCtrl.$render()})}var updateScheduled=false;function scheduleViewValueUpdate(renderAfter){if(updateScheduled)return;updateScheduled=true;$scope.$$postDigest(function(){if($scope.$$destroyed)return;updateScheduled=false;self.ngModelCtrl.$setViewValue(self.readValue());if(renderAfter)self.ngModelCtrl.$render()})}self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(optionAttrs.$attr.ngValue){var oldVal,hashedVal=NaN;optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){var removal;var previouslySelected=optionElement.prop("selected");if(isDefined(hashedVal)){self.removeOption(oldVal);delete self.selectValueMap[hashedVal];removal=true}hashedVal=hashKey(newVal);oldVal=newVal;self.selectValueMap[hashedVal]=newVal;self.addOption(newVal,optionElement);optionElement.attr("value",hashedVal);if(removal&&previouslySelected){scheduleViewValueUpdate()}})}else if(interpolateValueFn){optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){self.readValue();var removal;var previouslySelected=optionElement.prop("selected");if(isDefined(oldVal)){self.removeOption(oldVal);removal=true}oldVal=newVal;self.addOption(newVal,optionElement);if(removal&&previouslySelected){scheduleViewValueUpdate()}})}else if(interpolateTextFn){optionScope.$watch(interpolateTextFn,function interpolateWatchAction(newVal,oldVal){optionAttrs.$set("value",newVal);var previouslySelected=optionElement.prop("selected");if(oldVal!==newVal){self.removeOption(oldVal)}self.addOption(newVal,optionElement);if(oldVal&&previouslySelected){scheduleViewValueUpdate()}})}else{self.addOption(optionAttrs.value,optionElement)}optionAttrs.$observe("disabled",function(newVal){if(newVal==="true"||newVal&&optionElement.prop("selected")){if(self.multiple){scheduleViewValueUpdate(true)}else{self.ngModelCtrl.$setViewValue(null);self.ngModelCtrl.$render()}}});optionElement.on("$destroy",function(){var currentValue=self.readValue();var removeValue=optionAttrs.value;self.removeOption(removeValue);scheduleRender();if(self.multiple&&currentValue&&currentValue.indexOf(removeValue)!==-1||currentValue===removeValue){scheduleViewValueUpdate(true)}})}}];var selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}};function selectPreLink(scope,element,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];if(!ngModelCtrl){selectCtrl.registerOption=noop;return}selectCtrl.ngModelCtrl=ngModelCtrl;element.on("change",function(){selectCtrl.removeUnknownOption();scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})});if(attr.multiple){selectCtrl.multiple=true;selectCtrl.readValue=function readMultipleValue(){var array=[];forEach(element.find("option"),function(option){if(option.selected&&!option.disabled){var val=option.value;array.push(val in selectCtrl.selectValueMap?selectCtrl.selectValueMap[val]:val)}});return array};selectCtrl.writeValue=function writeMultipleValue(value){forEach(element.find("option"),function(option){var shouldBeSelected=!!value&&(includes(value,option.value)||includes(value,selectCtrl.selectValueMap[option.value]));var currentlySelected=option.selected;if(shouldBeSelected!==currentlySelected){setOptionSelectedStatus(jqLite(option),shouldBeSelected)}})};var lastView,lastViewRef=NaN;scope.$watch(function selectMultipleWatch(){if(lastViewRef===ngModelCtrl.$viewValue&&!equals(lastView,ngModelCtrl.$viewValue)){lastView=shallowCopy(ngModelCtrl.$viewValue);ngModelCtrl.$render()}lastViewRef=ngModelCtrl.$viewValue});ngModelCtrl.$isEmpty=function(value){return!value||value.length===0}}}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}};var optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){var interpolateValueFn,interpolateTextFn;if(isDefined(attr.ngValue)){}else if(isDefined(attr.value)){interpolateValueFn=$interpolate(attr.value,true)}else{interpolateTextFn=$interpolate(element.text(),true);if(!interpolateTextFn){attr.$set("value",element.text())}}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(selectCtrl){selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}}];var requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;attr.required=true;ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)};attr.$observe("required",function(){ctrl.$validate()})}}};var patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0){regex=new RegExp("^"+regex+"$")}if(regex&&!regex.test){throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm))}regexp=regex||undefined;ctrl.$validate()});ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}};var maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNumberNaN(intVal)?-1:intVal;ctrl.$validate()});ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}};var minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0;ctrl.$validate()});ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}};if(window.angular.bootstrap){if(window.console){console.log("WARNING: Tried to load AngularJS more than once.")}return}bindJQuery();publishExternalAPI(angular);angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function getDecimals(n){n=n+"";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;if(undefined===v){v=Math.min(getDecimals(n),3)}var base=Math.pow(10,v);var f=(n*base|0)%base;return{v:v,f:f}}$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,opt_precision){var i=n|0;var vf=getVF(n,opt_precision);if(i==1&&vf.v==0){return PLURAL_CATEGORY.ONE}return PLURAL_CATEGORY.OTHER}})}]);jqLite(function(){angularInit(window.document,bootstrap)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],130:[function(require,module,exports){require("./angular");module.exports=angular},{"./angular":129}],131:[function(require,module,exports){"use strict";var zlib=require("zlib");module.exports={gzip:function gzip(input,options){var promise=new Promise(function(resolve,reject){zlib.gzip(input,options,function(error,result){if(!error)resolve(result);else reject(Error(error))})});return promise},ungzip:function ungzip(input,options){var promise=new Promise(function(resolve,reject){zlib.gunzip(input,options,function(error,result){if(!error)resolve(result);else reject(Error(error))})});return promise}}},{zlib:8}]},{},[51]);
//# sourceMappingURL=script.js.map